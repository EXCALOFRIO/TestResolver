(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();function zp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zr={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function ev(){if(am)return Zo;am=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(a,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:n,type:a,key:m,ref:c!==void 0?c:null,props:d}}return Zo.Fragment=e,Zo.jsx=o,Zo.jsxs=o,Zo}var sm;function tv(){return sm||(sm=1,zr.exports=ev()),zr.exports}var A=tv(),Or={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function nv(){if(rm)return ge;rm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,H={};function z(x,q,Q){this.props=x,this.context=q,this.refs=H,this.updater=Q||M}z.prototype.isReactComponent={},z.prototype.setState=function(x,q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,q,"setState")},z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function J(){}J.prototype=z.prototype;function Y(x,q,Q){this.props=x,this.context=q,this.refs=H,this.updater=Q||M}var K=Y.prototype=new J;K.constructor=Y,L(K,z.prototype),K.isPureReactComponent=!0;var j=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function ie(x,q,Q,Z,se,me){return Q=me.ref,{$$typeof:n,type:x,key:q,ref:Q!==void 0?Q:null,props:me}}function he(x,q){return ie(x.type,q,void 0,void 0,void 0,x.props)}function ne(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function G(x){var q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Q){return q[Q]})}var F=/\/+/g;function X(x,q){return typeof x=="object"&&x!==null&&x.key!=null?G(""+x.key):q.toString(36)}function ue(){}function $(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ue,ue):(x.status="pending",x.then(function(q){x.status==="pending"&&(x.status="fulfilled",x.value=q)},function(q){x.status==="pending"&&(x.status="rejected",x.reason=q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function W(x,q,Q,Z,se){var me=typeof x;(me==="undefined"||me==="boolean")&&(x=null);var ce=!1;if(x===null)ce=!0;else switch(me){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(x.$$typeof){case n:case e:ce=!0;break;case v:return ce=x._init,W(ce(x._payload),q,Q,Z,se)}}if(ce)return se=se(x),ce=Z===""?"."+X(x,0):Z,j(se)?(Q="",ce!=null&&(Q=ce.replace(F,"$&/")+"/"),W(se,q,Q,"",function(nt){return nt})):se!=null&&(ne(se)&&(se=he(se,Q+(se.key==null||x&&x.key===se.key?"":(""+se.key).replace(F,"$&/")+"/")+ce)),q.push(se)),1;ce=0;var Pe=Z===""?".":Z+":";if(j(x))for(var Ee=0;Ee<x.length;Ee++)Z=x[Ee],me=Pe+X(Z,Ee),ce+=W(Z,q,Q,me,se);else if(Ee=S(x),typeof Ee=="function")for(x=Ee.call(x),Ee=0;!(Z=x.next()).done;)Z=Z.value,me=Pe+X(Z,Ee++),ce+=W(Z,q,Q,me,se);else if(me==="object"){if(typeof x.then=="function")return W($(x),q,Q,Z,se);throw q=String(x),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ce}function D(x,q,Q){if(x==null)return x;var Z=[],se=0;return W(x,Z,"","",function(me){return q.call(Q,me,se++)}),Z}function V(x){if(x._status===-1){var q=x._result;q=q(),q.then(function(Q){(x._status===0||x._status===-1)&&(x._status=1,x._result=Q)},function(Q){(x._status===0||x._status===-1)&&(x._status=2,x._result=Q)}),x._status===-1&&(x._status=0,x._result=q)}if(x._status===1)return x._result.default;throw x._result}var te=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function le(){}return ge.Children={map:D,forEach:function(x,q,Q){D(x,function(){q.apply(this,arguments)},Q)},count:function(x){var q=0;return D(x,function(){q++}),q},toArray:function(x){return D(x,function(q){return q})||[]},only:function(x){if(!ne(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ge.Component=z,ge.Fragment=o,ge.Profiler=c,ge.PureComponent=Y,ge.StrictMode=a,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ge.__COMPILER_RUNTIME={__proto__:null,c:function(x){return P.H.useMemoCache(x)}},ge.cache=function(x){return function(){return x.apply(null,arguments)}},ge.cloneElement=function(x,q,Q){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Z=L({},x.props),se=x.key,me=void 0;if(q!=null)for(ce in q.ref!==void 0&&(me=void 0),q.key!==void 0&&(se=""+q.key),q)!ee.call(q,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&q.ref===void 0||(Z[ce]=q[ce]);var ce=arguments.length-2;if(ce===1)Z.children=Q;else if(1<ce){for(var Pe=Array(ce),Ee=0;Ee<ce;Ee++)Pe[Ee]=arguments[Ee+2];Z.children=Pe}return ie(x.type,se,void 0,void 0,me,Z)},ge.createContext=function(x){return x={$$typeof:m,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},ge.createElement=function(x,q,Q){var Z,se={},me=null;if(q!=null)for(Z in q.key!==void 0&&(me=""+q.key),q)ee.call(q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(se[Z]=q[Z]);var ce=arguments.length-2;if(ce===1)se.children=Q;else if(1<ce){for(var Pe=Array(ce),Ee=0;Ee<ce;Ee++)Pe[Ee]=arguments[Ee+2];se.children=Pe}if(x&&x.defaultProps)for(Z in ce=x.defaultProps,ce)se[Z]===void 0&&(se[Z]=ce[Z]);return ie(x,me,void 0,void 0,null,se)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(x){return{$$typeof:g,render:x}},ge.isValidElement=ne,ge.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:V}},ge.memo=function(x,q){return{$$typeof:h,type:x,compare:q===void 0?null:q}},ge.startTransition=function(x){var q=P.T,Q={};P.T=Q;try{var Z=x(),se=P.S;se!==null&&se(Q,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(le,te)}catch(me){te(me)}finally{P.T=q}},ge.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ge.use=function(x){return P.H.use(x)},ge.useActionState=function(x,q,Q){return P.H.useActionState(x,q,Q)},ge.useCallback=function(x,q){return P.H.useCallback(x,q)},ge.useContext=function(x){return P.H.useContext(x)},ge.useDebugValue=function(){},ge.useDeferredValue=function(x,q){return P.H.useDeferredValue(x,q)},ge.useEffect=function(x,q,Q){var Z=P.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(x,q)},ge.useId=function(){return P.H.useId()},ge.useImperativeHandle=function(x,q,Q){return P.H.useImperativeHandle(x,q,Q)},ge.useInsertionEffect=function(x,q){return P.H.useInsertionEffect(x,q)},ge.useLayoutEffect=function(x,q){return P.H.useLayoutEffect(x,q)},ge.useMemo=function(x,q){return P.H.useMemo(x,q)},ge.useOptimistic=function(x,q){return P.H.useOptimistic(x,q)},ge.useReducer=function(x,q,Q){return P.H.useReducer(x,q,Q)},ge.useRef=function(x){return P.H.useRef(x)},ge.useState=function(x){return P.H.useState(x)},ge.useSyncExternalStore=function(x,q,Q){return P.H.useSyncExternalStore(x,q,Q)},ge.useTransition=function(){return P.H.useTransition()},ge.version="19.1.1",ge}var um;function su(){return um||(um=1,Or.exports=nv()),Or.exports}var Ne=su();const iv=zp(Ne);var Fr={exports:{}},$o={},Yr={exports:{}},Jr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function ov(){return cm||(cm=1,(function(n){function e(D,V){var te=D.length;D.push(V);e:for(;0<te;){var le=te-1>>>1,x=D[le];if(0<c(x,V))D[le]=V,D[te]=x,te=le;else break e}}function o(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var V=D[0],te=D.pop();if(te!==V){D[0]=te;e:for(var le=0,x=D.length,q=x>>>1;le<q;){var Q=2*(le+1)-1,Z=D[Q],se=Q+1,me=D[se];if(0>c(Z,te))se<x&&0>c(me,Z)?(D[le]=me,D[se]=te,le=se):(D[le]=Z,D[Q]=te,le=Q);else if(se<x&&0>c(me,te))D[le]=me,D[se]=te,le=se;else break e}}return V}function c(D,V){var te=D.sortIndex-V.sortIndex;return te!==0?te:D.id-V.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,C=null,S=3,M=!1,L=!1,H=!1,z=!1,J=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function j(D){for(var V=o(h);V!==null;){if(V.callback===null)a(h);else if(V.startTime<=D)a(h),V.sortIndex=V.expirationTime,e(y,V);else break;V=o(h)}}function P(D){if(H=!1,j(D),!L)if(o(y)!==null)L=!0,ee||(ee=!0,X());else{var V=o(h);V!==null&&W(P,V.startTime-D)}}var ee=!1,ie=-1,he=5,ne=-1;function G(){return z?!0:!(n.unstable_now()-ne<he)}function F(){if(z=!1,ee){var D=n.unstable_now();ne=D;var V=!0;try{e:{L=!1,H&&(H=!1,Y(ie),ie=-1),M=!0;var te=S;try{t:{for(j(D),C=o(y);C!==null&&!(C.expirationTime>D&&G());){var le=C.callback;if(typeof le=="function"){C.callback=null,S=C.priorityLevel;var x=le(C.expirationTime<=D);if(D=n.unstable_now(),typeof x=="function"){C.callback=x,j(D),V=!0;break t}C===o(y)&&a(y),j(D)}else a(y);C=o(y)}if(C!==null)V=!0;else{var q=o(h);q!==null&&W(P,q.startTime-D),V=!1}}break e}finally{C=null,S=te,M=!1}V=void 0}}finally{V?X():ee=!1}}}var X;if(typeof K=="function")X=function(){K(F)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,$=ue.port2;ue.port1.onmessage=F,X=function(){$.postMessage(null)}}else X=function(){J(F,0)};function W(D,V){ie=J(function(){D(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(D){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var te=S;S=V;try{return D()}finally{S=te}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(D,V){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var te=S;S=D;try{return V()}finally{S=te}},n.unstable_scheduleCallback=function(D,V,te){var le=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,D){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=te+x,D={id:v++,callback:V,priorityLevel:D,startTime:te,expirationTime:x,sortIndex:-1},te>le?(D.sortIndex=te,e(h,D),o(y)===null&&D===o(h)&&(H?(Y(ie),ie=-1):H=!0,W(P,te-le))):(D.sortIndex=x,e(y,D),L||M||(L=!0,ee||(ee=!0,X()))),D},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(D){var V=S;return function(){var te=S;S=V;try{return D.apply(this,arguments)}finally{S=te}}}})(Jr)),Jr}var fm;function lv(){return fm||(fm=1,Yr.exports=ov()),Yr.exports}var Kr={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function av(){if(dm)return lt;dm=1;var n=su();function e(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,h,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:y,containerInfo:h,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,lt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return d(y,h,null,v)},lt.flushSync=function(y){var h=m.T,v=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=h,a.p=v,a.d.f()}},lt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},lt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},lt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,C=g(v,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:C,integrity:S,fetchPriority:M}):v==="script"&&a.d.X(y,{crossOrigin:C,integrity:S,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},lt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},lt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,C=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:C,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},lt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},lt.requestFormReset=function(y){a.d.r(y)},lt.unstable_batchedUpdates=function(y,h){return y(h)},lt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},lt.useFormStatus=function(){return m.H.useHostTransitionStatus()},lt.version="19.1.1",lt}var mm;function sv(){if(mm)return Kr.exports;mm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kr.exports=av(),Kr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function rv(){if(pm)return $o;pm=1;var n=lv(),e=su(),o=sv();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(d(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(a(188));return i!==t?null:t}for(var l=t,u=i;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return g(f),t;if(p===u)return g(f),i;p=p.sibling}throw Error(a(188))}if(l.return!==u.return)l=f,u=p;else{for(var T=!1,E=f.child;E;){if(E===l){T=!0,l=f,u=p;break}if(E===u){T=!0,u=f,l=p;break}E=E.sibling}if(!T){for(E=p.child;E;){if(E===l){T=!0,l=p,u=f;break}if(E===u){T=!0,u=p,l=f;break}E=E.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==u)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?t:i}function h(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=h(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),K=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function X(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ue?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case z:return"Profiler";case H:return"StrictMode";case P:return"Suspense";case ee:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case K:return(t.displayName||"Context")+".Provider";case Y:return(t._context.displayName||"Context")+".Consumer";case j:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ie:return i=t.displayName||null,i!==null?i:$(t.type)||"Memo";case he:i=t._payload,t=t._init;try{return $(t(i))}catch{}}return null}var W=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},le=[],x=-1;function q(t){return{current:t}}function Q(t){0>x||(t.current=le[x],le[x]=null,x--)}function Z(t,i){x++,le[x]=t.current,t.current=i}var se=q(null),me=q(null),ce=q(null),Pe=q(null);function Ee(t,i){switch(Z(ce,i),Z(me,t),Z(se,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Ld(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Ld(i),t=Vd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(se),Z(se,t)}function nt(){Q(se),Q(me),Q(ce)}function un(t){t.memoizedState!==null&&Z(Pe,t);var i=se.current,l=Vd(i,t.type);i!==l&&(Z(me,t),Z(se,l))}function Ot(t){me.current===t&&(Q(se),Q(me)),Pe.current===t&&(Q(Pe),Yo._currentValue=te)}var cn=Object.prototype.hasOwnProperty,ni=n.unstable_scheduleCallback,ii=n.unstable_cancelCallback,bh=n.unstable_shouldYield,wh=n.unstable_requestPaint,qt=n.unstable_now,Lh=n.unstable_getCurrentPriorityLevel,mu=n.unstable_ImmediatePriority,pu=n.unstable_UserBlockingPriority,nl=n.unstable_NormalPriority,Vh=n.unstable_LowPriority,hu=n.unstable_IdlePriority,qh=n.log,Gh=n.unstable_setDisableYieldValue,Wi=null,pt=null;function fn(t){if(typeof qh=="function"&&Gh(t),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Wi,t)}catch{}}var ht=Math.clz32?Math.clz32:Ph,Hh=Math.log,kh=Math.LN2;function Ph(t){return t>>>=0,t===0?32:31-(Hh(t)/kh|0)|0}var il=256,ol=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ll(t,i,l){var u=t.pendingLanes;if(u===0)return 0;var f=0,p=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~p,u!==0?f=Vn(u):(T&=E,T!==0?f=Vn(T):l||(l=E&~t,l!==0&&(f=Vn(l))))):(E=u&~p,E!==0?f=Vn(E):T!==0?f=Vn(T):l||(l=u&~t,l!==0&&(f=Vn(l)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,l=i&-i,p>=l||p===32&&(l&4194048)!==0)?i:f}function ji(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Bh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var t=il;return il<<=1,(il&4194048)===0&&(il=256),t}function yu(){var t=ol;return ol<<=1,(ol&62914560)===0&&(ol=4194304),t}function Ia(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function eo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zh(t,i,l,u,f,p){var T=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var E=t.entanglements,_=t.expirationTimes,I=t.hiddenUpdates;for(l=T&~l;0<l;){var k=31-ht(l),O=1<<k;E[k]=0,_[k]=-1;var b=I[k];if(b!==null)for(I[k]=null,k=0;k<b.length;k++){var w=b[k];w!==null&&(w.lane&=-536870913)}l&=~O}u!==0&&vu(t,u,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(T&~i))}function vu(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-ht(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|l&4194090}function Tu(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var u=31-ht(l),f=1<<u;f&i|t[u]&i&&(t[u]|=i),l&=~f}}function ba(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:em(t.type))}function Oh(t,i){var l=V.p;try{return V.p=t,i()}finally{V.p=l}}var dn=Math.random().toString(36).slice(2),it="__reactFiber$"+dn,ut="__reactProps$"+dn,oi="__reactContainer$"+dn,La="__reactEvents$"+dn,Fh="__reactListeners$"+dn,Yh="__reactHandles$"+dn,Su="__reactResources$"+dn,to="__reactMarker$"+dn;function Va(t){delete t[it],delete t[ut],delete t[La],delete t[Fh],delete t[Yh]}function li(t){var i=t[it];if(i)return i;for(var l=t.parentNode;l;){if(i=l[oi]||l[it]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=kd(t);t!==null;){if(l=t[it])return l;t=kd(t)}return i}t=l,l=t.parentNode}return null}function ai(t){if(t=t[it]||t[oi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function no(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function si(t){var i=t[Su];return i||(i=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Xe(t){t[to]=!0}var Eu=new Set,Au={};function qn(t,i){ri(t,i),ri(t+"Capture",i)}function ri(t,i){for(Au[t]=i,t=0;t<i.length;t++)Eu.add(i[t])}var Jh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xu={},_u={};function Kh(t){return cn.call(_u,t)?!0:cn.call(xu,t)?!1:Jh.test(t)?_u[t]=!0:(xu[t]=!0,!1)}function al(t,i,l){if(Kh(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function sl(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function Ft(t,i,l,u){if(u===null)t.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+u)}}var qa,Mu;function ui(t){if(qa===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);qa=i&&i[1]||"",Mu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+t+Mu}var Ga=!1;function Ha(t,i){if(!t||Ga)return"";Ga=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(w){var b=w}Reflect.construct(t,[],O)}else{try{O.call()}catch(w){b=w}t.call(O.prototype)}}else{try{throw Error()}catch(w){b=w}(O=t())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(w){if(w&&b&&typeof w.stack=="string")return[w.stack,b.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],E=p[1];if(T&&E){var _=T.split(`
`),I=E.split(`
`);for(f=u=0;u<_.length&&!_[u].includes("DetermineComponentFrameRoot");)u++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(u===_.length||f===I.length)for(u=_.length-1,f=I.length-1;1<=u&&0<=f&&_[u]!==I[f];)f--;for(;1<=u&&0<=f;u--,f--)if(_[u]!==I[f]){if(u!==1||f!==1)do if(u--,f--,0>f||_[u]!==I[f]){var k=`
`+_[u].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=u&&0<=f);break}}}finally{Ga=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?ui(l):""}function Qh(t){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Ha(t.type,!1);case 11:return Ha(t.type.render,!1);case 1:return Ha(t.type,!0);case 31:return ui("Activity");default:return""}}function Ru(t){try{var i="";do i+=Qh(t),t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function At(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xh(t){var i=Nu(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,p.call(this,T)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function rl(t){t._valueTracker||(t._valueTracker=Xh(t))}function Du(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return t&&(u=Nu(t)?t.checked?"true":"false":t.value),t=u,t!==l?(i.setValue(t),!0):!1}function ul(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zh=/[\n"\\]/g;function xt(t){return t.replace(Zh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ka(t,i,l,u,f,p,T,E){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+At(i)):t.value!==""+At(i)&&(t.value=""+At(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Pa(t,T,At(i)):l!=null?Pa(t,T,At(l)):u!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+At(E):t.removeAttribute("name")}function Uu(t,i,l,u,f,p,T,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;l=l!=null?""+At(l):"",i=i!=null?""+At(i):l,E||i===t.value||(t.value=i),t.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Pa(t,i,l){i==="number"&&ul(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function ci(t,i,l,u){if(t=t.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<t.length;l++)f=i.hasOwnProperty("$"+t[l].value),t[l].selected!==f&&(t[l].selected=f),f&&u&&(t[l].defaultSelected=!0)}else{for(l=""+At(l),i=null,f=0;f<t.length;f++){if(t[f].value===l){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Iu(t,i,l){if(i!=null&&(i=""+At(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+At(l):""}function bu(t,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(a(92));if(W(u)){if(1<u.length)throw Error(a(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=At(i),t.defaultValue=l,u=t.textContent,u===l&&u!==""&&u!==null&&(t.value=u)}function fi(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var $h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(t,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,l):typeof l!="number"||l===0||$h.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function Lu(t,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&l[f]!==u&&wu(t,f,u)}else for(var p in i)i.hasOwnProperty(p)&&wu(t,p,i[p])}function Ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cl(t){return jh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var za=null;function Oa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function Vu(t){var i=ai(t);if(i&&(t=i.stateNode)){var l=t[ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(ka(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xt(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==t&&u.form===t.form){var f=u[ut]||null;if(!f)throw Error(a(90));ka(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===t.form&&Du(u)}break e;case"textarea":Iu(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ci(t,!!l.multiple,i,!1)}}}var Fa=!1;function qu(t,i,l){if(Fa)return t(i,l);Fa=!0;try{var u=t(i);return u}finally{if(Fa=!1,(di!==null||mi!==null)&&(Xl(),di&&(i=di,t=mi,mi=di=null,Vu(i),t)))for(i=0;i<t.length;i++)Vu(t[i])}}function io(t,i){var l=t.stateNode;if(l===null)return null;var u=l[ut]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=!1;if(Yt)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Ya=!1}var mn=null,Ja=null,fl=null;function Gu(){if(fl)return fl;var t,i=Ja,l=i.length,u,f="value"in mn?mn.value:mn.textContent,p=f.length;for(t=0;t<l&&i[t]===f[t];t++);var T=l-t;for(u=1;u<=T&&i[l-u]===f[p-u];u++);return fl=f.slice(t,1<u?1-u:void 0)}function dl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ml(){return!0}function Hu(){return!1}function ct(t){function i(l,u,f,p,T){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(l=t[E],this[E]=l?l(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ml:Hu,this.isPropagationStopped=Hu,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),i}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=ct(Gn),lo=v({},Gn,{view:0,detail:0}),eg=ct(lo),Ka,Qa,ao,hl=v({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(Ka=t.screenX-ao.screenX,Qa=t.screenY-ao.screenY):Qa=Ka=0,ao=t),Ka)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),ku=ct(hl),tg=v({},hl,{dataTransfer:0}),ng=ct(tg),ig=v({},lo,{relatedTarget:0}),Xa=ct(ig),og=v({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),lg=ct(og),ag=v({},Gn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sg=ct(ag),rg=v({},Gn,{data:0}),Pu=ct(rg),ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=fg[t])?!!i[t]:!1}function Za(){return dg}var mg=v({},lo,{key:function(t){if(t.key){var i=ug[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=dl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(t){return t.type==="keypress"?dl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pg=ct(mg),hg=v({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=ct(hg),gg=v({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),yg=ct(gg),vg=v({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tg=ct(vg),Cg=v({},hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sg=ct(Cg),Eg=v({},Gn,{newState:0,oldState:0}),Ag=ct(Eg),xg=[9,13,27,32],$a=Yt&&"CompositionEvent"in window,so=null;Yt&&"documentMode"in document&&(so=document.documentMode);var _g=Yt&&"TextEvent"in window&&!so,zu=Yt&&(!$a||so&&8<so&&11>=so),Ou=" ",Fu=!1;function Yu(t,i){switch(t){case"keyup":return xg.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function Mg(t,i){switch(t){case"compositionend":return Ju(i);case"keypress":return i.which!==32?null:(Fu=!0,Ou);case"textInput":return t=i.data,t===Ou&&Fu?null:t;default:return null}}function Rg(t,i){if(pi)return t==="compositionend"||!$a&&Yu(t,i)?(t=Gu(),fl=Ja=mn=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return zu&&i.locale!=="ko"?null:i.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ku(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ng[t.type]:i==="textarea"}function Qu(t,i,l,u){di?mi?mi.push(u):mi=[u]:di=u,i=ta(i,"onChange"),0<i.length&&(l=new pl("onChange","change",null,l,u),t.push({event:l,listeners:i}))}var ro=null,uo=null;function Dg(t){Dd(t,0)}function gl(t){var i=no(t);if(Du(i))return t}function Xu(t,i){if(t==="change")return i}var Zu=!1;if(Yt){var Wa;if(Yt){var ja="oninput"in document;if(!ja){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),ja=typeof $u.oninput=="function"}Wa=ja}else Wa=!1;Zu=Wa&&(!document.documentMode||9<document.documentMode)}function Wu(){ro&&(ro.detachEvent("onpropertychange",ju),uo=ro=null)}function ju(t){if(t.propertyName==="value"&&gl(uo)){var i=[];Qu(i,uo,t,Oa(t)),qu(Dg,i)}}function Ug(t,i,l){t==="focusin"?(Wu(),ro=i,uo=l,ro.attachEvent("onpropertychange",ju)):t==="focusout"&&Wu()}function Ig(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gl(uo)}function bg(t,i){if(t==="click")return gl(i)}function wg(t,i){if(t==="input"||t==="change")return gl(i)}function Lg(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gt=typeof Object.is=="function"?Object.is:Lg;function co(t,i){if(gt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!cn.call(i,f)||!gt(t[f],i[f]))return!1}return!0}function ec(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tc(t,i){var l=ec(t);t=0;for(var u;l;){if(l.nodeType===3){if(u=t+l.textContent.length,t<=i&&u>=i)return{node:l,offset:i-t};t=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ec(l)}}function nc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?nc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ic(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ul(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=ul(t.document)}return i}function es(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Vg=Yt&&"documentMode"in document&&11>=document.documentMode,hi=null,ts=null,fo=null,ns=!1;function oc(t,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ns||hi==null||hi!==ul(u)||(u=hi,"selectionStart"in u&&es(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fo&&co(fo,u)||(fo=u,u=ta(ts,"onSelect"),0<u.length&&(i=new pl("onSelect","select",null,i,l),t.push({event:i,listeners:u}),i.target=hi)))}function Hn(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var gi={animationend:Hn("Animation","AnimationEnd"),animationiteration:Hn("Animation","AnimationIteration"),animationstart:Hn("Animation","AnimationStart"),transitionrun:Hn("Transition","TransitionRun"),transitionstart:Hn("Transition","TransitionStart"),transitioncancel:Hn("Transition","TransitionCancel"),transitionend:Hn("Transition","TransitionEnd")},is={},lc={};Yt&&(lc=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function kn(t){if(is[t])return is[t];if(!gi[t])return t;var i=gi[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in lc)return is[t]=i[l];return t}var ac=kn("animationend"),sc=kn("animationiteration"),rc=kn("animationstart"),qg=kn("transitionrun"),Gg=kn("transitionstart"),Hg=kn("transitioncancel"),uc=kn("transitionend"),cc=new Map,os="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");os.push("scrollEnd");function wt(t,i){cc.set(t,i),qn(i,[t])}var fc=new WeakMap;function _t(t,i){if(typeof t=="object"&&t!==null){var l=fc.get(t);return l!==void 0?l:(i={value:t,source:i,stack:Ru(i)},fc.set(t,i),i)}return{value:t,source:i,stack:Ru(i)}}var Mt=[],yi=0,ls=0;function yl(){for(var t=yi,i=ls=yi=0;i<t;){var l=Mt[i];Mt[i++]=null;var u=Mt[i];Mt[i++]=null;var f=Mt[i];Mt[i++]=null;var p=Mt[i];if(Mt[i++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}p!==0&&dc(l,f,p)}}function vl(t,i,l,u){Mt[yi++]=t,Mt[yi++]=i,Mt[yi++]=l,Mt[yi++]=u,ls|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function as(t,i,l,u){return vl(t,i,l,u),Tl(t)}function vi(t,i){return vl(t,null,null,i),Tl(t)}function dc(t,i,l){t.lanes|=l;var u=t.alternate;u!==null&&(u.lanes|=l);for(var f=!1,p=t.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&i!==null&&(f=31-ht(l),t=p.hiddenUpdates,u=t[f],u===null?t[f]=[i]:u.push(i),i.lane=l|536870912),p):null}function Tl(t){if(50<Go)throw Go=0,dr=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ti={};function kg(t,i,l,u){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,i,l,u){return new kg(t,i,l,u)}function ss(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jt(t,i){var l=t.alternate;return l===null?(l=yt(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function mc(t,i){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Cl(t,i,l,u,f,p){var T=0;if(u=t,typeof t=="function")ss(t)&&(T=1);else if(typeof t=="string")T=By(t,l,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=yt(31,l,i,f),t.elementType=ne,t.lanes=p,t;case L:return Pn(l.children,f,p,i);case H:T=8,f|=24;break;case z:return t=yt(12,l,i,f|2),t.elementType=z,t.lanes=p,t;case P:return t=yt(13,l,i,f),t.elementType=P,t.lanes=p,t;case ee:return t=yt(19,l,i,f),t.elementType=ee,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case K:T=10;break e;case Y:T=9;break e;case j:T=11;break e;case ie:T=14;break e;case he:T=16,u=null;break e}T=29,l=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=yt(T,l,i,f),i.elementType=t,i.type=u,i.lanes=p,i}function Pn(t,i,l,u){return t=yt(7,t,u,i),t.lanes=l,t}function rs(t,i,l){return t=yt(6,t,null,i),t.lanes=l,t}function us(t,i,l){return i=yt(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ci=[],Si=0,Sl=null,El=0,Rt=[],Nt=0,Bn=null,Kt=1,Qt="";function zn(t,i){Ci[Si++]=El,Ci[Si++]=Sl,Sl=t,El=i}function pc(t,i,l){Rt[Nt++]=Kt,Rt[Nt++]=Qt,Rt[Nt++]=Bn,Bn=t;var u=Kt;t=Qt;var f=32-ht(u)-1;u&=~(1<<f),l+=1;var p=32-ht(i)+f;if(30<p){var T=f-f%5;p=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Kt=1<<32-ht(i)+f|l<<f|u,Qt=p+t}else Kt=1<<p|l<<f|u,Qt=t}function cs(t){t.return!==null&&(zn(t,1),pc(t,1,0))}function fs(t){for(;t===Sl;)Sl=Ci[--Si],Ci[Si]=null,El=Ci[--Si],Ci[Si]=null;for(;t===Bn;)Bn=Rt[--Nt],Rt[Nt]=null,Qt=Rt[--Nt],Rt[Nt]=null,Kt=Rt[--Nt],Rt[Nt]=null}var rt=null,Ge=null,xe=!1,On=null,Gt=!1,ds=Error(a(519));function Fn(t){var i=Error(a(418,""));throw ho(_t(i,t)),ds}function hc(t){var i=t.stateNode,l=t.type,u=t.memoizedProps;switch(i[it]=t,i[ut]=u,l){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(l=0;l<ko.length;l++)Ce(ko[l],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),Uu(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),rl(i);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),bu(i,u.value,u.defaultValue,u.children),rl(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||wd(i.textContent,l)?(u.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),u.onScroll!=null&&Ce("scroll",i),u.onScrollEnd!=null&&Ce("scrollend",i),u.onClick!=null&&(i.onclick=na),i=!0):i=!1,i||Fn(t)}function gc(t){for(rt=t.return;rt;)switch(rt.tag){case 5:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:rt=rt.return}}function mo(t){if(t!==rt)return!1;if(!xe)return gc(t),xe=!0,!1;var i=t.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||Nr(t.type,t.memoizedProps)),l=!l),l&&Ge&&Fn(t),gc(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(i===0){Ge=Vt(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;t=t.nextSibling}Ge=null}}else i===27?(i=Ge,Dn(t.type)?(t=br,br=null,Ge=t):Ge=i):Ge=rt?Vt(t.stateNode.nextSibling):null;return!0}function po(){Ge=rt=null,xe=!1}function yc(){var t=On;return t!==null&&(mt===null?mt=t:mt.push.apply(mt,t),On=null),t}function ho(t){On===null?On=[t]:On.push(t)}var ms=q(null),Yn=null,Xt=null;function pn(t,i,l){Z(ms,i._currentValue),i._currentValue=l}function Zt(t){t._currentValue=ms.current,Q(ms)}function ps(t,i,l){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===l)break;t=t.return}}function hs(t,i,l,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=f;for(var _=0;_<i.length;_++)if(E.context===i[_]){p.lanes|=l,E=p.alternate,E!==null&&(E.lanes|=l),ps(p.return,l,t),u||(T=null);break e}p=E.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),ps(T,l,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function go(t,i,l,u){t=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var E=f.type;gt(f.pendingProps.value,T.value)||(t!==null?t.push(E):t=[E])}}else if(f===Pe.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Yo):t=[Yo])}f=f.return}t!==null&&hs(i,t,l,u),i.flags|=262144}function Al(t){for(t=t.firstContext;t!==null;){if(!gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jn(t){Yn=t,Xt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ot(t){return vc(Yn,t)}function xl(t,i){return Yn===null&&Jn(t),vc(t,i)}function vc(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Xt===null){if(t===null)throw Error(a(308));Xt=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xt=Xt.next=i;return l}var Pg=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},Bg=n.unstable_scheduleCallback,zg=n.unstable_NormalPriority,Ke={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gs(){return{controller:new Pg,data:new Map,refCount:0}}function yo(t){t.refCount--,t.refCount===0&&Bg(zg,function(){t.controller.abort()})}var vo=null,ys=0,Ei=0,Ai=null;function Og(t,i){if(vo===null){var l=vo=[];ys=0,Ei=Tr(),Ai={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ys++,i.then(Tc,Tc),i}function Tc(){if(--ys===0&&vo!==null){Ai!==null&&(Ai.status="fulfilled");var t=vo;vo=null,Ei=0,Ai=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Fg(t,i){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var Cc=D.S;D.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Og(t,i),Cc!==null&&Cc(t,i)};var Kn=q(null);function vs(){var t=Kn.current;return t!==null?t:we.pooledCache}function _l(t,i){i===null?Z(Kn,Kn.current):Z(Kn,i.pool)}function Sc(){var t=vs();return t===null?null:{parent:Ke._currentValue,pool:t}}var To=Error(a(460)),Ec=Error(a(474)),Ml=Error(a(542)),Ts={then:function(){}};function Ac(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rl(){}function xc(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(Rl,Rl),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Mc(t),t;default:if(typeof i.status=="string")i.then(Rl,Rl);else{if(t=we,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Mc(t),t}throw Co=i,To}}var Co=null;function _c(){if(Co===null)throw Error(a(459));var t=Co;return Co=null,t}function Mc(t){if(t===To||t===Ml)throw Error(a(483))}var hn=!1;function Cs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ss(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yn(t,i,l){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Me&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Tl(t),dc(t,null,l),i}return vl(t,u,i,l),Tl(t)}function So(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,l|=u,i.lanes=l,Tu(t,l)}}function Es(t,i){var l=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?f=p=i:p=p.next=i}else f=p=i;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var As=!1;function Eo(){if(As){var t=Ai;if(t!==null)throw t}}function Ao(t,i,l,u){As=!1;var f=t.updateQueue;hn=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var _=E,I=_.next;_.next=null,T===null?p=I:T.next=I,T=_;var k=t.alternate;k!==null&&(k=k.updateQueue,E=k.lastBaseUpdate,E!==T&&(E===null?k.firstBaseUpdate=I:E.next=I,k.lastBaseUpdate=_))}if(p!==null){var O=f.baseState;T=0,k=I=_=null,E=p;do{var b=E.lane&-536870913,w=b!==E.lane;if(w?(Se&b)===b:(u&b)===b){b!==0&&b===Ei&&(As=!0),k!==null&&(k=k.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=t,fe=E;b=i;var Ie=l;switch(fe.tag){case 1:if(pe=fe.payload,typeof pe=="function"){O=pe.call(Ie,O,b);break e}O=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=fe.payload,b=typeof pe=="function"?pe.call(Ie,O,b):pe,b==null)break e;O=v({},O,b);break e;case 2:hn=!0}}b=E.callback,b!==null&&(t.flags|=64,w&&(t.flags|=8192),w=f.callbacks,w===null?f.callbacks=[b]:w.push(b))}else w={lane:b,tag:E.tag,payload:E.payload,callback:E.callback,next:null},k===null?(I=k=w,_=O):k=k.next=w,T|=b;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;w=E,E=w.next,w.next=null,f.lastBaseUpdate=w,f.shared.pending=null}}while(!0);k===null&&(_=O),f.baseState=_,f.firstBaseUpdate=I,f.lastBaseUpdate=k,p===null&&(f.shared.lanes=0),_n|=T,t.lanes=T,t.memoizedState=O}}function Rc(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Nc(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Rc(l[t],i)}var xi=q(null),Nl=q(0);function Dc(t,i){t=on,Z(Nl,t),Z(xi,i),on=t|i.baseLanes}function xs(){Z(Nl,on),Z(xi,xi.current)}function _s(){on=Nl.current,Q(xi),Q(Nl)}var vn=0,ye=null,De=null,Fe=null,Dl=!1,_i=!1,Qn=!1,Ul=0,xo=0,Mi=null,Yg=0;function Be(){throw Error(a(321))}function Ms(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!gt(t[l],i[l]))return!1;return!0}function Rs(t,i,l,u,f,p){return vn=p,ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,D.H=t===null||t.memoizedState===null?mf:pf,Qn=!1,p=l(u,f),Qn=!1,_i&&(p=Ic(i,l,u,f)),Uc(t),p}function Uc(t){D.H=ql;var i=De!==null&&De.next!==null;if(vn=0,Fe=De=ye=null,Dl=!1,xo=0,Mi=null,i)throw Error(a(300));t===null||Ze||(t=t.dependencies,t!==null&&Al(t)&&(Ze=!0))}function Ic(t,i,l,u){ye=t;var f=0;do{if(_i&&(Mi=null),xo=0,_i=!1,25<=f)throw Error(a(301));if(f+=1,Fe=De=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}D.H=Wg,p=i(l,u)}while(_i);return p}function Jg(){var t=D.H,i=t.useState()[0];return i=typeof i.then=="function"?_o(i):i,t=t.useState()[0],(De!==null?De.memoizedState:null)!==t&&(ye.flags|=1024),i}function Ns(){var t=Ul!==0;return Ul=0,t}function Ds(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function Us(t){if(Dl){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Dl=!1}vn=0,Fe=De=ye=null,_i=!1,xo=Ul=0,Mi=null}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ye.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Ye(){if(De===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var i=Fe===null?ye.memoizedState:Fe.next;if(i!==null)Fe=i,De=t;else{if(t===null)throw ye.alternate===null?Error(a(467)):Error(a(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?ye.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function Is(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(t){var i=xo;return xo+=1,Mi===null&&(Mi=[]),t=xc(Mi,t,i),i=ye,(Fe===null?i.memoizedState:Fe.next)===null&&(i=i.alternate,D.H=i===null||i.memoizedState===null?mf:pf),t}function Il(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _o(t);if(t.$$typeof===K)return ot(t)}throw Error(a(438,String(t)))}function bs(t){var i=null,l=ye.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=ye.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Is(),ye.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),u=0;u<t;u++)l[u]=G;return i.index++,l}function $t(t,i){return typeof i=="function"?i(t):i}function bl(t){var i=Ye();return ws(i,De,t)}function ws(t,i,l){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=l;var f=t.baseQueue,p=u.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}i.baseQueue=f=p,u.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{i=f.next;var E=T=null,_=null,I=i,k=!1;do{var O=I.lane&-536870913;if(O!==I.lane?(Se&O)===O:(vn&O)===O){var b=I.revertLane;if(b===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),O===Ei&&(k=!0);else if((vn&b)===b){I=I.next,b===Ei&&(k=!0);continue}else O={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},_===null?(E=_=O,T=p):_=_.next=O,ye.lanes|=b,_n|=b;O=I.action,Qn&&l(p,O),p=I.hasEagerState?I.eagerState:l(p,O)}else b={lane:O,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},_===null?(E=_=b,T=p):_=_.next=b,ye.lanes|=O,_n|=O;I=I.next}while(I!==null&&I!==i);if(_===null?T=p:_.next=E,!gt(p,t.memoizedState)&&(Ze=!0,k&&(l=Ai,l!==null)))throw l;t.memoizedState=p,t.baseState=T,t.baseQueue=_,u.lastRenderedState=p}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Ls(t){var i=Ye(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=t;var u=l.dispatch,f=l.pending,p=i.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do p=t(p,T.action),T=T.next;while(T!==f);gt(p,i.memoizedState)||(Ze=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),l.lastRenderedState=p}return[p,u]}function bc(t,i,l){var u=ye,f=Ye(),p=xe;if(p){if(l===void 0)throw Error(a(407));l=l()}else l=i();var T=!gt((De||f).memoizedState,l);T&&(f.memoizedState=l,Ze=!0),f=f.queue;var E=Vc.bind(null,u,f,t);if(Mo(2048,8,E,[t]),f.getSnapshot!==i||T||Fe!==null&&Fe.memoizedState.tag&1){if(u.flags|=2048,Ri(9,wl(),Lc.bind(null,u,f,l,i),null),we===null)throw Error(a(349));p||(vn&124)!==0||wc(u,i,l)}return l}function wc(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=ye.updateQueue,i===null?(i=Is(),ye.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function Lc(t,i,l,u){i.value=l,i.getSnapshot=u,qc(i)&&Gc(t)}function Vc(t,i,l){return l(function(){qc(i)&&Gc(t)})}function qc(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!gt(t,l)}catch{return!0}}function Gc(t){var i=vi(t,2);i!==null&&Et(i,t,2)}function Vs(t){var i=ft();if(typeof t=="function"){var l=t;if(t=l(),Qn){fn(!0);try{l()}finally{fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:t},i}function Hc(t,i,l,u){return t.baseState=l,ws(t,De,typeof u=="function"?u:$t)}function Kg(t,i,l,u,f){if(Vl(t))throw Error(a(485));if(t=i.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};D.T!==null?l(!0):p.isTransition=!1,u(p),l=i.pending,l===null?(p.next=i.pending=p,kc(i,p)):(p.next=l.next,i.pending=l.next=p)}}function kc(t,i){var l=i.action,u=i.payload,f=t.state;if(i.isTransition){var p=D.T,T={};D.T=T;try{var E=l(f,u),_=D.S;_!==null&&_(T,E),Pc(t,i,E)}catch(I){qs(t,i,I)}finally{D.T=p}}else try{p=l(f,u),Pc(t,i,p)}catch(I){qs(t,i,I)}}function Pc(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Bc(t,i,u)},function(u){return qs(t,i,u)}):Bc(t,i,l)}function Bc(t,i,l){i.status="fulfilled",i.value=l,zc(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,kc(t,l)))}function qs(t,i,l){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,zc(i),i=i.next;while(i!==u)}t.action=null}function zc(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Oc(t,i){return i}function Fc(t,i){if(xe){var l=we.formState;if(l!==null){e:{var u=ye;if(xe){if(Ge){t:{for(var f=Ge,p=Gt;f.nodeType!==8;){if(!p){f=null;break t}if(f=Vt(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Ge=Vt(f.nextSibling),u=f.data==="F!";break e}}Fn(u)}u=!1}u&&(i=l[0])}}return l=ft(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:i},l.queue=u,l=cf.bind(null,ye,u),u.dispatch=l,u=Vs(!1),p=Bs.bind(null,ye,!1,u.queue),u=ft(),f={state:i,dispatch:null,action:t,pending:null},u.queue=f,l=Kg.bind(null,ye,f,p,l),f.dispatch=l,u.memoizedState=t,[i,l,!1]}function Yc(t){var i=Ye();return Jc(i,De,t)}function Jc(t,i,l){if(i=ws(t,i,Oc)[0],t=bl($t)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=_o(i)}catch(T){throw T===To?Ml:T}else u=i;i=Ye();var f=i.queue,p=f.dispatch;return l!==i.memoizedState&&(ye.flags|=2048,Ri(9,wl(),Qg.bind(null,f,l),null)),[u,p,t]}function Qg(t,i){t.action=i}function Kc(t){var i=Ye(),l=De;if(l!==null)return Jc(i,l,t);Ye(),i=i.memoizedState,l=Ye();var u=l.queue.dispatch;return l.memoizedState=t,[i,u,!1]}function Ri(t,i,l,u){return t={tag:t,create:l,deps:u,inst:i,next:null},i=ye.updateQueue,i===null&&(i=Is(),ye.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(u=l.next,l.next=t,t.next=u,i.lastEffect=t),t}function wl(){return{destroy:void 0,resource:void 0}}function Qc(){return Ye().memoizedState}function Ll(t,i,l,u){var f=ft();u=u===void 0?null:u,ye.flags|=t,f.memoizedState=Ri(1|i,wl(),l,u)}function Mo(t,i,l,u){var f=Ye();u=u===void 0?null:u;var p=f.memoizedState.inst;De!==null&&u!==null&&Ms(u,De.memoizedState.deps)?f.memoizedState=Ri(i,p,l,u):(ye.flags|=t,f.memoizedState=Ri(1|i,p,l,u))}function Xc(t,i){Ll(8390656,8,t,i)}function Zc(t,i){Mo(2048,8,t,i)}function $c(t,i){return Mo(4,2,t,i)}function Wc(t,i){return Mo(4,4,t,i)}function jc(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ef(t,i,l){l=l!=null?l.concat([t]):null,Mo(4,4,jc.bind(null,i,t),l)}function Gs(){}function tf(t,i){var l=Ye();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&Ms(i,u[1])?u[0]:(l.memoizedState=[t,i],t)}function nf(t,i){var l=Ye();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&Ms(i,u[1]))return u[0];if(u=t(),Qn){fn(!0);try{t()}finally{fn(!1)}}return l.memoizedState=[u,i],u}function Hs(t,i,l){return l===void 0||(vn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=l,t=ad(),ye.lanes|=t,_n|=t,l)}function of(t,i,l,u){return gt(l,i)?l:xi.current!==null?(t=Hs(t,l,u),gt(t,i)||(Ze=!0),t):(vn&42)===0?(Ze=!0,t.memoizedState=l):(t=ad(),ye.lanes|=t,_n|=t,i)}function lf(t,i,l,u,f){var p=V.p;V.p=p!==0&&8>p?p:8;var T=D.T,E={};D.T=E,Bs(t,!1,i,l);try{var _=f(),I=D.S;if(I!==null&&I(E,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var k=Fg(_,u);Ro(t,i,k,St(t))}else Ro(t,i,u,St(t))}catch(O){Ro(t,i,{then:function(){},status:"rejected",reason:O},St())}finally{V.p=p,D.T=T}}function Xg(){}function ks(t,i,l,u){if(t.tag!==5)throw Error(a(476));var f=af(t).queue;lf(t,f,i,te,l===null?Xg:function(){return sf(t),l(u)})}function af(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:te},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function sf(t){var i=af(t).next.queue;Ro(t,i,{},St())}function Ps(){return ot(Yo)}function rf(){return Ye().memoizedState}function uf(){return Ye().memoizedState}function Zg(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=St();t=gn(l);var u=yn(i,t,l);u!==null&&(Et(u,i,l),So(u,i,l)),i={cache:gs()},t.payload=i;return}i=i.return}}function $g(t,i,l){var u=St();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Vl(t)?ff(i,l):(l=as(t,i,l,u),l!==null&&(Et(l,t,u),df(l,i,u)))}function cf(t,i,l){var u=St();Ro(t,i,l,u)}function Ro(t,i,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vl(t))ff(i,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var T=i.lastRenderedState,E=p(T,l);if(f.hasEagerState=!0,f.eagerState=E,gt(E,T))return vl(t,i,f,0),we===null&&yl(),!1}catch{}finally{}if(l=as(t,i,f,u),l!==null)return Et(l,t,u),df(l,i,u),!0}return!1}function Bs(t,i,l,u){if(u={lane:2,revertLane:Tr(),action:u,hasEagerState:!1,eagerState:null,next:null},Vl(t)){if(i)throw Error(a(479))}else i=as(t,l,u,2),i!==null&&Et(i,t,2)}function Vl(t){var i=t.alternate;return t===ye||i!==null&&i===ye}function ff(t,i){_i=Dl=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function df(t,i,l){if((l&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,l|=u,i.lanes=l,Tu(t,l)}}var ql={readContext:ot,use:Il,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be},mf={readContext:ot,use:Il,useCallback:function(t,i){return ft().memoizedState=[t,i===void 0?null:i],t},useContext:ot,useEffect:Xc,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,Ll(4194308,4,jc.bind(null,i,t),l)},useLayoutEffect:function(t,i){return Ll(4194308,4,t,i)},useInsertionEffect:function(t,i){Ll(4,2,t,i)},useMemo:function(t,i){var l=ft();i=i===void 0?null:i;var u=t();if(Qn){fn(!0);try{t()}finally{fn(!1)}}return l.memoizedState=[u,i],u},useReducer:function(t,i,l){var u=ft();if(l!==void 0){var f=l(i);if(Qn){fn(!0);try{l(i)}finally{fn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=$g.bind(null,ye,t),[u.memoizedState,t]},useRef:function(t){var i=ft();return t={current:t},i.memoizedState=t},useState:function(t){t=Vs(t);var i=t.queue,l=cf.bind(null,ye,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:Gs,useDeferredValue:function(t,i){var l=ft();return Hs(l,t,i)},useTransition:function(){var t=Vs(!1);return t=lf.bind(null,ye,t.queue,!0,!1),ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var u=ye,f=ft();if(xe){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),we===null)throw Error(a(349));(Se&124)!==0||wc(u,i,l)}f.memoizedState=l;var p={value:l,getSnapshot:i};return f.queue=p,Xc(Vc.bind(null,u,p,t),[t]),u.flags|=2048,Ri(9,wl(),Lc.bind(null,u,p,l,i),null),l},useId:function(){var t=ft(),i=we.identifierPrefix;if(xe){var l=Qt,u=Kt;l=(u&~(1<<32-ht(u)-1)).toString(32)+l,i="«"+i+"R"+l,l=Ul++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=Yg++,i="«"+i+"r"+l.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Ps,useFormState:Fc,useActionState:Fc,useOptimistic:function(t){var i=ft();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Bs.bind(null,ye,!0,l),l.dispatch=i,[t,i]},useMemoCache:bs,useCacheRefresh:function(){return ft().memoizedState=Zg.bind(null,ye)}},pf={readContext:ot,use:Il,useCallback:tf,useContext:ot,useEffect:Zc,useImperativeHandle:ef,useInsertionEffect:$c,useLayoutEffect:Wc,useMemo:nf,useReducer:bl,useRef:Qc,useState:function(){return bl($t)},useDebugValue:Gs,useDeferredValue:function(t,i){var l=Ye();return of(l,De.memoizedState,t,i)},useTransition:function(){var t=bl($t)[0],i=Ye().memoizedState;return[typeof t=="boolean"?t:_o(t),i]},useSyncExternalStore:bc,useId:rf,useHostTransitionStatus:Ps,useFormState:Yc,useActionState:Yc,useOptimistic:function(t,i){var l=Ye();return Hc(l,De,t,i)},useMemoCache:bs,useCacheRefresh:uf},Wg={readContext:ot,use:Il,useCallback:tf,useContext:ot,useEffect:Zc,useImperativeHandle:ef,useInsertionEffect:$c,useLayoutEffect:Wc,useMemo:nf,useReducer:Ls,useRef:Qc,useState:function(){return Ls($t)},useDebugValue:Gs,useDeferredValue:function(t,i){var l=Ye();return De===null?Hs(l,t,i):of(l,De.memoizedState,t,i)},useTransition:function(){var t=Ls($t)[0],i=Ye().memoizedState;return[typeof t=="boolean"?t:_o(t),i]},useSyncExternalStore:bc,useId:rf,useHostTransitionStatus:Ps,useFormState:Kc,useActionState:Kc,useOptimistic:function(t,i){var l=Ye();return De!==null?Hc(l,De,t,i):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:bs,useCacheRefresh:uf},Ni=null,No=0;function Gl(t){var i=No;return No+=1,Ni===null&&(Ni=[]),xc(Ni,t,i)}function Do(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Hl(t,i){throw i.$$typeof===C?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function hf(t){var i=t._init;return i(t._payload)}function gf(t){function i(N,R){if(t){var U=N.deletions;U===null?(N.deletions=[R],N.flags|=16):U.push(R)}}function l(N,R){if(!t)return null;for(;R!==null;)i(N,R),R=R.sibling;return null}function u(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function f(N,R){return N=Jt(N,R),N.index=0,N.sibling=null,N}function p(N,R,U){return N.index=U,t?(U=N.alternate,U!==null?(U=U.index,U<R?(N.flags|=67108866,R):U):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function T(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function E(N,R,U,B){return R===null||R.tag!==6?(R=rs(U,N.mode,B),R.return=N,R):(R=f(R,U),R.return=N,R)}function _(N,R,U,B){var oe=U.type;return oe===L?k(N,R,U.props.children,B,U.key):R!==null&&(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===he&&hf(oe)===R.type)?(R=f(R,U.props),Do(R,U),R.return=N,R):(R=Cl(U.type,U.key,U.props,null,N.mode,B),Do(R,U),R.return=N,R)}function I(N,R,U,B){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=us(U,N.mode,B),R.return=N,R):(R=f(R,U.children||[]),R.return=N,R)}function k(N,R,U,B,oe){return R===null||R.tag!==7?(R=Pn(U,N.mode,B,oe),R.return=N,R):(R=f(R,U),R.return=N,R)}function O(N,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=rs(""+R,N.mode,U),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return U=Cl(R.type,R.key,R.props,null,N.mode,U),Do(U,R),U.return=N,U;case M:return R=us(R,N.mode,U),R.return=N,R;case he:var B=R._init;return R=B(R._payload),O(N,R,U)}if(W(R)||X(R))return R=Pn(R,N.mode,U,null),R.return=N,R;if(typeof R.then=="function")return O(N,Gl(R),U);if(R.$$typeof===K)return O(N,xl(N,R),U);Hl(N,R)}return null}function b(N,R,U,B){var oe=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return oe!==null?null:E(N,R,""+U,B);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===oe?_(N,R,U,B):null;case M:return U.key===oe?I(N,R,U,B):null;case he:return oe=U._init,U=oe(U._payload),b(N,R,U,B)}if(W(U)||X(U))return oe!==null?null:k(N,R,U,B,null);if(typeof U.then=="function")return b(N,R,Gl(U),B);if(U.$$typeof===K)return b(N,R,xl(N,U),B);Hl(N,U)}return null}function w(N,R,U,B,oe){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return N=N.get(U)||null,E(R,N,""+B,oe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return N=N.get(B.key===null?U:B.key)||null,_(R,N,B,oe);case M:return N=N.get(B.key===null?U:B.key)||null,I(R,N,B,oe);case he:var ve=B._init;return B=ve(B._payload),w(N,R,U,B,oe)}if(W(B)||X(B))return N=N.get(U)||null,k(R,N,B,oe,null);if(typeof B.then=="function")return w(N,R,U,Gl(B),oe);if(B.$$typeof===K)return w(N,R,U,xl(R,B),oe);Hl(R,B)}return null}function pe(N,R,U,B){for(var oe=null,ve=null,re=R,de=R=0,We=null;re!==null&&de<U.length;de++){re.index>de?(We=re,re=null):We=re.sibling;var Ae=b(N,re,U[de],B);if(Ae===null){re===null&&(re=We);break}t&&re&&Ae.alternate===null&&i(N,re),R=p(Ae,R,de),ve===null?oe=Ae:ve.sibling=Ae,ve=Ae,re=We}if(de===U.length)return l(N,re),xe&&zn(N,de),oe;if(re===null){for(;de<U.length;de++)re=O(N,U[de],B),re!==null&&(R=p(re,R,de),ve===null?oe=re:ve.sibling=re,ve=re);return xe&&zn(N,de),oe}for(re=u(re);de<U.length;de++)We=w(re,N,de,U[de],B),We!==null&&(t&&We.alternate!==null&&re.delete(We.key===null?de:We.key),R=p(We,R,de),ve===null?oe=We:ve.sibling=We,ve=We);return t&&re.forEach(function(Ln){return i(N,Ln)}),xe&&zn(N,de),oe}function fe(N,R,U,B){if(U==null)throw Error(a(151));for(var oe=null,ve=null,re=R,de=R=0,We=null,Ae=U.next();re!==null&&!Ae.done;de++,Ae=U.next()){re.index>de?(We=re,re=null):We=re.sibling;var Ln=b(N,re,Ae.value,B);if(Ln===null){re===null&&(re=We);break}t&&re&&Ln.alternate===null&&i(N,re),R=p(Ln,R,de),ve===null?oe=Ln:ve.sibling=Ln,ve=Ln,re=We}if(Ae.done)return l(N,re),xe&&zn(N,de),oe;if(re===null){for(;!Ae.done;de++,Ae=U.next())Ae=O(N,Ae.value,B),Ae!==null&&(R=p(Ae,R,de),ve===null?oe=Ae:ve.sibling=Ae,ve=Ae);return xe&&zn(N,de),oe}for(re=u(re);!Ae.done;de++,Ae=U.next())Ae=w(re,N,de,Ae.value,B),Ae!==null&&(t&&Ae.alternate!==null&&re.delete(Ae.key===null?de:Ae.key),R=p(Ae,R,de),ve===null?oe=Ae:ve.sibling=Ae,ve=Ae);return t&&re.forEach(function(jy){return i(N,jy)}),xe&&zn(N,de),oe}function Ie(N,R,U,B){if(typeof U=="object"&&U!==null&&U.type===L&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var oe=U.key;R!==null;){if(R.key===oe){if(oe=U.type,oe===L){if(R.tag===7){l(N,R.sibling),B=f(R,U.props.children),B.return=N,N=B;break e}}else if(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===he&&hf(oe)===R.type){l(N,R.sibling),B=f(R,U.props),Do(B,U),B.return=N,N=B;break e}l(N,R);break}else i(N,R);R=R.sibling}U.type===L?(B=Pn(U.props.children,N.mode,B,U.key),B.return=N,N=B):(B=Cl(U.type,U.key,U.props,null,N.mode,B),Do(B,U),B.return=N,N=B)}return T(N);case M:e:{for(oe=U.key;R!==null;){if(R.key===oe)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){l(N,R.sibling),B=f(R,U.children||[]),B.return=N,N=B;break e}else{l(N,R);break}else i(N,R);R=R.sibling}B=us(U,N.mode,B),B.return=N,N=B}return T(N);case he:return oe=U._init,U=oe(U._payload),Ie(N,R,U,B)}if(W(U))return pe(N,R,U,B);if(X(U)){if(oe=X(U),typeof oe!="function")throw Error(a(150));return U=oe.call(U),fe(N,R,U,B)}if(typeof U.then=="function")return Ie(N,R,Gl(U),B);if(U.$$typeof===K)return Ie(N,R,xl(N,U),B);Hl(N,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(l(N,R.sibling),B=f(R,U),B.return=N,N=B):(l(N,R),B=rs(U,N.mode,B),B.return=N,N=B),T(N)):l(N,R)}return function(N,R,U,B){try{No=0;var oe=Ie(N,R,U,B);return Ni=null,oe}catch(re){if(re===To||re===Ml)throw re;var ve=yt(29,re,null,N.mode);return ve.lanes=B,ve.return=N,ve}finally{}}}var Di=gf(!0),yf=gf(!1),Dt=q(null),Ht=null;function Tn(t){var i=t.alternate;Z(Qe,Qe.current&1),Z(Dt,t),Ht===null&&(i===null||xi.current!==null||i.memoizedState!==null)&&(Ht=t)}function vf(t){if(t.tag===22){if(Z(Qe,Qe.current),Z(Dt,t),Ht===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ht=t)}}else Cn()}function Cn(){Z(Qe,Qe.current),Z(Dt,Dt.current)}function Wt(t){Q(Dt),Ht===t&&(Ht=null),Q(Qe)}var Qe=q(0);function kl(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ir(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function zs(t,i,l,u){i=t.memoizedState,l=l(u,i),l=l==null?i:v({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Os={enqueueSetState:function(t,i,l){t=t._reactInternals;var u=St(),f=gn(u);f.payload=i,l!=null&&(f.callback=l),i=yn(t,f,u),i!==null&&(Et(i,t,u),So(i,t,u))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var u=St(),f=gn(u);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=yn(t,f,u),i!==null&&(Et(i,t,u),So(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=St(),u=gn(l);u.tag=2,i!=null&&(u.callback=i),i=yn(t,u,l),i!==null&&(Et(i,t,l),So(i,t,l))}};function Tf(t,i,l,u,f,p,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,T):i.prototype&&i.prototype.isPureReactComponent?!co(l,u)||!co(f,p):!0}function Cf(t,i,l,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==t&&Os.enqueueReplaceState(i,i.state,null)}function Xn(t,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(t=t.defaultProps){l===i&&(l=v({},l));for(var f in t)l[f]===void 0&&(l[f]=t[f])}return l}var Pl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sf(t){Pl(t)}function Ef(t){console.error(t)}function Af(t){Pl(t)}function Bl(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function xf(t,i,l){try{var u=t.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fs(t,i,l){return l=gn(l),l.tag=3,l.payload={element:null},l.callback=function(){Bl(t,i)},l}function _f(t){return t=gn(t),t.tag=3,t}function Mf(t,i,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;t.payload=function(){return f(p)},t.callback=function(){xf(i,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){xf(i,l,u),typeof f!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function jg(t,i,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&go(i,l,f,!0),l=Dt.current,l!==null){switch(l.tag){case 13:return Ht===null?pr():l.alternate===null&&He===0&&(He=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===Ts?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),gr(t,u,f)),!1;case 22:return l.flags|=65536,u===Ts?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),gr(t,u,f)),!1}throw Error(a(435,l.tag))}return gr(t,u,f),pr(),!1}if(xe)return i=Dt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==ds&&(t=Error(a(422),{cause:u}),ho(_t(t,l)))):(u!==ds&&(i=Error(a(423),{cause:u}),ho(_t(i,l))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=_t(u,l),f=Fs(t.stateNode,u,f),Es(t,f),He!==4&&(He=2)),!1;var p=Error(a(520),{cause:u});if(p=_t(p,l),qo===null?qo=[p]:qo.push(p),He!==4&&(He=2),i===null)return!0;u=_t(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=f&-f,l.lanes|=t,t=Fs(l.stateNode,u,t),Es(l,t),!1;case 1:if(i=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Mn===null||!Mn.has(p))))return l.flags|=65536,f&=-f,l.lanes|=f,f=_f(f),Mf(f,t,l,u),Es(l,f),!1}l=l.return}while(l!==null);return!1}var Rf=Error(a(461)),Ze=!1;function je(t,i,l,u){i.child=t===null?yf(i,null,l,u):Di(i,t.child,l,u)}function Nf(t,i,l,u,f){l=l.render;var p=i.ref;if("ref"in u){var T={};for(var E in u)E!=="ref"&&(T[E]=u[E])}else T=u;return Jn(i),u=Rs(t,i,l,T,p,f),E=Ns(),t!==null&&!Ze?(Ds(t,i,f),jt(t,i,f)):(xe&&E&&cs(i),i.flags|=1,je(t,i,u,f),i.child)}function Df(t,i,l,u,f){if(t===null){var p=l.type;return typeof p=="function"&&!ss(p)&&p.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=p,Uf(t,i,p,u,f)):(t=Cl(l.type,null,u,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!Ws(t,f)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:co,l(T,u)&&t.ref===i.ref)return jt(t,i,f)}return i.flags|=1,t=Jt(p,u),t.ref=i.ref,t.return=i,i.child=t}function Uf(t,i,l,u,f){if(t!==null){var p=t.memoizedProps;if(co(p,u)&&t.ref===i.ref)if(Ze=!1,i.pendingProps=u=p,Ws(t,f))(t.flags&131072)!==0&&(Ze=!0);else return i.lanes=t.lanes,jt(t,i,f)}return Ys(t,i,l,u,f)}function If(t,i,l){var u=i.pendingProps,f=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,t!==null){for(f=i.child=t.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return bf(t,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&_l(i,p!==null?p.cachePool:null),p!==null?Dc(i,p):xs(),vf(i);else return i.lanes=i.childLanes=536870912,bf(t,i,p!==null?p.baseLanes|l:l,l)}else p!==null?(_l(i,p.cachePool),Dc(i,p),Cn(),i.memoizedState=null):(t!==null&&_l(i,null),xs(),Cn());return je(t,i,f,l),i.child}function bf(t,i,l,u){var f=vs();return f=f===null?null:{parent:Ke._currentValue,pool:f},i.memoizedState={baseLanes:l,cachePool:f},t!==null&&_l(i,null),xs(),vf(i),t!==null&&go(t,i,u,!0),null}function zl(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(t===null||t.ref!==l)&&(i.flags|=4194816)}}function Ys(t,i,l,u,f){return Jn(i),l=Rs(t,i,l,u,void 0,f),u=Ns(),t!==null&&!Ze?(Ds(t,i,f),jt(t,i,f)):(xe&&u&&cs(i),i.flags|=1,je(t,i,l,f),i.child)}function wf(t,i,l,u,f,p){return Jn(i),i.updateQueue=null,l=Ic(i,u,l,f),Uc(t),u=Ns(),t!==null&&!Ze?(Ds(t,i,p),jt(t,i,p)):(xe&&u&&cs(i),i.flags|=1,je(t,i,l,p),i.child)}function Lf(t,i,l,u,f){if(Jn(i),i.stateNode===null){var p=Ti,T=l.contextType;typeof T=="object"&&T!==null&&(p=ot(T)),p=new l(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Os,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Cs(i),T=l.contextType,p.context=typeof T=="object"&&T!==null?ot(T):Ti,p.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(zs(i,l,T,u),p.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Os.enqueueReplaceState(p,p.state,null),Ao(i,u,p,f),Eo(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){p=i.stateNode;var E=i.memoizedProps,_=Xn(l,E);p.props=_;var I=p.context,k=l.contextType;T=Ti,typeof k=="object"&&k!==null&&(T=ot(k));var O=l.getDerivedStateFromProps;k=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,k||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||I!==T)&&Cf(i,p,u,T),hn=!1;var b=i.memoizedState;p.state=b,Ao(i,u,p,f),Eo(),I=i.memoizedState,E||b!==I||hn?(typeof O=="function"&&(zs(i,l,O,u),I=i.memoizedState),(_=hn||Tf(i,l,_,u,b,I,T))?(k||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=I),p.props=u,p.state=I,p.context=T,u=_):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Ss(t,i),T=i.memoizedProps,k=Xn(l,T),p.props=k,O=i.pendingProps,b=p.context,I=l.contextType,_=Ti,typeof I=="object"&&I!==null&&(_=ot(I)),E=l.getDerivedStateFromProps,(I=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==O||b!==_)&&Cf(i,p,u,_),hn=!1,b=i.memoizedState,p.state=b,Ao(i,u,p,f),Eo();var w=i.memoizedState;T!==O||b!==w||hn||t!==null&&t.dependencies!==null&&Al(t.dependencies)?(typeof E=="function"&&(zs(i,l,E,u),w=i.memoizedState),(k=hn||Tf(i,l,k,u,b,w,_)||t!==null&&t.dependencies!==null&&Al(t.dependencies))?(I||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,w,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,w,_)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&b===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&b===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=w),p.props=u,p.state=w,p.context=_,u=k):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&b===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&b===t.memoizedState||(i.flags|=1024),u=!1)}return p=u,zl(t,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&u?(i.child=Di(i,t.child,null,f),i.child=Di(i,null,l,f)):je(t,i,l,f),i.memoizedState=p.state,t=i.child):t=jt(t,i,f),t}function Vf(t,i,l,u){return po(),i.flags|=256,je(t,i,l,u),i.child}var Js={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ks(t){return{baseLanes:t,cachePool:Sc()}}function Qs(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=Ut),t}function qf(t,i,l){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,T;if((T=p)||(T=t!==null&&t.memoizedState===null?!1:(Qe.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(xe){if(f?Tn(i):Cn(),xe){var E=Ge,_;if(_=E){e:{for(_=E,E=Gt;_.nodeType!==8;){if(!E){E=null;break e}if(_=Vt(_.nextSibling),_===null){E=null;break e}}E=_}E!==null?(i.memoizedState={dehydrated:E,treeContext:Bn!==null?{id:Kt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},_=yt(18,null,null,0),_.stateNode=E,_.return=i,i.child=_,rt=i,Ge=null,_=!0):_=!1}_||Fn(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ir(E)?i.lanes=32:i.lanes=536870912,null;Wt(i)}return E=u.children,u=u.fallback,f?(Cn(),f=i.mode,E=Ol({mode:"hidden",children:E},f),u=Pn(u,f,l,null),E.return=i,u.return=i,E.sibling=u,i.child=E,f=i.child,f.memoizedState=Ks(l),f.childLanes=Qs(t,T,l),i.memoizedState=Js,u):(Tn(i),Xs(i,E))}if(_=t.memoizedState,_!==null&&(E=_.dehydrated,E!==null)){if(p)i.flags&256?(Tn(i),i.flags&=-257,i=Zs(t,i,l)):i.memoizedState!==null?(Cn(),i.child=t.child,i.flags|=128,i=null):(Cn(),f=u.fallback,E=i.mode,u=Ol({mode:"visible",children:u.children},E),f=Pn(f,E,l,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Di(i,t.child,null,l),u=i.child,u.memoizedState=Ks(l),u.childLanes=Qs(t,T,l),i.memoizedState=Js,i=f);else if(Tn(i),Ir(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var I=T.dgst;T=I,u=Error(a(419)),u.stack="",u.digest=T,ho({value:u,source:null,stack:null}),i=Zs(t,i,l)}else if(Ze||go(t,i,l,!1),T=(l&t.childLanes)!==0,Ze||T){if(T=we,T!==null&&(u=l&-l,u=(u&42)!==0?1:ba(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==_.retryLane))throw _.retryLane=u,vi(t,u),Et(T,t,u),Rf;E.data==="$?"||pr(),i=Zs(t,i,l)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=_.treeContext,Ge=Vt(E.nextSibling),rt=i,xe=!0,On=null,Gt=!1,t!==null&&(Rt[Nt++]=Kt,Rt[Nt++]=Qt,Rt[Nt++]=Bn,Kt=t.id,Qt=t.overflow,Bn=i),i=Xs(i,u.children),i.flags|=4096);return i}return f?(Cn(),f=u.fallback,E=i.mode,_=t.child,I=_.sibling,u=Jt(_,{mode:"hidden",children:u.children}),u.subtreeFlags=_.subtreeFlags&65011712,I!==null?f=Jt(I,f):(f=Pn(f,E,l,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,E=t.child.memoizedState,E===null?E=Ks(l):(_=E.cachePool,_!==null?(I=Ke._currentValue,_=_.parent!==I?{parent:I,pool:I}:_):_=Sc(),E={baseLanes:E.baseLanes|l,cachePool:_}),f.memoizedState=E,f.childLanes=Qs(t,T,l),i.memoizedState=Js,u):(Tn(i),l=t.child,t=l.sibling,l=Jt(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=l,i.memoizedState=null,l)}function Xs(t,i){return i=Ol({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ol(t,i){return t=yt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zs(t,i,l){return Di(i,t.child,null,l),t=Xs(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gf(t,i,l){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),ps(t.return,i,l)}function $s(t,i,l,u,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=f)}function Hf(t,i,l){var u=i.pendingProps,f=u.revealOrder,p=u.tail;if(je(t,i,u.children,l),u=Qe.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gf(t,l,i);else if(t.tag===19)Gf(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(Z(Qe,u),f){case"forwards":for(l=i.child,f=null;l!==null;)t=l.alternate,t!==null&&kl(t)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),$s(i,!1,f,l,p);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&kl(t)===null){i.child=f;break}t=f.sibling,f.sibling=l,l=f,f=t}$s(i,!0,l,null,p);break;case"together":$s(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jt(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),_n|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(go(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,l=Jt(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Jt(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function Ws(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Al(t)))}function ey(t,i,l){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),pn(i,Ke,t.memoizedState.cache),po();break;case 27:case 5:un(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:pn(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Tn(i),i.flags|=128,null):(l&i.child.childLanes)!==0?qf(t,i,l):(Tn(i),t=jt(t,i,l),t!==null?t.sibling:null);Tn(i);break;case 19:var f=(t.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(go(t,i,l,!1),u=(l&i.childLanes)!==0),f){if(u)return Hf(t,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Qe,Qe.current),u)break;return null;case 22:case 23:return i.lanes=0,If(t,i,l);case 24:pn(i,Ke,t.memoizedState.cache)}return jt(t,i,l)}function kf(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ze=!0;else{if(!Ws(t,l)&&(i.flags&128)===0)return Ze=!1,ey(t,i,l);Ze=(t.flags&131072)!==0}else Ze=!1,xe&&(i.flags&1048576)!==0&&pc(i,El,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")ss(u)?(t=Xn(u,t),i.tag=1,i=Lf(null,i,u,t,l)):(i.tag=0,i=Ys(null,i,u,t,l));else{if(u!=null){if(f=u.$$typeof,f===j){i.tag=11,i=Nf(null,i,u,t,l);break e}else if(f===ie){i.tag=14,i=Df(null,i,u,t,l);break e}}throw i=$(u)||u,Error(a(306,i,""))}}return i;case 0:return Ys(t,i,i.type,i.pendingProps,l);case 1:return u=i.type,f=Xn(u,i.pendingProps),Lf(t,i,u,f,l);case 3:e:{if(Ee(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var p=i.memoizedState;f=p.element,Ss(t,i),Ao(i,u,null,l);var T=i.memoizedState;if(u=T.cache,pn(i,Ke,u),u!==p.cache&&hs(i,[Ke],l,!0),Eo(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Vf(t,i,u,l);break e}else if(u!==f){f=_t(Error(a(424)),i),ho(f),i=Vf(t,i,u,l);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ge=Vt(t.firstChild),rt=i,xe=!0,On=null,Gt=!0,l=yf(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(po(),u===f){i=jt(t,i,l);break e}je(t,i,u,l)}i=i.child}return i;case 26:return zl(t,i),t===null?(l=Od(i.type,null,i.pendingProps,null))?i.memoizedState=l:xe||(l=i.type,t=i.pendingProps,u=ia(ce.current).createElement(l),u[it]=i,u[ut]=t,tt(u,l,t),Xe(u),i.stateNode=u):i.memoizedState=Od(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return un(i),t===null&&xe&&(u=i.stateNode=Pd(i.type,i.pendingProps,ce.current),rt=i,Gt=!0,f=Ge,Dn(i.type)?(br=f,Ge=Vt(u.firstChild)):Ge=f),je(t,i,i.pendingProps.children,l),zl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&xe&&((f=u=Ge)&&(u=Ny(u,i.type,i.pendingProps,Gt),u!==null?(i.stateNode=u,rt=i,Ge=Vt(u.firstChild),Gt=!1,f=!0):f=!1),f||Fn(i)),un(i),f=i.type,p=i.pendingProps,T=t!==null?t.memoizedProps:null,u=p.children,Nr(f,p)?u=null:T!==null&&Nr(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=Rs(t,i,Jg,null,null,l),Yo._currentValue=f),zl(t,i),je(t,i,u,l),i.child;case 6:return t===null&&xe&&((t=l=Ge)&&(l=Dy(l,i.pendingProps,Gt),l!==null?(i.stateNode=l,rt=i,Ge=null,t=!0):t=!1),t||Fn(i)),null;case 13:return qf(t,i,l);case 4:return Ee(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Di(i,null,u,l):je(t,i,u,l),i.child;case 11:return Nf(t,i,i.type,i.pendingProps,l);case 7:return je(t,i,i.pendingProps,l),i.child;case 8:return je(t,i,i.pendingProps.children,l),i.child;case 12:return je(t,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,pn(i,i.type,u.value),je(t,i,u.children,l),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Jn(i),f=ot(f),u=u(f),i.flags|=1,je(t,i,u,l),i.child;case 14:return Df(t,i,i.type,i.pendingProps,l);case 15:return Uf(t,i,i.type,i.pendingProps,l);case 19:return Hf(t,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},t===null?(l=Ol(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=Jt(t.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return If(t,i,l);case 24:return Jn(i),u=ot(Ke),t===null?(f=vs(),f===null&&(f=we,p=gs(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=l),f=p),i.memoizedState={parent:u,cache:f},Cs(i),pn(i,Ke,f)):((t.lanes&l)!==0&&(Ss(t,i),Ao(i,null,null,l),Eo()),f=t.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),pn(i,Ke,u)):(u=p.cache,pn(i,Ke,u),u!==f.cache&&hs(i,[Ke],l,!0))),je(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function en(t){t.flags|=4}function Pf(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Qd(i)){if(i=Dt.current,i!==null&&((Se&4194048)===Se?Ht!==null:(Se&62914560)!==Se&&(Se&536870912)===0||i!==Ht))throw Co=Ts,Ec;t.flags|=8192}}function Fl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yu():536870912,t.lanes|=i,wi|=i)}function Uo(t,i){if(!xe)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function qe(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,u=0;if(i)for(var f=t.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=l,i}function ty(t,i,l){var u=i.pendingProps;switch(fs(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(i),null;case 1:return qe(i),null;case 3:return l=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Zt(Ke),nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(mo(i)?en(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yc())),qe(i),null;case 26:return l=i.memoizedState,t===null?(en(i),l!==null?(qe(i),Pf(i,l)):(qe(i),i.flags&=-16777217)):l?l!==t.memoizedState?(en(i),qe(i),Pf(i,l)):(qe(i),i.flags&=-16777217):(t.memoizedProps!==u&&en(i),qe(i),i.flags&=-16777217),null;case 27:Ot(i),l=ce.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&en(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return qe(i),null}t=se.current,mo(i)?hc(i):(t=Pd(f,u,l),i.stateNode=t,en(i))}return qe(i),null;case 5:if(Ot(i),l=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&en(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return qe(i),null}if(t=se.current,mo(i))hc(i);else{switch(f=ia(ce.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}t[it]=i,t[ut]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(tt(t,l,u),l){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&en(i)}}return qe(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&en(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=ce.current,mo(i)){if(t=i.stateNode,l=i.memoizedProps,u=null,f=rt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[it]=i,t=!!(t.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||wd(t.nodeValue,l)),t||Fn(i)}else t=ia(t).createTextNode(u),t[it]=i,i.stateNode=t}return qe(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=mo(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[it]=i}else po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qe(i),f=!1}else f=yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Wt(i),i):(Wt(i),null)}if(Wt(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,t=t!==null&&t.memoizedState!==null,l){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return l!==t&&l&&(i.child.flags|=8192),Fl(i,i.updateQueue),qe(i),null;case 4:return nt(),t===null&&Ar(i.stateNode.containerInfo),qe(i),null;case 10:return Zt(i.type),qe(i),null;case 19:if(Q(Qe),f=i.memoizedState,f===null)return qe(i),null;if(u=(i.flags&128)!==0,p=f.rendering,p===null)if(u)Uo(f,!1);else{if(He!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=kl(t),p!==null){for(i.flags|=128,Uo(f,!1),t=p.updateQueue,i.updateQueue=t,Fl(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)mc(l,t),l=l.sibling;return Z(Qe,Qe.current&1|2),i.child}t=t.sibling}f.tail!==null&&qt()>Kl&&(i.flags|=128,u=!0,Uo(f,!1),i.lanes=4194304)}else{if(!u)if(t=kl(p),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,Fl(i,t),Uo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!xe)return qe(i),null}else 2*qt()-f.renderingStartTime>Kl&&l!==536870912&&(i.flags|=128,u=!0,Uo(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(t=f.last,t!==null?t.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=qt(),i.sibling=null,t=Qe.current,Z(Qe,u?t&1|2:t&1),i):(qe(i),null);case 22:case 23:return Wt(i),_s(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(qe(i),i.subtreeFlags&6&&(i.flags|=8192)):qe(i),l=i.updateQueue,l!==null&&Fl(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),t!==null&&Q(Kn),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Zt(Ke),qe(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ny(t,i){switch(fs(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Zt(Ke),nt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ot(i),null;case 13:if(Wt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));po()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(Qe),null;case 4:return nt(),null;case 10:return Zt(i.type),null;case 22:case 23:return Wt(i),_s(),t!==null&&Q(Kn),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Zt(Ke),null;case 25:return null;default:return null}}function Bf(t,i){switch(fs(i),i.tag){case 3:Zt(Ke),nt();break;case 26:case 27:case 5:Ot(i);break;case 4:nt();break;case 13:Wt(i);break;case 19:Q(Qe);break;case 10:Zt(i.type);break;case 22:case 23:Wt(i),_s(),t!==null&&Q(Kn);break;case 24:Zt(Ke)}}function Io(t,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){u=void 0;var p=l.create,T=l.inst;u=p(),T.destroy=u}l=l.next}while(l!==f)}}catch(E){be(i,i.return,E)}}function Sn(t,i,l){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&t)===t){var T=u.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,f=i;var _=l,I=E;try{I()}catch(k){be(f,_,k)}}}u=u.next}while(u!==p)}}catch(k){be(i,i.return,k)}}function zf(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{Nc(i,l)}catch(u){be(t,t.return,u)}}}function Of(t,i,l){l.props=Xn(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(u){be(t,i,u)}}function bo(t,i){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof l=="function"?t.refCleanup=l(u):l.current=u}}catch(f){be(t,i,f)}}function kt(t,i){var l=t.ref,u=t.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){be(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){be(t,i,f)}else l.current=null}function Ff(t){var i=t.type,l=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){be(t,t.return,f)}}function js(t,i,l){try{var u=t.stateNode;Ay(u,t.type,l,i),u[ut]=i}catch(f){be(t,t.return,f)}}function Yf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Dn(t.type)||t.tag===4}function er(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Dn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tr(t,i,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(t),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=na));else if(u!==4&&(u===27&&Dn(t.type)&&(l=t.stateNode,i=null),t=t.child,t!==null))for(tr(t,i,l),t=t.sibling;t!==null;)tr(t,i,l),t=t.sibling}function Yl(t,i,l){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(u!==4&&(u===27&&Dn(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Yl(t,i,l),t=t.sibling;t!==null;)Yl(t,i,l),t=t.sibling}function Jf(t){var i=t.stateNode,l=t.memoizedProps;try{for(var u=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);tt(i,u,l),i[it]=t,i[ut]=l}catch(p){be(t,t.return,p)}}var tn=!1,ze=!1,nr=!1,Kf=typeof WeakSet=="function"?WeakSet:Set,$e=null;function iy(t,i){if(t=t.containerInfo,Mr=ua,t=ic(t),es(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var T=0,E=-1,_=-1,I=0,k=0,O=t,b=null;t:for(;;){for(var w;O!==l||f!==0&&O.nodeType!==3||(E=T+f),O!==p||u!==0&&O.nodeType!==3||(_=T+u),O.nodeType===3&&(T+=O.nodeValue.length),(w=O.firstChild)!==null;)b=O,O=w;for(;;){if(O===t)break t;if(b===l&&++I===f&&(E=T),b===p&&++k===u&&(_=T),(w=O.nextSibling)!==null)break;O=b,b=O.parentNode}O=w}l=E===-1||_===-1?null:{start:E,end:_}}else l=null}l=l||{start:0,end:0}}else l=null;for(Rr={focusedElem:t,selectionRange:l},ua=!1,$e=i;$e!==null;)if(i=$e,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,$e=t;else for(;$e!==null;){switch(i=$e,p=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,l=i,f=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var pe=Xn(l.type,f,l.elementType===l.type);t=u.getSnapshotBeforeUpdate(pe,p),u.__reactInternalSnapshotBeforeUpdate=t}catch(fe){be(l,l.return,fe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)Ur(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ur(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,$e=t;break}$e=i.return}}function Qf(t,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:En(t,l),u&4&&Io(5,l);break;case 1:if(En(t,l),u&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(T){be(l,l.return,T)}else{var f=Xn(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){be(l,l.return,T)}}u&64&&zf(l),u&512&&bo(l,l.return);break;case 3:if(En(t,l),u&64&&(t=l.updateQueue,t!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Nc(t,i)}catch(T){be(l,l.return,T)}}break;case 27:i===null&&u&4&&Jf(l);case 26:case 5:En(t,l),i===null&&u&4&&Ff(l),u&512&&bo(l,l.return);break;case 12:En(t,l);break;case 13:En(t,l),u&4&&$f(t,l),u&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=dy.bind(null,l),Uy(t,l))));break;case 22:if(u=l.memoizedState!==null||tn,!u){i=i!==null&&i.memoizedState!==null||ze,f=tn;var p=ze;tn=u,(ze=i)&&!p?An(t,l,(l.subtreeFlags&8772)!==0):En(t,l),tn=f,ze=p}break;case 30:break;default:En(t,l)}}function Xf(t){var i=t.alternate;i!==null&&(t.alternate=null,Xf(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,dt=!1;function nn(t,i,l){for(l=l.child;l!==null;)Zf(t,i,l),l=l.sibling}function Zf(t,i,l){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Wi,l)}catch{}switch(l.tag){case 26:ze||kt(l,i),nn(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ze||kt(l,i);var u=Ve,f=dt;Dn(l.type)&&(Ve=l.stateNode,dt=!1),nn(t,i,l),Bo(l.stateNode),Ve=u,dt=f;break;case 5:ze||kt(l,i);case 6:if(u=Ve,f=dt,Ve=null,nn(t,i,l),Ve=u,dt=f,Ve!==null)if(dt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(l.stateNode)}catch(p){be(l,i,p)}else try{Ve.removeChild(l.stateNode)}catch(p){be(l,i,p)}break;case 18:Ve!==null&&(dt?(t=Ve,Hd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Xo(t)):Hd(Ve,l.stateNode));break;case 4:u=Ve,f=dt,Ve=l.stateNode.containerInfo,dt=!0,nn(t,i,l),Ve=u,dt=f;break;case 0:case 11:case 14:case 15:ze||Sn(2,l,i),ze||Sn(4,l,i),nn(t,i,l);break;case 1:ze||(kt(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Of(l,i,u)),nn(t,i,l);break;case 21:nn(t,i,l);break;case 22:ze=(u=ze)||l.memoizedState!==null,nn(t,i,l),ze=u;break;default:nn(t,i,l)}}function $f(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xo(t)}catch(l){be(i,i.return,l)}}function oy(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Kf),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Kf),i;default:throw Error(a(435,t.tag))}}function ir(t,i){var l=oy(t);i.forEach(function(u){var f=my.bind(null,t,u);l.has(u)||(l.add(u),u.then(f,f))})}function vt(t,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],p=t,T=i,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Dn(E.type)){Ve=E.stateNode,dt=!1;break e}break;case 5:Ve=E.stateNode,dt=!1;break e;case 3:case 4:Ve=E.stateNode.containerInfo,dt=!0;break e}E=E.return}if(Ve===null)throw Error(a(160));Zf(p,T,f),Ve=null,dt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Wf(i,t),i=i.sibling}var Lt=null;function Wf(t,i){var l=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vt(i,t),Tt(t),u&4&&(Sn(3,t,t.return),Io(3,t),Sn(5,t,t.return));break;case 1:vt(i,t),Tt(t),u&512&&(ze||l===null||kt(l,l.return)),u&64&&tn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Lt;if(vt(i,t),Tt(t),u&512&&(ze||l===null||kt(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=t.memoizedState,l===null)if(u===null)if(t.stateNode===null){e:{u=t.type,l=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[to]||p[it]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),tt(p,u,l),p[it]=t,Xe(p),u=p;break e;case"link":var T=Jd("link","href",f).get(u+(l.href||""));if(T){for(var E=0;E<T.length;E++)if(p=T[E],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(E,1);break t}}p=f.createElement(u),tt(p,u,l),f.head.appendChild(p);break;case"meta":if(T=Jd("meta","content",f).get(u+(l.content||""))){for(E=0;E<T.length;E++)if(p=T[E],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(E,1);break t}}p=f.createElement(u),tt(p,u,l),f.head.appendChild(p);break;default:throw Error(a(468,u))}p[it]=t,Xe(p),u=p}t.stateNode=u}else Kd(f,t.type,t.stateNode);else t.stateNode=Yd(f,u,t.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?Kd(f,t.type,t.stateNode):Yd(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&js(t,t.memoizedProps,l.memoizedProps)}break;case 27:vt(i,t),Tt(t),u&512&&(ze||l===null||kt(l,l.return)),l!==null&&u&4&&js(t,t.memoizedProps,l.memoizedProps);break;case 5:if(vt(i,t),Tt(t),u&512&&(ze||l===null||kt(l,l.return)),t.flags&32){f=t.stateNode;try{fi(f,"")}catch(w){be(t,t.return,w)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,js(t,f,l!==null?l.memoizedProps:f)),u&1024&&(nr=!0);break;case 6:if(vt(i,t),Tt(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,l=t.stateNode;try{l.nodeValue=u}catch(w){be(t,t.return,w)}}break;case 3:if(aa=null,f=Lt,Lt=oa(i.containerInfo),vt(i,t),Lt=f,Tt(t),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Xo(i.containerInfo)}catch(w){be(t,t.return,w)}nr&&(nr=!1,jf(t));break;case 4:u=Lt,Lt=oa(t.stateNode.containerInfo),vt(i,t),Tt(t),Lt=u;break;case 12:vt(i,t),Tt(t);break;case 13:vt(i,t),Tt(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ur=qt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,ir(t,u)));break;case 22:f=t.memoizedState!==null;var _=l!==null&&l.memoizedState!==null,I=tn,k=ze;if(tn=I||f,ze=k||_,vt(i,t),ze=k,tn=I,Tt(t),u&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||_||tn||ze||Zn(t)),l=null,i=t;;){if(i.tag===5||i.tag===26){if(l===null){_=l=i;try{if(p=_.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=_.stateNode;var O=_.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null;E.style.display=b==null||typeof b=="boolean"?"":(""+b).trim()}}catch(w){be(_,_.return,w)}}}else if(i.tag===6){if(l===null){_=i;try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(w){be(_,_.return,w)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ir(t,l))));break;case 19:vt(i,t),Tt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,ir(t,u)));break;case 30:break;case 21:break;default:vt(i,t),Tt(t)}}function Tt(t){var i=t.flags;if(i&2){try{for(var l,u=t.return;u!==null;){if(Yf(u)){l=u;break}u=u.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,p=er(t);Yl(t,p,f);break;case 5:var T=l.stateNode;l.flags&32&&(fi(T,""),l.flags&=-33);var E=er(t);Yl(t,E,T);break;case 3:case 4:var _=l.stateNode.containerInfo,I=er(t);tr(t,I,_);break;default:throw Error(a(161))}}catch(k){be(t,t.return,k)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function jf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;jf(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function En(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qf(t,i.alternate,i),i=i.sibling}function Zn(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Sn(4,i,i.return),Zn(i);break;case 1:kt(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Of(i,i.return,l),Zn(i);break;case 27:Bo(i.stateNode);case 26:case 5:kt(i,i.return),Zn(i);break;case 22:i.memoizedState===null&&Zn(i);break;case 30:Zn(i);break;default:Zn(i)}t=t.sibling}}function An(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=t,p=i,T=p.flags;switch(p.tag){case 0:case 11:case 15:An(f,p,l),Io(4,p);break;case 1:if(An(f,p,l),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){be(u,u.return,I)}if(u=p,f=u.updateQueue,f!==null){var E=u.stateNode;try{var _=f.shared.hiddenCallbacks;if(_!==null)for(f.shared.hiddenCallbacks=null,f=0;f<_.length;f++)Rc(_[f],E)}catch(I){be(u,u.return,I)}}l&&T&64&&zf(p),bo(p,p.return);break;case 27:Jf(p);case 26:case 5:An(f,p,l),l&&u===null&&T&4&&Ff(p),bo(p,p.return);break;case 12:An(f,p,l);break;case 13:An(f,p,l),l&&T&4&&$f(f,p);break;case 22:p.memoizedState===null&&An(f,p,l),bo(p,p.return);break;case 30:break;default:An(f,p,l)}i=i.sibling}}function or(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&yo(l))}function lr(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yo(t))}function Pt(t,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ed(t,i,l,u),i=i.sibling}function ed(t,i,l,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Pt(t,i,l,u),f&2048&&Io(9,i);break;case 1:Pt(t,i,l,u);break;case 3:Pt(t,i,l,u),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yo(t)));break;case 12:if(f&2048){Pt(t,i,l,u),t=i.stateNode;try{var p=i.memoizedProps,T=p.id,E=p.onPostCommit;typeof E=="function"&&E(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(_){be(i,i.return,_)}}else Pt(t,i,l,u);break;case 13:Pt(t,i,l,u);break;case 23:break;case 22:p=i.stateNode,T=i.alternate,i.memoizedState!==null?p._visibility&2?Pt(t,i,l,u):wo(t,i):p._visibility&2?Pt(t,i,l,u):(p._visibility|=2,Ui(t,i,l,u,(i.subtreeFlags&10256)!==0)),f&2048&&or(T,i);break;case 24:Pt(t,i,l,u),f&2048&&lr(i.alternate,i);break;default:Pt(t,i,l,u)}}function Ui(t,i,l,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=t,T=i,E=l,_=u,I=T.flags;switch(T.tag){case 0:case 11:case 15:Ui(p,T,E,_,f),Io(8,T);break;case 23:break;case 22:var k=T.stateNode;T.memoizedState!==null?k._visibility&2?Ui(p,T,E,_,f):wo(p,T):(k._visibility|=2,Ui(p,T,E,_,f)),f&&I&2048&&or(T.alternate,T);break;case 24:Ui(p,T,E,_,f),f&&I&2048&&lr(T.alternate,T);break;default:Ui(p,T,E,_,f)}i=i.sibling}}function wo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,u=i,f=u.flags;switch(u.tag){case 22:wo(l,u),f&2048&&or(u.alternate,u);break;case 24:wo(l,u),f&2048&&lr(u.alternate,u);break;default:wo(l,u)}i=i.sibling}}var Lo=8192;function Ii(t){if(t.subtreeFlags&Lo)for(t=t.child;t!==null;)td(t),t=t.sibling}function td(t){switch(t.tag){case 26:Ii(t),t.flags&Lo&&t.memoizedState!==null&&Oy(Lt,t.memoizedState,t.memoizedProps);break;case 5:Ii(t);break;case 3:case 4:var i=Lt;Lt=oa(t.stateNode.containerInfo),Ii(t),Lt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Lo,Lo=16777216,Ii(t),Lo=i):Ii(t));break;default:Ii(t)}}function nd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Vo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];$e=u,od(u,t)}nd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)id(t),t=t.sibling}function id(t){switch(t.tag){case 0:case 11:case 15:Vo(t),t.flags&2048&&Sn(9,t,t.return);break;case 3:Vo(t);break;case 12:Vo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Jl(t)):Vo(t);break;default:Vo(t)}}function Jl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];$e=u,od(u,t)}nd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Sn(8,i,i.return),Jl(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Jl(i));break;default:Jl(i)}t=t.sibling}}function od(t,i){for(;$e!==null;){var l=$e;switch(l.tag){case 0:case 11:case 15:Sn(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yo(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,$e=u;else e:for(l=t;$e!==null;){u=$e;var f=u.sibling,p=u.return;if(Xf(u),u===l){$e=null;break e}if(f!==null){f.return=p,$e=f;break e}$e=p}}}var ly={getCacheForType:function(t){var i=ot(Ke),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l}},ay=typeof WeakMap=="function"?WeakMap:Map,Me=0,we=null,Te=null,Se=0,Re=0,Ct=null,xn=!1,bi=!1,ar=!1,on=0,He=0,_n=0,$n=0,sr=0,Ut=0,wi=0,qo=null,mt=null,rr=!1,ur=0,Kl=1/0,Ql=null,Mn=null,et=0,Rn=null,Li=null,Vi=0,cr=0,fr=null,ld=null,Go=0,dr=null;function St(){if((Me&2)!==0&&Se!==0)return Se&-Se;if(D.T!==null){var t=Ei;return t!==0?t:Tr()}return Cu()}function ad(){Ut===0&&(Ut=(Se&536870912)===0||xe?gu():536870912);var t=Dt.current;return t!==null&&(t.flags|=32),Ut}function Et(t,i,l){(t===we&&(Re===2||Re===9)||t.cancelPendingCommit!==null)&&(qi(t,0),Nn(t,Se,Ut,!1)),eo(t,l),((Me&2)===0||t!==we)&&(t===we&&((Me&2)===0&&($n|=l),He===4&&Nn(t,Se,Ut,!1)),Bt(t))}function sd(t,i,l){if((Me&6)!==0)throw Error(a(327));var u=!l&&(i&124)===0&&(i&t.expiredLanes)===0||ji(t,i),f=u?uy(t,i):hr(t,i,!0),p=u;do{if(f===0){bi&&!u&&Nn(t,i,0,!1);break}else{if(l=t.current.alternate,p&&!sy(l)){f=hr(t,i,!1),p=!1;continue}if(f===2){if(p=i,t.errorRecoveryDisabledLanes&p)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var E=t;f=qo;var _=E.current.memoizedState.isDehydrated;if(_&&(qi(E,T).flags|=256),T=hr(E,T,!1),T!==2){if(ar&&!_){E.errorRecoveryDisabledLanes|=p,$n|=p,f=4;break e}p=mt,mt=f,p!==null&&(mt===null?mt=p:mt.push.apply(mt,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){qi(t,0),Nn(t,i,0,!0);break}e:{switch(u=t,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Nn(u,i,Ut,!xn);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=ur+300-qt(),10<f)){if(Nn(u,i,Ut,!xn),ll(u,0,!0)!==0)break e;u.timeoutHandle=qd(rd.bind(null,u,l,mt,Ql,rr,i,Ut,$n,wi,xn,p,2,-0,0),f);break e}rd(u,l,mt,Ql,rr,i,Ut,$n,wi,xn,p,0,-0,0)}}break}while(!0);Bt(t)}function rd(t,i,l,u,f,p,T,E,_,I,k,O,b,w){if(t.timeoutHandle=-1,O=i.subtreeFlags,(O&8192||(O&16785408)===16785408)&&(Fo={stylesheets:null,count:0,unsuspend:zy},td(i),O=Fy(),O!==null)){t.cancelPendingCommit=O(hd.bind(null,t,i,p,l,u,f,T,E,_,k,1,b,w)),Nn(t,p,T,!I);return}hd(t,i,p,l,u,f,T,E,_)}function sy(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],p=f.getSnapshot;f=f.value;try{if(!gt(p(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Nn(t,i,l,u){i&=~sr,i&=~$n,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var f=i;0<f;){var p=31-ht(f),T=1<<p;u[p]=-1,f&=~T}l!==0&&vu(t,l,i)}function Xl(){return(Me&6)===0?(Ho(0),!1):!0}function mr(){if(Te!==null){if(Re===0)var t=Te.return;else t=Te,Xt=Yn=null,Us(t),Ni=null,No=0,t=Te;for(;t!==null;)Bf(t.alternate,t),t=t.return;Te=null}}function qi(t,i){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,_y(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),mr(),we=t,Te=l=Jt(t.current,null),Se=i,Re=0,Ct=null,xn=!1,bi=ji(t,i),ar=!1,wi=Ut=sr=$n=_n=He=0,mt=qo=null,rr=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var f=31-ht(u),p=1<<f;i|=t[f],u&=~p}return on=i,yl(),l}function ud(t,i){ye=null,D.H=ql,i===To||i===Ml?(i=_c(),Re=3):i===Ec?(i=_c(),Re=4):Re=i===Rf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ct=i,Te===null&&(He=1,Bl(t,_t(i,t.current)))}function cd(){var t=D.H;return D.H=ql,t===null?ql:t}function fd(){var t=D.A;return D.A=ly,t}function pr(){He=4,xn||(Se&4194048)!==Se&&Dt.current!==null||(bi=!0),(_n&134217727)===0&&($n&134217727)===0||we===null||Nn(we,Se,Ut,!1)}function hr(t,i,l){var u=Me;Me|=2;var f=cd(),p=fd();(we!==t||Se!==i)&&(Ql=null,qi(t,i)),i=!1;var T=He;e:do try{if(Re!==0&&Te!==null){var E=Te,_=Ct;switch(Re){case 8:mr(),T=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(i=!0);var I=Re;if(Re=0,Ct=null,Gi(t,E,_,I),l&&bi){T=0;break e}break;default:I=Re,Re=0,Ct=null,Gi(t,E,_,I)}}ry(),T=He;break}catch(k){ud(t,k)}while(!0);return i&&t.shellSuspendCounter++,Xt=Yn=null,Me=u,D.H=f,D.A=p,Te===null&&(we=null,Se=0,yl()),T}function ry(){for(;Te!==null;)dd(Te)}function uy(t,i){var l=Me;Me|=2;var u=cd(),f=fd();we!==t||Se!==i?(Ql=null,Kl=qt()+500,qi(t,i)):bi=ji(t,i);e:do try{if(Re!==0&&Te!==null){i=Te;var p=Ct;t:switch(Re){case 1:Re=0,Ct=null,Gi(t,i,p,1);break;case 2:case 9:if(Ac(p)){Re=0,Ct=null,md(i);break}i=function(){Re!==2&&Re!==9||we!==t||(Re=7),Bt(t)},p.then(i,i);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Ac(p)?(Re=0,Ct=null,md(i)):(Re=0,Ct=null,Gi(t,i,p,7));break;case 5:var T=null;switch(Te.tag){case 26:T=Te.memoizedState;case 5:case 27:var E=Te;if(!T||Qd(T)){Re=0,Ct=null;var _=E.sibling;if(_!==null)Te=_;else{var I=E.return;I!==null?(Te=I,Zl(I)):Te=null}break t}}Re=0,Ct=null,Gi(t,i,p,5);break;case 6:Re=0,Ct=null,Gi(t,i,p,6);break;case 8:mr(),He=6;break e;default:throw Error(a(462))}}cy();break}catch(k){ud(t,k)}while(!0);return Xt=Yn=null,D.H=u,D.A=f,Me=l,Te!==null?0:(we=null,Se=0,yl(),He)}function cy(){for(;Te!==null&&!bh();)dd(Te)}function dd(t){var i=kf(t.alternate,t,on);t.memoizedProps=t.pendingProps,i===null?Zl(t):Te=i}function md(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=wf(l,i,i.pendingProps,i.type,void 0,Se);break;case 11:i=wf(l,i,i.pendingProps,i.type.render,i.ref,Se);break;case 5:Us(i);default:Bf(l,i),i=Te=mc(i,on),i=kf(l,i,on)}t.memoizedProps=t.pendingProps,i===null?Zl(t):Te=i}function Gi(t,i,l,u){Xt=Yn=null,Us(i),Ni=null,No=0;var f=i.return;try{if(jg(t,f,i,l,Se)){He=1,Bl(t,_t(l,t.current)),Te=null;return}}catch(p){if(f!==null)throw Te=f,p;He=1,Bl(t,_t(l,t.current)),Te=null;return}i.flags&32768?(xe||u===1?t=!0:bi||(Se&536870912)!==0?t=!1:(xn=t=!0,(u===2||u===9||u===3||u===6)&&(u=Dt.current,u!==null&&u.tag===13&&(u.flags|=16384))),pd(i,t)):Zl(i)}function Zl(t){var i=t;do{if((i.flags&32768)!==0){pd(i,xn);return}t=i.return;var l=ty(i.alternate,i,on);if(l!==null){Te=l;return}if(i=i.sibling,i!==null){Te=i;return}Te=i=t}while(i!==null);He===0&&(He=5)}function pd(t,i){do{var l=ny(t.alternate,t);if(l!==null){l.flags&=32767,Te=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){Te=t;return}Te=t=l}while(t!==null);He=6,Te=null}function hd(t,i,l,u,f,p,T,E,_){t.cancelPendingCommit=null;do $l();while(et!==0);if((Me&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=ls,zh(t,l,p,T,E,_),t===we&&(Te=we=null,Se=0),Li=i,Rn=t,Vi=l,cr=p,fr=f,ld=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,py(nl,function(){return Cd(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=D.T,D.T=null,f=V.p,V.p=2,T=Me,Me|=4;try{iy(t,i,l)}finally{Me=T,V.p=f,D.T=u}}et=1,gd(),yd(),vd()}}function gd(){if(et===1){et=0;var t=Rn,i=Li,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=D.T,D.T=null;var u=V.p;V.p=2;var f=Me;Me|=4;try{Wf(i,t);var p=Rr,T=ic(t.containerInfo),E=p.focusedElem,_=p.selectionRange;if(T!==E&&E&&E.ownerDocument&&nc(E.ownerDocument.documentElement,E)){if(_!==null&&es(E)){var I=_.start,k=_.end;if(k===void 0&&(k=I),"selectionStart"in E)E.selectionStart=I,E.selectionEnd=Math.min(k,E.value.length);else{var O=E.ownerDocument||document,b=O&&O.defaultView||window;if(b.getSelection){var w=b.getSelection(),pe=E.textContent.length,fe=Math.min(_.start,pe),Ie=_.end===void 0?fe:Math.min(_.end,pe);!w.extend&&fe>Ie&&(T=Ie,Ie=fe,fe=T);var N=tc(E,fe),R=tc(E,Ie);if(N&&R&&(w.rangeCount!==1||w.anchorNode!==N.node||w.anchorOffset!==N.offset||w.focusNode!==R.node||w.focusOffset!==R.offset)){var U=O.createRange();U.setStart(N.node,N.offset),w.removeAllRanges(),fe>Ie?(w.addRange(U),w.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),w.addRange(U))}}}}for(O=[],w=E;w=w.parentNode;)w.nodeType===1&&O.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<O.length;E++){var B=O[E];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}ua=!!Mr,Rr=Mr=null}finally{Me=f,V.p=u,D.T=l}}t.current=i,et=2}}function yd(){if(et===2){et=0;var t=Rn,i=Li,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=D.T,D.T=null;var u=V.p;V.p=2;var f=Me;Me|=4;try{Qf(t,i.alternate,i)}finally{Me=f,V.p=u,D.T=l}}et=3}}function vd(){if(et===4||et===3){et=0,wh();var t=Rn,i=Li,l=Vi,u=ld;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?et=5:(et=0,Li=Rn=null,Td(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Mn=null),wa(l),i=i.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Wi,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=D.T,f=V.p,V.p=2,D.T=null;try{for(var p=t.onRecoverableError,T=0;T<u.length;T++){var E=u[T];p(E.value,{componentStack:E.stack})}}finally{D.T=i,V.p=f}}(Vi&3)!==0&&$l(),Bt(t),f=t.pendingLanes,(l&4194090)!==0&&(f&42)!==0?t===dr?Go++:(Go=0,dr=t):Go=0,Ho(0)}}function Td(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,yo(i)))}function $l(t){return gd(),yd(),vd(),Cd()}function Cd(){if(et!==5)return!1;var t=Rn,i=cr;cr=0;var l=wa(Vi),u=D.T,f=V.p;try{V.p=32>l?32:l,D.T=null,l=fr,fr=null;var p=Rn,T=Vi;if(et=0,Li=Rn=null,Vi=0,(Me&6)!==0)throw Error(a(331));var E=Me;if(Me|=4,id(p.current),ed(p,p.current,T,l),Me=E,Ho(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Wi,p)}catch{}return!0}finally{V.p=f,D.T=u,Td(t,i)}}function Sd(t,i,l){i=_t(l,i),i=Fs(t.stateNode,i,2),t=yn(t,i,2),t!==null&&(eo(t,2),Bt(t))}function be(t,i,l){if(t.tag===3)Sd(t,t,l);else for(;i!==null;){if(i.tag===3){Sd(i,t,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mn===null||!Mn.has(u))){t=_t(l,t),l=_f(2),u=yn(i,l,2),u!==null&&(Mf(l,u,i,t),eo(u,2),Bt(u));break}}i=i.return}}function gr(t,i,l){var u=t.pingCache;if(u===null){u=t.pingCache=new ay;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(l)||(ar=!0,f.add(l),t=fy.bind(null,t,i,l),i.then(t,t))}function fy(t,i,l){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,we===t&&(Se&l)===l&&(He===4||He===3&&(Se&62914560)===Se&&300>qt()-ur?(Me&2)===0&&qi(t,0):sr|=l,wi===Se&&(wi=0)),Bt(t)}function Ed(t,i){i===0&&(i=yu()),t=vi(t,i),t!==null&&(eo(t,i),Bt(t))}function dy(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),Ed(t,l)}function my(t,i){var l=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),Ed(t,l)}function py(t,i){return ni(t,i)}var Wl=null,Hi=null,yr=!1,jl=!1,vr=!1,Wn=0;function Bt(t){t!==Hi&&t.next===null&&(Hi===null?Wl=Hi=t:Hi=Hi.next=t),jl=!0,yr||(yr=!0,gy())}function Ho(t,i){if(!vr&&jl){vr=!0;do for(var l=!1,u=Wl;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var T=u.suspendedLanes,E=u.pingedLanes;p=(1<<31-ht(42|t)+1)-1,p&=f&~(T&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Md(u,p))}else p=Se,p=ll(u,u===we?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ji(u,p)||(l=!0,Md(u,p));u=u.next}while(l);vr=!1}}function hy(){Ad()}function Ad(){jl=yr=!1;var t=0;Wn!==0&&(xy()&&(t=Wn),Wn=0);for(var i=qt(),l=null,u=Wl;u!==null;){var f=u.next,p=xd(u,i);p===0?(u.next=null,l===null?Wl=f:l.next=f,f===null&&(Hi=l)):(l=u,(t!==0||(p&3)!==0)&&(jl=!0)),u=f}Ho(t)}function xd(t,i){for(var l=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var T=31-ht(p),E=1<<T,_=f[T];_===-1?((E&l)===0||(E&u)!==0)&&(f[T]=Bh(E,i)):_<=i&&(t.expiredLanes|=E),p&=~E}if(i=we,l=Se,l=ll(t,t===i?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,l===0||t===i&&(Re===2||Re===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&ii(u),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||ji(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(u!==null&&ii(u),wa(l)){case 2:case 8:l=pu;break;case 32:l=nl;break;case 268435456:l=hu;break;default:l=nl}return u=_d.bind(null,t),l=ni(l,u),t.callbackPriority=i,t.callbackNode=l,i}return u!==null&&u!==null&&ii(u),t.callbackPriority=2,t.callbackNode=null,2}function _d(t,i){if(et!==0&&et!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if($l()&&t.callbackNode!==l)return null;var u=Se;return u=ll(t,t===we?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(sd(t,u,i),xd(t,qt()),t.callbackNode!=null&&t.callbackNode===l?_d.bind(null,t):null)}function Md(t,i){if($l())return null;sd(t,i,!0)}function gy(){My(function(){(Me&6)!==0?ni(mu,hy):Ad()})}function Tr(){return Wn===0&&(Wn=gu()),Wn}function Rd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cl(""+t)}function Nd(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function yy(t,i,l,u,f){if(i==="submit"&&l&&l.stateNode===f){var p=Rd((f[ut]||null).action),T=u.submitter;T&&(i=(i=T[ut]||null)?Rd(i.formAction):T.getAttribute("formAction"),i!==null&&(p=i,T=null));var E=new pl("action","action",null,u,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wn!==0){var _=T?Nd(f,T):new FormData(f);ks(l,{pending:!0,data:_,method:f.method,action:p},null,_)}}else typeof p=="function"&&(E.preventDefault(),_=T?Nd(f,T):new FormData(f),ks(l,{pending:!0,data:_,method:f.method,action:p},p,_))},currentTarget:f}]})}}for(var Cr=0;Cr<os.length;Cr++){var Sr=os[Cr],vy=Sr.toLowerCase(),Ty=Sr[0].toUpperCase()+Sr.slice(1);wt(vy,"on"+Ty)}wt(ac,"onAnimationEnd"),wt(sc,"onAnimationIteration"),wt(rc,"onAnimationStart"),wt("dblclick","onDoubleClick"),wt("focusin","onFocus"),wt("focusout","onBlur"),wt(qg,"onTransitionRun"),wt(Gg,"onTransitionStart"),wt(Hg,"onTransitionCancel"),wt(uc,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function Dd(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var u=t[l],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var T=u.length-1;0<=T;T--){var E=u[T],_=E.instance,I=E.currentTarget;if(E=E.listener,_!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=I;try{p(f)}catch(k){Pl(k)}f.currentTarget=null,p=_}else for(T=0;T<u.length;T++){if(E=u[T],_=E.instance,I=E.currentTarget,E=E.listener,_!==p&&f.isPropagationStopped())break e;p=E,f.currentTarget=I;try{p(f)}catch(k){Pl(k)}f.currentTarget=null,p=_}}}}function Ce(t,i){var l=i[La];l===void 0&&(l=i[La]=new Set);var u=t+"__bubble";l.has(u)||(Ud(i,t,2,!1),l.add(u))}function Er(t,i,l){var u=0;i&&(u|=4),Ud(l,t,u,i)}var ea="_reactListening"+Math.random().toString(36).slice(2);function Ar(t){if(!t[ea]){t[ea]=!0,Eu.forEach(function(l){l!=="selectionchange"&&(Cy.has(l)||Er(l,!1,t),Er(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ea]||(i[ea]=!0,Er("selectionchange",!1,i))}}function Ud(t,i,l,u){switch(em(i)){case 2:var f=Ky;break;case 8:f=Qy;break;default:f=Gr}l=f.bind(null,i,l,t),f=void 0,!Ya||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(i,l,{capture:!0,passive:f}):t.addEventListener(i,l,!0):f!==void 0?t.addEventListener(i,l,{passive:f}):t.addEventListener(i,l,!1)}function xr(t,i,l,u,f){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var E=u.stateNode.containerInfo;if(E===f)break;if(T===4)for(T=u.return;T!==null;){var _=T.tag;if((_===3||_===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;E!==null;){if(T=li(E),T===null)return;if(_=T.tag,_===5||_===6||_===26||_===27){u=p=T;continue e}E=E.parentNode}}u=u.return}qu(function(){var I=p,k=Oa(l),O=[];e:{var b=cc.get(t);if(b!==void 0){var w=pl,pe=t;switch(t){case"keypress":if(dl(l)===0)break e;case"keydown":case"keyup":w=pg;break;case"focusin":pe="focus",w=Xa;break;case"focusout":pe="blur",w=Xa;break;case"beforeblur":case"afterblur":w=Xa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=yg;break;case ac:case sc:case rc:w=lg;break;case uc:w=Tg;break;case"scroll":case"scrollend":w=eg;break;case"wheel":w=Sg;break;case"copy":case"cut":case"paste":w=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Bu;break;case"toggle":case"beforetoggle":w=Ag}var fe=(i&4)!==0,Ie=!fe&&(t==="scroll"||t==="scrollend"),N=fe?b!==null?b+"Capture":null:b;fe=[];for(var R=I,U;R!==null;){var B=R;if(U=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||U===null||N===null||(B=io(R,N),B!=null&&fe.push(Po(R,B,U))),Ie)break;R=R.return}0<fe.length&&(b=new w(b,pe,null,l,k),O.push({event:b,listeners:fe}))}}if((i&7)===0){e:{if(b=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",b&&l!==za&&(pe=l.relatedTarget||l.fromElement)&&(li(pe)||pe[oi]))break e;if((w||b)&&(b=k.window===k?k:(b=k.ownerDocument)?b.defaultView||b.parentWindow:window,w?(pe=l.relatedTarget||l.toElement,w=I,pe=pe?li(pe):null,pe!==null&&(Ie=d(pe),fe=pe.tag,pe!==Ie||fe!==5&&fe!==27&&fe!==6)&&(pe=null)):(w=null,pe=I),w!==pe)){if(fe=ku,B="onMouseLeave",N="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(fe=Bu,B="onPointerLeave",N="onPointerEnter",R="pointer"),Ie=w==null?b:no(w),U=pe==null?b:no(pe),b=new fe(B,R+"leave",w,l,k),b.target=Ie,b.relatedTarget=U,B=null,li(k)===I&&(fe=new fe(N,R+"enter",pe,l,k),fe.target=U,fe.relatedTarget=Ie,B=fe),Ie=B,w&&pe)t:{for(fe=w,N=pe,R=0,U=fe;U;U=ki(U))R++;for(U=0,B=N;B;B=ki(B))U++;for(;0<R-U;)fe=ki(fe),R--;for(;0<U-R;)N=ki(N),U--;for(;R--;){if(fe===N||N!==null&&fe===N.alternate)break t;fe=ki(fe),N=ki(N)}fe=null}else fe=null;w!==null&&Id(O,b,w,fe,!1),pe!==null&&Ie!==null&&Id(O,Ie,pe,fe,!0)}}e:{if(b=I?no(I):window,w=b.nodeName&&b.nodeName.toLowerCase(),w==="select"||w==="input"&&b.type==="file")var oe=Xu;else if(Ku(b))if(Zu)oe=wg;else{oe=Ig;var ve=Ug}else w=b.nodeName,!w||w.toLowerCase()!=="input"||b.type!=="checkbox"&&b.type!=="radio"?I&&Ba(I.elementType)&&(oe=Xu):oe=bg;if(oe&&(oe=oe(t,I))){Qu(O,oe,l,k);break e}ve&&ve(t,b,I),t==="focusout"&&I&&b.type==="number"&&I.memoizedProps.value!=null&&Pa(b,"number",b.value)}switch(ve=I?no(I):window,t){case"focusin":(Ku(ve)||ve.contentEditable==="true")&&(hi=ve,ts=I,fo=null);break;case"focusout":fo=ts=hi=null;break;case"mousedown":ns=!0;break;case"contextmenu":case"mouseup":case"dragend":ns=!1,oc(O,l,k);break;case"selectionchange":if(Vg)break;case"keydown":case"keyup":oc(O,l,k)}var re;if($a)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else pi?Yu(t,l)&&(de="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(de="onCompositionStart");de&&(zu&&l.locale!=="ko"&&(pi||de!=="onCompositionStart"?de==="onCompositionEnd"&&pi&&(re=Gu()):(mn=k,Ja="value"in mn?mn.value:mn.textContent,pi=!0)),ve=ta(I,de),0<ve.length&&(de=new Pu(de,t,null,l,k),O.push({event:de,listeners:ve}),re?de.data=re:(re=Ju(l),re!==null&&(de.data=re)))),(re=_g?Mg(t,l):Rg(t,l))&&(de=ta(I,"onBeforeInput"),0<de.length&&(ve=new Pu("onBeforeInput","beforeinput",null,l,k),O.push({event:ve,listeners:de}),ve.data=re)),yy(O,t,I,l,k)}Dd(O,i)})}function Po(t,i,l){return{instance:t,listener:i,currentTarget:l}}function ta(t,i){for(var l=i+"Capture",u=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=io(t,l),f!=null&&u.unshift(Po(t,f,p)),f=io(t,i),f!=null&&u.push(Po(t,f,p))),t.tag===3)return u;t=t.return}return[]}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Id(t,i,l,u,f){for(var p=i._reactName,T=[];l!==null&&l!==u;){var E=l,_=E.alternate,I=E.stateNode;if(E=E.tag,_!==null&&_===u)break;E!==5&&E!==26&&E!==27||I===null||(_=I,f?(I=io(l,p),I!=null&&T.unshift(Po(l,I,_))):f||(I=io(l,p),I!=null&&T.push(Po(l,I,_)))),l=l.return}T.length!==0&&t.push({event:i,listeners:T})}var Sy=/\r\n?/g,Ey=/\u0000|\uFFFD/g;function bd(t){return(typeof t=="string"?t:""+t).replace(Sy,`
`).replace(Ey,"")}function wd(t,i){return i=bd(i),bd(t)===i}function na(){}function Ue(t,i,l,u,f,p){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||fi(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&fi(t,""+u);break;case"className":sl(t,"class",u);break;case"tabIndex":sl(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":sl(t,l,u);break;case"style":Lu(t,u,p);break;case"data":if(i!=="object"){sl(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=cl(""+u),t.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(i!=="input"&&Ue(t,i,"name",f.name,f,null),Ue(t,i,"formEncType",f.formEncType,f,null),Ue(t,i,"formMethod",f.formMethod,f,null),Ue(t,i,"formTarget",f.formTarget,f,null)):(Ue(t,i,"encType",f.encType,f,null),Ue(t,i,"method",f.method,f,null),Ue(t,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(l);break}u=cl(""+u),t.setAttribute(l,u);break;case"onClick":u!=null&&(t.onclick=na);break;case"onScroll":u!=null&&Ce("scroll",t);break;case"onScrollEnd":u!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}l=cl(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""+u):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":u===!0?t.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(l,u):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(l,u):t.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(l):t.setAttribute(l,u);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),al(t,"popover",u);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":al(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wh.get(l)||l,al(t,l,u))}}function _r(t,i,l,u,f,p){switch(l){case"style":Lu(t,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=l}}break;case"children":typeof u=="string"?fi(t,u):(typeof u=="number"||typeof u=="bigint")&&fi(t,""+u);break;case"onScroll":u!=null&&Ce("scroll",t);break;case"onScrollEnd":u!=null&&Ce("scrollend",t);break;case"onClick":u!=null&&(t.onclick=na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Au.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),p=t[ut]||null,p=p!=null?p[l]:null,typeof p=="function"&&t.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,u,f);break e}l in t?t[l]=u:u===!0?t.setAttribute(l,""):al(t,l,u)}}}function tt(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var u=!1,f=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ue(t,i,p,T,l,null)}}f&&Ue(t,i,"srcSet",l.srcSet,l,null),u&&Ue(t,i,"src",l.src,l,null);return;case"input":Ce("invalid",t);var E=p=T=f=null,_=null,I=null;for(u in l)if(l.hasOwnProperty(u)){var k=l[u];if(k!=null)switch(u){case"name":f=k;break;case"type":T=k;break;case"checked":_=k;break;case"defaultChecked":I=k;break;case"value":p=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,i));break;default:Ue(t,i,u,k,l,null)}}Uu(t,p,E,_,I,T,f,!1),rl(t);return;case"select":Ce("invalid",t),u=T=p=null;for(f in l)if(l.hasOwnProperty(f)&&(E=l[f],E!=null))switch(f){case"value":p=E;break;case"defaultValue":T=E;break;case"multiple":u=E;default:Ue(t,i,f,E,l,null)}i=p,l=T,t.multiple=!!u,i!=null?ci(t,!!u,i,!1):l!=null&&ci(t,!!u,l,!0);return;case"textarea":Ce("invalid",t),p=f=u=null;for(T in l)if(l.hasOwnProperty(T)&&(E=l[T],E!=null))switch(T){case"value":u=E;break;case"defaultValue":f=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ue(t,i,T,E,l,null)}bu(t,u,f,p),rl(t);return;case"option":for(_ in l)if(l.hasOwnProperty(_)&&(u=l[_],u!=null))switch(_){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ue(t,i,_,u,l,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(u=0;u<ko.length;u++)Ce(ko[u],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in l)if(l.hasOwnProperty(I)&&(u=l[I],u!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ue(t,i,I,u,l,null)}return;default:if(Ba(i)){for(k in l)l.hasOwnProperty(k)&&(u=l[k],u!==void 0&&_r(t,i,k,u,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(u=l[E],u!=null&&Ue(t,i,E,u,l,null))}function Ay(t,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,E=null,_=null,I=null,k=null;for(w in l){var O=l[w];if(l.hasOwnProperty(w)&&O!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":_=O;default:u.hasOwnProperty(w)||Ue(t,i,w,null,u,O)}}for(var b in u){var w=u[b];if(O=l[b],u.hasOwnProperty(b)&&(w!=null||O!=null))switch(b){case"type":p=w;break;case"name":f=w;break;case"checked":I=w;break;case"defaultChecked":k=w;break;case"value":T=w;break;case"defaultValue":E=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(137,i));break;default:w!==O&&Ue(t,i,b,w,u,O)}}ka(t,T,E,_,I,k,p,f);return;case"select":w=T=E=b=null;for(p in l)if(_=l[p],l.hasOwnProperty(p)&&_!=null)switch(p){case"value":break;case"multiple":w=_;default:u.hasOwnProperty(p)||Ue(t,i,p,null,u,_)}for(f in u)if(p=u[f],_=l[f],u.hasOwnProperty(f)&&(p!=null||_!=null))switch(f){case"value":b=p;break;case"defaultValue":E=p;break;case"multiple":T=p;default:p!==_&&Ue(t,i,f,p,u,_)}i=E,l=T,u=w,b!=null?ci(t,!!l,b,!1):!!u!=!!l&&(i!=null?ci(t,!!l,i,!0):ci(t,!!l,l?[]:"",!1));return;case"textarea":w=b=null;for(E in l)if(f=l[E],l.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ue(t,i,E,null,u,f)}for(T in u)if(f=u[T],p=l[T],u.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":b=f;break;case"defaultValue":w=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&Ue(t,i,T,f,u,p)}Iu(t,b,w);return;case"option":for(var pe in l)if(b=l[pe],l.hasOwnProperty(pe)&&b!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:Ue(t,i,pe,null,u,b)}for(_ in u)if(b=u[_],w=l[_],u.hasOwnProperty(_)&&b!==w&&(b!=null||w!=null))switch(_){case"selected":t.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Ue(t,i,_,b,u,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in l)b=l[fe],l.hasOwnProperty(fe)&&b!=null&&!u.hasOwnProperty(fe)&&Ue(t,i,fe,null,u,b);for(I in u)if(b=u[I],w=l[I],u.hasOwnProperty(I)&&b!==w&&(b!=null||w!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(137,i));break;default:Ue(t,i,I,b,u,w)}return;default:if(Ba(i)){for(var Ie in l)b=l[Ie],l.hasOwnProperty(Ie)&&b!==void 0&&!u.hasOwnProperty(Ie)&&_r(t,i,Ie,void 0,u,b);for(k in u)b=u[k],w=l[k],!u.hasOwnProperty(k)||b===w||b===void 0&&w===void 0||_r(t,i,k,b,u,w);return}}for(var N in l)b=l[N],l.hasOwnProperty(N)&&b!=null&&!u.hasOwnProperty(N)&&Ue(t,i,N,null,u,b);for(O in u)b=u[O],w=l[O],!u.hasOwnProperty(O)||b===w||b==null&&w==null||Ue(t,i,O,b,u,w)}var Mr=null,Rr=null;function ia(t){return t.nodeType===9?t:t.ownerDocument}function Ld(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Nr(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dr=null;function xy(){var t=window.event;return t&&t.type==="popstate"?t===Dr?!1:(Dr=t,!0):(Dr=null,!1)}var qd=typeof setTimeout=="function"?setTimeout:void 0,_y=typeof clearTimeout=="function"?clearTimeout:void 0,Gd=typeof Promise=="function"?Promise:void 0,My=typeof queueMicrotask=="function"?queueMicrotask:typeof Gd<"u"?function(t){return Gd.resolve(null).then(t).catch(Ry)}:qd;function Ry(t){setTimeout(function(){throw t})}function Dn(t){return t==="head"}function Hd(t,i){var l=i,u=0,f=0;do{var p=l.nextSibling;if(t.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var T=t.ownerDocument;if(l&1&&Bo(T.documentElement),l&2&&Bo(T.body),l&4)for(l=T.head,Bo(l),T=l.firstChild;T;){var E=T.nextSibling,_=T.nodeName;T[to]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=E}}if(f===0){t.removeChild(p),Xo(i);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);Xo(i)}function Ur(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ur(l),Va(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Ny(t,i,l,u){for(;t.nodeType===1;){var f=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[to])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Vt(t.nextSibling),t===null)break}return null}function Dy(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Vt(t.nextSibling),t===null))return null;return t}function Ir(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Uy(t,i){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Vt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var br=null;function kd(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}function Pd(t,i,l){switch(i=ia(l),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Bo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Va(t)}var It=new Map,Bd=new Set;function oa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ln=V.d;V.d={f:Iy,r:by,D:wy,C:Ly,L:Vy,m:qy,X:Hy,S:Gy,M:ky};function Iy(){var t=ln.f(),i=Xl();return t||i}function by(t){var i=ai(t);i!==null&&i.tag===5&&i.type==="form"?sf(i):ln.r(t)}var Pi=typeof document>"u"?null:document;function zd(t,i,l){var u=Pi;if(u&&typeof i=="string"&&i){var f=xt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Bd.has(f)||(Bd.add(f),t={rel:t,crossOrigin:l,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),tt(i,"link",t),Xe(i),u.head.appendChild(i)))}}function wy(t){ln.D(t),zd("dns-prefetch",t,null)}function Ly(t,i){ln.C(t,i),zd("preconnect",t,i)}function Vy(t,i,l){ln.L(t,i,l);var u=Pi;if(u&&t&&i){var f='link[rel="preload"][as="'+xt(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+xt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+xt(l.imageSizes)+'"]')):f+='[href="'+xt(t)+'"]';var p=f;switch(i){case"style":p=Bi(t);break;case"script":p=zi(t)}It.has(p)||(t=v({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),It.set(p,t),u.querySelector(f)!==null||i==="style"&&u.querySelector(zo(p))||i==="script"&&u.querySelector(Oo(p))||(i=u.createElement("link"),tt(i,"link",t),Xe(i),u.head.appendChild(i)))}}function qy(t,i){ln.m(t,i);var l=Pi;if(l&&t){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+xt(u)+'"][href="'+xt(t)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=zi(t)}if(!It.has(p)&&(t=v({rel:"modulepreload",href:t},i),It.set(p,t),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Oo(p)))return}u=l.createElement("link"),tt(u,"link",t),Xe(u),l.head.appendChild(u)}}}function Gy(t,i,l){ln.S(t,i,l);var u=Pi;if(u&&t){var f=si(u).hoistableStyles,p=Bi(t);i=i||"default";var T=f.get(p);if(!T){var E={loading:0,preload:null};if(T=u.querySelector(zo(p)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},l),(l=It.get(p))&&wr(t,l);var _=T=u.createElement("link");Xe(_),tt(_,"link",t),_._p=new Promise(function(I,k){_.onload=I,_.onerror=k}),_.addEventListener("load",function(){E.loading|=1}),_.addEventListener("error",function(){E.loading|=2}),E.loading|=4,la(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:E},f.set(p,T)}}}function Hy(t,i){ln.X(t,i);var l=Pi;if(l&&t){var u=si(l).hoistableScripts,f=zi(t),p=u.get(f);p||(p=l.querySelector(Oo(f)),p||(t=v({src:t,async:!0},i),(i=It.get(f))&&Lr(t,i),p=l.createElement("script"),Xe(p),tt(p,"link",t),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function ky(t,i){ln.M(t,i);var l=Pi;if(l&&t){var u=si(l).hoistableScripts,f=zi(t),p=u.get(f);p||(p=l.querySelector(Oo(f)),p||(t=v({src:t,async:!0,type:"module"},i),(i=It.get(f))&&Lr(t,i),p=l.createElement("script"),Xe(p),tt(p,"link",t),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function Od(t,i,l,u){var f=(f=ce.current)?oa(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Bi(l.href),l=si(f).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Bi(l.href);var p=si(f).hoistableStyles,T=p.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,T),(p=f.querySelector(zo(t)))&&!p._p&&(T.instance=p,T.state.loading=5),It.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},It.set(t,l),p||Py(f,t,l,T.state))),i&&u===null)throw Error(a(528,""));return T}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=zi(l),l=si(f).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Bi(t){return'href="'+xt(t)+'"'}function zo(t){return'link[rel="stylesheet"]['+t+"]"}function Fd(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Py(t,i,l,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),tt(i,"link",l),Xe(i),t.head.appendChild(i))}function zi(t){return'[src="'+xt(t)+'"]'}function Oo(t){return"script[async]"+t}function Yd(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+xt(l.href)+'"]');if(u)return i.instance=u,Xe(u),u;var f=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Xe(u),tt(u,"style",f),la(u,l.precedence,t),i.instance=u;case"stylesheet":f=Bi(l.href);var p=t.querySelector(zo(f));if(p)return i.state.loading|=4,i.instance=p,Xe(p),p;u=Fd(l),(f=It.get(f))&&wr(u,f),p=(t.ownerDocument||t).createElement("link"),Xe(p);var T=p;return T._p=new Promise(function(E,_){T.onload=E,T.onerror=_}),tt(p,"link",u),i.state.loading|=4,la(p,l.precedence,t),i.instance=p;case"script":return p=zi(l.src),(f=t.querySelector(Oo(p)))?(i.instance=f,Xe(f),f):(u=l,(f=It.get(p))&&(u=v({},l),Lr(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),Xe(f),tt(f,"link",u),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,la(u,l.precedence,t));return i.instance}function la(t,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,T=0;T<u.length;T++){var E=u[T];if(E.dataset.precedence===i)p=E;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function wr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Lr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var aa=null;function Jd(t,i,l){if(aa===null){var u=new Map,f=aa=new Map;f.set(l,u)}else f=aa,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(t))return u;for(u.set(t,null),l=l.getElementsByTagName(t),f=0;f<l.length;f++){var p=l[f];if(!(p[to]||p[it]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(i)||"";T=t+T;var E=u.get(T);E?E.push(p):u.set(T,[p])}}return u}function Kd(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function By(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Qd(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Fo=null;function zy(){}function Oy(t,i,l){if(Fo===null)throw Error(a(475));var u=Fo;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Bi(l.href),p=t.querySelector(zo(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=sa.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=p,Xe(p);return}p=t.ownerDocument||t,l=Fd(l),(f=It.get(f))&&wr(l,f),p=p.createElement("link"),Xe(p);var T=p;T._p=new Promise(function(E,_){T.onload=E,T.onerror=_}),tt(p,"link",l),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=sa.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function Fy(){if(Fo===null)throw Error(a(475));var t=Fo;return t.stylesheets&&t.count===0&&Vr(t,t.stylesheets),0<t.count?function(i){var l=setTimeout(function(){if(t.stylesheets&&Vr(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(l)}}:null}function sa(){if(this.count--,this.count===0){if(this.stylesheets)Vr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ra=null;function Vr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ra=new Map,i.forEach(Yy,t),ra=null,sa.call(t))}function Yy(t,i){if(!(i.state.loading&4)){var l=ra.get(t);if(l)var u=l.get(null);else{l=new Map,ra.set(t,l);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}f=i.instance,T=f.getAttribute("data-precedence"),p=l.get(T)||u,p===u&&l.set(null,f),l.set(T,f),this.count++,u=sa.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Yo={$$typeof:K,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Jy(t,i,l,u,f,p,T,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Xd(t,i,l,u,f,p,T,E,_,I,k,O){return t=new Jy(t,i,l,T,E,_,I,O),i=1,p===!0&&(i|=24),p=yt(3,null,null,i),t.current=p,p.stateNode=t,i=gs(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:i},Cs(p),t}function Zd(t){return t?(t=Ti,t):Ti}function $d(t,i,l,u,f,p){f=Zd(f),u.context===null?u.context=f:u.pendingContext=f,u=gn(i),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=yn(t,u,i),l!==null&&(Et(l,t,i),So(l,t,i))}function Wd(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function qr(t,i){Wd(t,i),(t=t.alternate)&&Wd(t,i)}function jd(t){if(t.tag===13){var i=vi(t,67108864);i!==null&&Et(i,t,67108864),qr(t,67108864)}}var ua=!0;function Ky(t,i,l,u){var f=D.T;D.T=null;var p=V.p;try{V.p=2,Gr(t,i,l,u)}finally{V.p=p,D.T=f}}function Qy(t,i,l,u){var f=D.T;D.T=null;var p=V.p;try{V.p=8,Gr(t,i,l,u)}finally{V.p=p,D.T=f}}function Gr(t,i,l,u){if(ua){var f=Hr(u);if(f===null)xr(t,i,u,ca,l),tm(t,u);else if(Zy(f,t,i,l,u))u.stopPropagation();else if(tm(t,u),i&4&&-1<Xy.indexOf(t)){for(;f!==null;){var p=ai(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Vn(p.pendingLanes);if(T!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var _=1<<31-ht(T);E.entanglements[1]|=_,T&=~_}Bt(p),(Me&6)===0&&(Kl=qt()+500,Ho(0))}}break;case 13:E=vi(p,2),E!==null&&Et(E,p,2),Xl(),qr(p,2)}if(p=Hr(u),p===null&&xr(t,i,u,ca,l),p===f)break;f=p}f!==null&&u.stopPropagation()}else xr(t,i,u,null,l)}}function Hr(t){return t=Oa(t),kr(t)}var ca=null;function kr(t){if(ca=null,t=li(t),t!==null){var i=d(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=m(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ca=t,null}function em(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lh()){case mu:return 2;case pu:return 8;case nl:case Vh:return 32;case hu:return 268435456;default:return 32}default:return 32}}var Pr=!1,Un=null,In=null,bn=null,Jo=new Map,Ko=new Map,wn=[],Xy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tm(t,i){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Jo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(i.pointerId)}}function Qo(t,i,l,u,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=ai(i),i!==null&&jd(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Zy(t,i,l,u,f){switch(i){case"focusin":return Un=Qo(Un,t,i,l,u,f),!0;case"dragenter":return In=Qo(In,t,i,l,u,f),!0;case"mouseover":return bn=Qo(bn,t,i,l,u,f),!0;case"pointerover":var p=f.pointerId;return Jo.set(p,Qo(Jo.get(p)||null,t,i,l,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Ko.set(p,Qo(Ko.get(p)||null,t,i,l,u,f)),!0}return!1}function nm(t){var i=li(t.target);if(i!==null){var l=d(i);if(l!==null){if(i=l.tag,i===13){if(i=m(l),i!==null){t.blockedOn=i,Oh(t.priority,function(){if(l.tag===13){var u=St();u=ba(u);var f=vi(l,u);f!==null&&Et(f,l,u),qr(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fa(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=Hr(t.nativeEvent);if(l===null){l=t.nativeEvent;var u=new l.constructor(l.type,l);za=u,l.target.dispatchEvent(u),za=null}else return i=ai(l),i!==null&&jd(i),t.blockedOn=l,!1;i.shift()}return!0}function im(t,i,l){fa(t)&&l.delete(i)}function $y(){Pr=!1,Un!==null&&fa(Un)&&(Un=null),In!==null&&fa(In)&&(In=null),bn!==null&&fa(bn)&&(bn=null),Jo.forEach(im),Ko.forEach(im)}function da(t,i){t.blockedOn===i&&(t.blockedOn=null,Pr||(Pr=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$y)))}var ma=null;function om(t){ma!==t&&(ma=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ma===t&&(ma=null);for(var i=0;i<t.length;i+=3){var l=t[i],u=t[i+1],f=t[i+2];if(typeof u!="function"){if(kr(u||l)===null)continue;break}var p=ai(l);p!==null&&(t.splice(i,3),i-=3,ks(p,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function Xo(t){function i(_){return da(_,t)}Un!==null&&da(Un,t),In!==null&&da(In,t),bn!==null&&da(bn,t),Jo.forEach(i),Ko.forEach(i);for(var l=0;l<wn.length;l++){var u=wn[l];u.blockedOn===t&&(u.blockedOn=null)}for(;0<wn.length&&(l=wn[0],l.blockedOn===null);)nm(l),l.blockedOn===null&&wn.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],p=l[u+1],T=f[ut]||null;if(typeof p=="function")T||om(l);else if(T){var E=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[ut]||null)E=T.formAction;else if(kr(f)!==null)continue}else E=T.action;typeof E=="function"?l[u+1]=E:(l.splice(u,3),u-=3),om(l)}}}function Br(t){this._internalRoot=t}pa.prototype.render=Br.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,u=St();$d(l,u,t,i,null,null)},pa.prototype.unmount=Br.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;$d(t.current,2,null,t,null,null),Xl(),i[oi]=null}};function pa(t){this._internalRoot=t}pa.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cu();t={blockedOn:null,target:t,priority:i};for(var l=0;l<wn.length&&i!==0&&i<wn[l].priority;l++);wn.splice(l,0,t),l===0&&nm(t)}};var lm=e.version;if(lm!=="19.1.1")throw Error(a(527,lm,"19.1.1"));V.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var Wy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ha.isDisabled&&ha.supportsFiber)try{Wi=ha.inject(Wy),pt=ha}catch{}}return $o.createRoot=function(t,i){if(!c(t))throw Error(a(299));var l=!1,u="",f=Sf,p=Ef,T=Af,E=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Xd(t,1,!1,null,null,l,u,f,p,T,E,null),t[oi]=i.current,Ar(t),new Br(i)},$o.hydrateRoot=function(t,i,l){if(!c(t))throw Error(a(299));var u=!1,f="",p=Sf,T=Ef,E=Af,_=null,I=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(_=l.unstable_transitionCallbacks),l.formState!==void 0&&(I=l.formState)),i=Xd(t,1,!0,i,l??null,u,f,p,T,E,_,I),i.context=Zd(null),l=i.current,u=St(),u=ba(u),f=gn(u),f.callback=null,yn(l,f,u),l=u,i.current.lanes=l,eo(i,l),Bt(i),t[oi]=i.current,Ar(t),new pa(i)},$o.version="19.1.1",$o}var hm;function uv(){if(hm)return Fr.exports;hm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fr.exports=rv(),Fr.exports}var cv=uv();const fv=zp(cv),dv=()=>A.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 p-10 flex flex-col items-center justify-center",children:[A.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Panel Admin"}),A.jsx("p",{className:"text-slate-400",children:"Se ha limpiado todo el módulo de pruebas y gráficas. Aquí puedes implementar futuras herramientas básicas."})]});function Op(n){const e=mv(n),o=pv(e),a=[];let c=1;for(const d of o){let m=gm(d,c);if(!m){const g=ym(d,c);g&&(m=g)}m&&(a.push(m),c++)}try{const d=Array.from(e.matchAll(/(?:^|\n)\s*(?:pregunta\s+)?(\d+)[\.)]\s+/gi)).map(m=>parseInt(m[1],10));if(d.length&&d.length>a.length){const m=a.length+1;if(d.includes(m)){const g=new RegExp(`(?:^|
)s*(?:preguntas+)?${m}[.)]`,"i"),y=e.match(g);if(y&&y.index!==void 0){const h=e.slice(y.index),v=h.slice(1).match(/\n\s*(?:pregunta\s+)?\d+[\.)]\s+/i),C=v?h.slice(0,v.index+1):h,S=gm(C.trim(),m)||ym(C.trim(),m);S&&a.push(S)}}}}catch{}try{window.__parserDebug={totalBloques:o.length,bloques:o,questions:a}}catch{}return a}function mv(n){return n.replace(/\r/g,"").replace(/\u00A0/g," ").replace(/[\t]+/g," ").replace(/ +/g," ").replace(/\n{2,}/g,`

`).trim()}function pv(n){const e="<<Q_SPLIT>>";return n.replace(/(?:^|\n)\s*(?:pregunta\s+)?(\d+)[\.\)]\s+/gi,a=>`
${e}${a.trim()} `).split(e).map(a=>a.trim()).filter(a=>/(^pregunta\s+\d+|^\d+[\.\)])/.test(a))}function gm(n,e){const o=n.match(/^(pregunta\s+\d+|\d+[\.\)])\s*/i),a=o?o[0]:"";let c=n.slice(a.length).trim();/aserci[óo]n:/.test(c)&&/raz[óo]n:/.test(c)&&(c=c.replace(/(aserci[óo]n:\s*)/i,"Aserción: ").replace(/(raz[óo]n:\s*)/i," Razón: "));let{opciones:d,meta:m}=hv(c);if(Object.keys(d).length<2){const v=c.lastIndexOf("?");if(v!==-1&&v<c.length-1){const S=c.slice(v+1).trim().split(/\n+/).map(M=>M.trim()).filter(Boolean);if(S.length>=2&&S.length<=10){const M={};S.forEach((L,H)=>M[String.fromCharCode(65+H)]=L),d=M}}}if(Object.keys(d).length<2)return null;const g=gv(c,d),y=yv(g,m),h={multi:m.multi,negative:m.negativo,assertionReason:m.assertionReason,matching:m.matching};return{id:e,pregunta:y,opciones:d,meta:h}}function hv(n){const e=n.split(/\n+/).map(y=>y.trim()).filter(y=>y.length),o={},a={},c=n.toLowerCase();/selecciona.*todas|todas.*apliquen|marque.*todas/.test(c)&&(a.multi=!0),/aserci[óo]n:/.test(c)&&/raz[óo]n:/.test(c)&&(a.assertionReason=!0),/relaci[óo]n.*columnas|empareja|emparejamiento/.test(c)&&(a.matching=!0);const d=/^(?:([a-j])|([1-9]|10))\s*[\)\.-]\s*(.+)$/i;for(const y of e){const h=y.match(d);if(h){const v=(h[1]||h[2]).toUpperCase(),C=h[3].trim();o[v]||(o[v]=C)}}if(Object.keys(o).length===0){const y=e.filter(h=>/^(verdadero|falso|cierto|incorrecto|sí|si|no)$/i.test(h));y.length>=2&&y.length<=4&&Array.from(new Set(y.map(v=>v.toLowerCase()))).forEach((v,C)=>{o[String.fromCharCode(65+C)]=vv(v)})}if(Object.keys(o).length===0){const y=e.reduce((h,v,C)=>v.includes("?")?C:h,-1);if(y>=0&&y<e.length-1){const h=[];for(let v=y+1;v<e.length;v++){const C=e[v];if(/^(pregunta\s+\d+|\d+[\.\)])$/i.test(C)||!C.trim())break;h.push(C.trim())}h.length>=2&&h.length<=15&&h.forEach((v,C)=>{o[String.fromCharCode(65+C)]=v})}}if(Object.keys(o).length<2){const y=n.split("?");if(y.length>1){const v=y.slice(1).join("?").trim().split(/\n+/).map(C=>C.trim()).filter(C=>C&&!/^(pregunta\s+\d+|\d+[\.\)])$/i.test(C));v.length>=2&&v.slice(0,10).forEach((C,S)=>{o[String.fromCharCode(65+S)]||(o[String.fromCharCode(65+S)]=C)})}}const m=n.lastIndexOf("?"),g=m!==-1?n.slice(0,m+1).toLowerCase():c;return/excepto|\bno\b|incorrecta|falsa/.test(g)&&(a.negativo=!0),{opciones:o,meta:a}}function gv(n,e){const o=n.split(/\n+/),a=Object.keys(e),c=new RegExp(`^(?:${a.join("|")})[).-]`,"i"),d=new Set(Object.values(e));return o.filter((g,y)=>{const h=g.trim();return!(c.test(h)||d.has(h)&&o.slice(0,y+1).join(`
`).lastIndexOf("?")!==-1)}).join(" ").replace(/\s+/g," ").trim()}function yv(n,e){const o=[];return e.multi&&o.push("[MULTI]"),e.assertionReason&&o.push("[ASERCIÓN-RAZÓN]"),e.matching&&o.push("[RELACIÓN]"),o.length?`${o.join(" ")} ${n}`:n}function vv(n){return n.charAt(0).toUpperCase()+n.slice(1)}function ym(n,e){const o=n.match(/^(pregunta\s+\d+|\d+[\.\)])\s*/i),a=o?o[0]:"",c=n.slice(a.length).trim(),d=c.lastIndexOf("?");if(d===-1)return null;const m=c.slice(0,d+1).trim(),g=c.slice(d+1).trim();if(!g)return null;let y=g.split(/\n+/).map(v=>v.trim()).filter(Boolean);if(y.length<2&&(y=g.split(new RegExp("(?<=\\.)\\s+")).map(v=>v.trim()).filter(Boolean)),y.length<2||y.length>10)return null;const h={};return y.forEach((v,C)=>{h[String.fromCharCode(65+C)]=v}),{id:e,pregunta:m,opciones:h}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Tv,Cv;function Sv(){return{geminiUrl:Tv,vertexUrl:Cv}}function Ev(n,e,o,a){var c,d;if(!(n!=null&&n.baseUrl)){const m=Sv();return e?(c=m.vertexUrl)!==null&&c!==void 0?c:o:(d=m.geminiUrl)!==null&&d!==void 0?d:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ei{}function ae(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(a,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,o){for(let d=0;d<e.length-1;d++){const m=e[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];r(v,e.slice(d+1),o[h])}else for(const h of y)r(h,e.slice(d+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(d+1),o);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const a=e[e.length-1],c=n[a];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else n[a]=o}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const a=e[o];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(m=>s(m,e.slice(o+1))):void 0}else return}else n=n[a]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zr(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vm||(vm={}));var Tm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Tm||(Tm={}));var Oe;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Oe||(Oe={}));var Cm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Cm||(Cm={}));var Sm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Sm||(Sm={}));var Em;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Em||(Em={}));var Am;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Am||(Am={}));var xm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(xm||(xm={}));var _m;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_m||(_m={}));var Mm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Mm||(Mm={}));var Rm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Rm||(Rm={}));var Nm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Nm||(Nm={}));var Dm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Dm||(Dm={}));var Um;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Um||(Um={}));var Im;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Im||(Im={}));var xa;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(xa||(xa={}));var bm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bm||(bm={}));var $r;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($r||($r={}));var wm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(wm||(wm={}));var Lm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Lm||(Lm={}));var Vm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Vm||(Vm={}));var qm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(qm||(qm={}));var Gm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Gm||(Gm={}));var Hm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Hm||(Hm={}));var km;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(km||(km={}));var Pm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Pm||(Pm={}));var Bm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Bm||(Bm={}));var zm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(zm||(zm={}));var Om;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Om||(Om={}));var Fm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fm||(Fm={}));var Ym;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ym||(Ym={}));var Jm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jm||(Jm={}));var Km;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Km||(Km={}));var Qm;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Qm||(Qm={}));var Xm;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Xm||(Xm={}));var Zm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Zm||(Zm={}));var $m;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})($m||($m={}));var Wm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Wm||(Wm={}));var jm;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jm||(jm={}));var ep;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ep||(ep={}));var tp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(tp||(tp={}));var np;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(np||(np={}));var ip;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(ip||(ip={}));var op;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(op||(op={}));var lp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(lp||(lp={}));var Oi;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Oi||(Oi={}));class Wr{constructor(e){const o={};for(const a of e.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Wo{get text(){var e,o,a,c,d,m,g,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const C=[];for(const S of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[M,L]of Object.entries(S))M!=="text"&&M!=="thought"&&(L!==null||L!==void 0)&&C.push(M);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,o,a,c,d,m,g,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const C of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,M]of Object.entries(C))S!=="inlineData"&&(M!==null||M!==void 0)&&v.push(S);C.inlineData&&typeof C.inlineData.data=="string"&&(h+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,o,a,c,d,m,g,y;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,o,a,c,d,m,g,y,h;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,o,a,c,d,m,g,y,h;if(((c=(a=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class ap{}class sp{}class Av{}class xv{}class _v{}class Mv{}class rp{}class up{}class cp{}class Rv{}class fp{}class _a{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const a=new _a;if(a.name=e.name,a.metadata=e.metadata,a.done=e.done,a.error=e.error,o){const c=e.response;if(c){const d=new fp,m=c.videos;d.generatedVideos=m==null?void 0:m.map(g=>({video:{uri:g.gcsUri,videoBytes:g.bytesBase64Encoded?Zr(g.bytesBase64Encoded):void 0,mimeType:g.mimeType}})),d.raiMediaFilteredCount=c.raiMediaFilteredCount,d.raiMediaFilteredReasons=c.raiMediaFilteredReasons,a.response=d}}else{const c=e.response;if(c){const d=new fp,m=c.generateVideoResponse,g=m==null?void 0:m.generatedSamples;d.generatedVideos=g==null?void 0:g.map(y=>{const h=y.video;return{video:{uri:h==null?void 0:h.uri,videoBytes:h!=null&&h.encodedVideo?Zr(h==null?void 0:h.encodedVideo):void 0,mimeType:y.encoding}}}),d.raiMediaFilteredCount=m==null?void 0:m.raiMediaFilteredCount,d.raiMediaFilteredReasons=m==null?void 0:m.raiMediaFilteredReasons,a.response=d}}return a}}class dp{}class mp{}class pp{}class Nv{}class Dv{}class Uv{}class hp{}class Iv{get text(){var e,o,a;let c="",d=!1;const m=[];for(const g of(a=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,c+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,o,a;let c="";const d=[];for(const m of(a=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class bv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _e(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Fp(n,e){const o=_e(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Yp(n){return Array.isArray(n)?n.map(e=>Ma(e)):[Ma(n)]}function Ma(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Jp(n){const e=Ma(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Kp(n){const e=Ma(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Qp(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>gp(e)):[gp(n)]}function jr(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function yp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function vp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function st(n){if(n==null)throw new Error("ContentUnion is required");return jr(n)?n:{role:"user",parts:Qp(n)}}function Xp(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const a=st(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const o=st(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>st(o)):[st(e)]}function bt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(yp(n)||vp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[st(n)]}const e=[],o=[],a=jr(n[0]);for(const c of n){const d=jr(c);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(yp(c)||vp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return a||e.push({role:"user",parts:Qp(o)}),e}function wv(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(a=>a!=="null");if(o.length===1)e.type=Object.values(Oe).includes(o[0].toUpperCase())?o[0].toUpperCase():Oe.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of o)e.anyOf.push({type:Object.values(Oe).includes(a.toUpperCase())?a.toUpperCase():Oe.TYPE_UNSPECIFIED})}}function Fi(n){const e={},o=["items"],a=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&wv(n.type,e);for(const[m,g]of Object.entries(n))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(Oe).includes(g.toUpperCase())?g.toUpperCase():Oe.TYPE_UNSPECIFIED}else if(o.includes(m))e[m]=Fi(g);else if(a.includes(m)){const y=[];for(const h of g){if(h.type=="null"){e.nullable=!0;continue}y.push(Fi(h))}e[m]=y}else if(c.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=Fi(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function ru(n){return Fi(n)}function uu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function cu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Qi(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Fi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Fi(e.response));return n}function Xi(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function Lv(n,e,o,a=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===a;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function rn(n,e){if(typeof e!="string")throw new Error("name must be a string");return Lv(n,e,"cachedContents")}function Zp(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ti(n){return Zr(n)}function Vv(n){return n!=null&&typeof n=="object"&&"name"in n}function qv(n){return n!=null&&typeof n=="object"&&"video"in n}function Gv(n){return n!=null&&typeof n=="object"&&"uri"in n}function $p(n){var e;let o;if(Vv(n)&&(o=n.name),!(Gv(n)&&(o=n.uri,o===void 0))&&!(qv(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Wp(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function jp(n){for(const e of["models","tunedModels","publisherModels"])if(Hv(n,e))return n[e];return[]}function Hv(n,e){return n!==null&&typeof n=="object"&&e in n}function kv(n,e={}){const o=n,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function Pv(n,e={}){const o=[],a=new Set;for(const c of n){const d=c.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const m=kv(c,e);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function eh(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Bv(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Zi(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function th(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zv(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Ov(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Fv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Yv(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],zv(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],Ov(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Fv(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function nh(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Yv(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Jv(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=s(n,["maximum"]);S!=null&&r(e,["maximum"],S);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const L=s(n,["minLength"]);L!=null&&r(e,["minLength"],L);const H=s(n,["minProperties"]);H!=null&&r(e,["minProperties"],H);const z=s(n,["minimum"]);z!=null&&r(e,["minimum"],z);const J=s(n,["nullable"]);J!=null&&r(e,["nullable"],J);const Y=s(n,["pattern"]);Y!=null&&r(e,["pattern"],Y);const K=s(n,["properties"]);K!=null&&r(e,["properties"],K);const j=s(n,["propertyOrdering"]);j!=null&&r(e,["propertyOrdering"],j);const P=s(n,["required"]);P!=null&&r(e,["required"],P);const ee=s(n,["title"]);ee!=null&&r(e,["title"],ee);const ie=s(n,["type"]);return ie!=null&&r(e,["type"],ie),e}function Kv(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function Qv(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function Xv(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function Zv(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],Xv(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $v(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function Wv(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],$v(o)),e}function jv(){return{}}function e0(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function t0(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>Qv(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],Zv(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],Wv(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],jv());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],e0(m));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function n0(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function i0(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function o0(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],i0(o));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function l0(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],n0(o));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],o0(a)),e}function a0(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function ih(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],a0(o)),e}function s0(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],ih(a)),e}function r0(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>s0(c))),r(e,["speakerVoiceConfigs"],a)}return e}function u0(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],ih(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],r0(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function c0(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function f0(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],nh(st(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(a,["topP"],m);const g=s(e,["topK"]);g!=null&&r(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&r(a,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const S=s(e,["logprobs"]);S!=null&&r(a,["logprobs"],S);const M=s(e,["presencePenalty"]);M!=null&&r(a,["presencePenalty"],M);const L=s(e,["frequencyPenalty"]);L!=null&&r(a,["frequencyPenalty"],L);const H=s(e,["seed"]);H!=null&&r(a,["seed"],H);const z=s(e,["responseMimeType"]);z!=null&&r(a,["responseMimeType"],z);const J=s(e,["responseSchema"]);J!=null&&r(a,["responseSchema"],Jv(ru(J)));const Y=s(e,["responseJsonSchema"]);if(Y!=null&&r(a,["responseJsonSchema"],Y),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const K=s(e,["safetySettings"]);if(o!==void 0&&K!=null){let F=K;Array.isArray(F)&&(F=F.map(X=>Kv(X))),r(o,["safetySettings"],F)}const j=s(e,["tools"]);if(o!==void 0&&j!=null){let F=Xi(j);Array.isArray(F)&&(F=F.map(X=>t0(Qi(X)))),r(o,["tools"],F)}const P=s(e,["toolConfig"]);if(o!==void 0&&P!=null&&r(o,["toolConfig"],l0(P)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=s(e,["cachedContent"]);o!==void 0&&ee!=null&&r(o,["cachedContent"],rn(n,ee));const ie=s(e,["responseModalities"]);ie!=null&&r(a,["responseModalities"],ie);const he=s(e,["mediaResolution"]);he!=null&&r(a,["mediaResolution"],he);const ne=s(e,["speechConfig"]);if(ne!=null&&r(a,["speechConfig"],u0(uu(ne))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=s(e,["thinkingConfig"]);return G!=null&&r(a,["thinkingConfig"],c0(G)),a}function d0(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["request","model"],_e(n,a));const c=s(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>nh(g))),r(o,["request","contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["request","generationConfig"],f0(n,d,o)),o}function m0(n,e){const o={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=s(e,["fileName"]);a!=null&&r(o,["fileName"],a);const c=s(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>d0(n,m))),r(o,["requests","requests"],d)}return o}function p0(n,e){const o={},a=s(n,["displayName"]);if(e!==void 0&&a!=null&&r(e,["batch","displayName"],a),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Tp(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["src"]);c!=null&&r(o,["batch","inputConfig"],m0(n,eh(n,c)));const d=s(e,["config"]);return d!=null&&r(o,["config"],p0(d,o)),o}function h0(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],Zi(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function g0(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],Zi(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function y0(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function v0(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],y0(o,e)),e}function T0(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],Zi(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function C0(n){const e={},o=s(n,["format"]);o!=null&&r(e,["instancesFormat"],o);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsSource","uris"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function S0(n){const e={},o=s(n,["format"]);o!=null&&r(e,["predictionsFormat"],o);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsDestination","outputUriPrefix"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function E0(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],S0(Bv(c))),o}function A0(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["model"],_e(n,a));const c=s(e,["src"]);c!=null&&r(o,["inputConfig"],C0(eh(n,c)));const d=s(e,["config"]);return d!=null&&r(o,["config"],E0(d,o)),o}function x0(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],Zi(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function _0(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],Zi(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function M0(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function R0(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],M0(o,e)),e}function N0(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],Zi(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function D0(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function U0(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function I0(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function b0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],D0(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],U0(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],I0(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function w0(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>b0(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function L0(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function V0(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function q0(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>V0(c))),r(e,["urlMetadata"],a)}return e}function G0(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],w0(o));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],L0(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],q0(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&r(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function H0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>G0(h))),r(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function oh(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function k0(n){const e={},o=s(n,["response"]);o!=null&&r(e,["response"],H0(o));const a=s(n,["error"]);return a!=null&&r(e,["error"],oh(a)),e}function P0(n){const e={},o=s(n,["responsesFile"]);o!=null&&r(e,["fileName"],o);const a=s(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>k0(d))),r(e,["inlinedResponses"],c)}return e}function va(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["metadata","displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["metadata","state"]);c!=null&&r(e,["state"],th(c));const d=s(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const g=s(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const h=s(n,["metadata","output"]);return h!=null&&r(e,["dest"],P0(h)),e}function B0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["operations"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>va(m))),r(e,["batchJobs"],d)}return e}function z0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);return d!=null&&r(e,["error"],oh(d)),e}function lh(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function O0(n){const e={},o=s(n,["instancesFormat"]);o!=null&&r(e,["format"],o);const a=s(n,["gcsSource","uris"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function F0(n){const e={},o=s(n,["predictionsFormat"]);o!=null&&r(e,["format"],o);const a=s(n,["gcsDestination","outputUriPrefix"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function eu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["state"]);c!=null&&r(e,["state"],th(c));const d=s(n,["error"]);d!=null&&r(e,["error"],lh(d));const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const C=s(n,["inputConfig"]);C!=null&&r(e,["src"],O0(C));const S=s(n,["outputConfig"]);return S!=null&&r(e,["dest"],F0(S)),e}function Y0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["batchPredictionJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>eu(m))),r(e,["batchJobs"],d)}return e}function J0(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);return d!=null&&r(e,["error"],lh(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(jn||(jn={}));class tl{constructor(e,o,a,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,a,c)}init(e,o,a){var c,d;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(c=m.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K0 extends ei{constructor(e){super(),this.apiClient=e,this.create=async o=>{var a,c;if(this.apiClient.isVertexAI()){const m=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${m}`;else throw new Error("Unsupported source:"+o.src)}else if(Array.isArray(o.src)||typeof o.src!="string"&&o.src.inlinedRequests){let d="",m={};const g=Tp(this.apiClient,o);d=ae("{model}:batchGenerateContent",g._url),m=g._query;const v=g.batch.inputConfig.requests,C=v.requests,S=[];for(const L of C){const H=L;if(H.systemInstruction){const z=H.systemInstruction;delete H.systemInstruction;const J=H.request;J.systemInstruction=z,H.request=J}S.push(H)}return v.requests=S,delete g.config,delete g._url,delete g._query,this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=o.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(L=>L.json()).then(L=>va(L))}return await this.createInternal(o)},this.list=async(o={})=>new tl(jn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}async createInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=A0(this.apiClient,e);return g=ae("batchPredictionJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>eu(v))}else{const h=Tp(this.apiClient,e);return g=ae("{model}:batchGenerateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>va(v))}}async get(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=x0(this.apiClient,e);return g=ae("batchPredictionJobs/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>eu(v))}else{const h=h0(this.apiClient,e);return g=ae("batches/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>va(v))}}async cancel(e){var o,a,c,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=_0(this.apiClient,e);m=ae("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=g0(this.apiClient,e);m=ae("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=R0(e);return g=ae("batchPredictionJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Y0(v),S=new hp;return Object.assign(S,C),S})}else{const h=v0(e);return g=ae("batches",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=B0(v),S=new hp;return Object.assign(S,C),S})}}async delete(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=N0(this.apiClient,e);return g=ae("batchPredictionJobs/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>J0(v))}else{const h=T0(this.apiClient,e);return g=ae("batches/{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>z0(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q0(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function X0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Z0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function $0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Q0(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],X0(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Z0(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function Cp(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>$0(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function W0(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function j0(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function eT(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],j0(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function tT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function nT(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],tT(o)),e}function iT(){return{}}function oT(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function lT(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>W0(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],eT(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],nT(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],iT());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],oT(m));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function aT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function sT(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function rT(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],sT(o));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function uT(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],aT(o));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],rT(a)),e}function cT(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let v=bt(m);Array.isArray(v)&&(v=v.map(C=>Cp(C))),r(e,["contents"],v)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Cp(st(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>lT(C))),r(e,["tools"],v)}const h=s(n,["toolConfig"]);if(e!==void 0&&h!=null&&r(e,["toolConfig"],uT(h)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function fT(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["model"],Fp(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],cT(c,o)),o}function dT(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],rn(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function mT(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],rn(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function pT(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function hT(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],rn(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],pT(c,o)),o}function gT(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function yT(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],gT(o,e)),e}function vT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function TT(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function CT(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function ST(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],vT(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],TT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],CT(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function Sp(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>ST(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function ET(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function AT(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function xT(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],AT(o));const a=s(n,["excludeDomains"]);return a!=null&&r(e,["excludeDomains"],a),e}function _T(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function MT(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],_T(o)),e}function RT(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function NT(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function DT(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],NT(o));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function UT(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],DT(o)),e}function IT(){return{}}function bT(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function wT(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>ET(S))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],xT(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],MT(d));const m=s(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],RT(m));const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],UT(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],IT());const h=s(n,["computerUse"]);h!=null&&r(e,["computerUse"],bT(h));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function LT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function VT(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function qT(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],VT(o));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function GT(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],LT(o));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],qT(a)),e}function HT(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let C=bt(m);Array.isArray(C)&&(C=C.map(S=>Sp(S))),r(e,["contents"],C)}const g=s(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Sp(st(g)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>wT(S))),r(e,["tools"],C)}const h=s(n,["toolConfig"]);e!==void 0&&h!=null&&r(e,["toolConfig"],GT(h));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),o}function kT(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["model"],Fp(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],HT(c,o)),o}function PT(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],rn(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function BT(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],rn(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function zT(n,e){const o={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function OT(n,e){const o={},a=s(e,["name"]);a!=null&&r(o,["_url","name"],rn(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],zT(c,o)),o}function FT(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function YT(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],FT(o,e)),e}function Ta(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function JT(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function KT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Ta(m))),r(e,["cachedContents"],d)}return e}function Ca(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=s(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function QT(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function XT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Ca(m))),r(e,["cachedContents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZT extends ei{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new tl(jn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=kT(this.apiClient,e);return g=ae("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ca(v))}else{const h=fT(this.apiClient,e);return g=ae("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Ta(v))}}async get(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=PT(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ca(v))}else{const h=dT(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Ta(v))}}async delete(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=BT(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=QT(v),S=new mp;return Object.assign(S,C),S})}else{const h=mT(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=JT(v),S=new mp;return Object.assign(S,C),S})}}async update(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=OT(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ca(v))}else{const h=hT(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Ta(v))}}async listInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=YT(e);return g=ae("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=XT(v),S=new pp;return Object.assign(S,C),S})}else{const h=yT(e);return g=ae("cachedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=KT(v),S=new pp;return Object.assign(S,C),S})}}}function Ep(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(n){return this instanceof Le?(this.v=n,this):new Le(n)}function Yi(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),c[Symbol.asyncIterator]=function(){return this},c;function m(M){return function(L){return Promise.resolve(L).then(M,C)}}function g(M,L){a[M]&&(c[M]=function(H){return new Promise(function(z,J){d.push([M,H,z,J])>1||y(M,H)})},L&&(c[M]=L(c[M])))}function y(M,L){try{h(a[M](L))}catch(H){S(d[0][3],H)}}function h(M){M.value instanceof Le?Promise.resolve(M.value.v).then(v,C):S(d[0][2],M)}function v(M){y("next",M)}function C(M){y("throw",M)}function S(M,L){M(L),d.shift(),d.length&&y(d[0][0],d[0][1])}}function jo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Ep=="function"?Ep(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=n[d]&&function(m){return new Promise(function(g,y){m=n[d](m),c(g,y,m.done,m.value)})}}function c(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $T(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:ah(o)}function ah(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function WT(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ap(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let a=0;for(;a<o;)if(n[a].role==="user")e.push(n[a]),a++;else{const c=[];let d=!0;for(;a<o&&n[a].role==="model";)c.push(n[a]),d&&!ah(n[a])&&(d=!1),a++;d?e.push(...c):e.pop()}return e}class jT{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new eC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class eC{constructor(e,o,a,c={},d=[]){this.apiClient=e,this.modelsModule=o,this.model=a,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),WT(d)}async sendMessage(e){var o;await this.sendPromise;const a=st(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await c,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(C))!==null&&g!==void 0?g:[]);const M=h?[h]:[];this.recordHistory(a,M,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const a=st(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,a)}getHistory(e=!1){const o=e?Ap(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var a,c;return Yi(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var C=!0,S=jo(e),M;M=yield Le(S.next()),m=M.done,!m;C=!0){h=M.value,C=!1;const L=h;if($T(L)){const H=(c=(a=L.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content;H!==void 0&&v.push(H)}yield yield Le(L)}}catch(L){g={error:L}}finally{try{!C&&!m&&(y=S.return)&&(yield Le(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(e,o,a){let c=[];o.length>0&&o.every(d=>d.role!==void 0)?c=o:c.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Ap(a)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Na extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Na.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tC(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function nC(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],tC(o,e)),e}function iC(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function oC(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=s(n,["state"]);S!=null&&r(e,["state"],S);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const L=s(n,["videoMetadata"]);L!=null&&r(e,["videoMetadata"],L);const H=s(n,["error"]);return H!=null&&r(e,["error"],iC(H)),e}function lC(n){const e={},o=s(n,["file"]);o!=null&&r(e,["file"],oC(o));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function aC(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","file"],$p(o));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function sC(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","file"],$p(o));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function rC(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function tu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=s(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["sha256Hash"]);h!=null&&r(e,["sha256Hash"],h);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const C=s(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=s(n,["state"]);S!=null&&r(e,["state"],S);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const L=s(n,["videoMetadata"]);L!=null&&r(e,["videoMetadata"],L);const H=s(n,["error"]);return H!=null&&r(e,["error"],rC(H)),e}function uC(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["files"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>tu(m))),r(e,["files"],d)}return e}function cC(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function fC(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dC extends ei{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new tl(jn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>tu(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=nC(e);return d=ae("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=uC(y),v=new Nv;return Object.assign(v,h),v})}}async createInternal(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lC(e);return d=ae("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const h=cC(y),v=new Dv;return Object.assign(v,h),v})}}async get(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aC(e);return d=ae("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>tu(y))}}async delete(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sC(e);return d=ae("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=fC(y),v=new Uv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function sh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],mC(o)),e}function pC(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],sh(a)),e}function hC(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>pC(c))),r(e,["speakerVoiceConfigs"],a)}return e}function gC(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],sh(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],hC(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function yC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function vC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function TC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function CC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],yC(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],vC(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],TC(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function SC(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>CC(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function EC(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function AC(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function xC(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],AC(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function _C(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function MC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],_C(o)),e}function RC(){return{}}function NC(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function DC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>EC(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],xC(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],MC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],RC());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],NC(m));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function UC(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xp(){return{}}function IC(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function bC(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],IC(o));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function wC(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function LC(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],wC(a)),e}function VC(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function qC(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],gC(cu(C)));const S=s(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],SC(st(M)));const L=s(n,["tools"]);if(e!==void 0&&L!=null){let P=Xi(L);Array.isArray(P)&&(P=P.map(ee=>DC(Qi(ee)))),r(e,["setup","tools"],P)}const H=s(n,["sessionResumption"]);e!==void 0&&H!=null&&r(e,["setup","sessionResumption"],UC(H));const z=s(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&r(e,["setup","inputAudioTranscription"],xp());const J=s(n,["outputAudioTranscription"]);e!==void 0&&J!=null&&r(e,["setup","outputAudioTranscription"],xp());const Y=s(n,["realtimeInputConfig"]);e!==void 0&&Y!=null&&r(e,["setup","realtimeInputConfig"],bC(Y));const K=s(n,["contextWindowCompression"]);e!==void 0&&K!=null&&r(e,["setup","contextWindowCompression"],LC(K));const j=s(n,["proactivity"]);return e!==void 0&&j!=null&&r(e,["setup","proactivity"],VC(j)),o}function GC(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["setup","model"],_e(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],qC(c,o)),o}function HC(){return{}}function kC(){return{}}function PC(n){const e={},o=s(n,["media"]);o!=null&&r(e,["mediaChunks"],Yp(o));const a=s(n,["audio"]);a!=null&&r(e,["audio"],Kp(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],Jp(d));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],HC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],kC()),e}function rh(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function BC(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>rh(c))),r(e,["weightedPrompts"],a)}return e}function uh(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const h=s(n,["scale"]);h!=null&&r(e,["scale"],h);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=s(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function zC(n){const e={},o=s(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],uh(o)),e}function ch(n){const e={},o=s(n,["model"]);return o!=null&&r(e,["model"],o),e}function fh(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>rh(c))),r(e,["weightedPrompts"],a)}return e}function nu(n){const e={},o=s(n,["setup"]);o!=null&&r(e,["setup"],ch(o));const a=s(n,["clientContent"]);a!=null&&r(e,["clientContent"],fh(a));const c=s(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],uh(c));const d=s(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function OC(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function FC(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],OC(o)),e}function YC(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],FC(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function JC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function KC(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function QC(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function XC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],JC(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],KC(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],QC(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function ZC(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>XC(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function $C(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function WC(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function jC(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],WC(o));const a=s(n,["excludeDomains"]);return a!=null&&r(e,["excludeDomains"],a),e}function eS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function tS(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],eS(o)),e}function nS(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function iS(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function oS(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],iS(o));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function lS(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],oS(o)),e}function aS(){return{}}function sS(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function rS(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>$C(S))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],jC(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],tS(d));const m=s(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],nS(m));const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],lS(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],aS());const h=s(n,["computerUse"]);h!=null&&r(e,["computerUse"],sS(h));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function uS(n){const e={},o=s(n,["handle"]);o!=null&&r(e,["handle"],o);const a=s(n,["transparent"]);return a!=null&&r(e,["transparent"],a),e}function _p(){return{}}function cS(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function fS(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],cS(o));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function dS(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function mS(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],dS(a)),e}function pS(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function hS(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],YC(cu(C)));const S=s(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],ZC(st(M)));const L=s(n,["tools"]);if(e!==void 0&&L!=null){let P=Xi(L);Array.isArray(P)&&(P=P.map(ee=>rS(Qi(ee)))),r(e,["setup","tools"],P)}const H=s(n,["sessionResumption"]);e!==void 0&&H!=null&&r(e,["setup","sessionResumption"],uS(H));const z=s(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&r(e,["setup","inputAudioTranscription"],_p());const J=s(n,["outputAudioTranscription"]);e!==void 0&&J!=null&&r(e,["setup","outputAudioTranscription"],_p());const Y=s(n,["realtimeInputConfig"]);e!==void 0&&Y!=null&&r(e,["setup","realtimeInputConfig"],fS(Y));const K=s(n,["contextWindowCompression"]);e!==void 0&&K!=null&&r(e,["setup","contextWindowCompression"],mS(K));const j=s(n,["proactivity"]);return e!==void 0&&j!=null&&r(e,["setup","proactivity"],pS(j)),o}function gS(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["setup","model"],_e(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],hS(c,o)),o}function yS(){return{}}function vS(){return{}}function TS(n){const e={},o=s(n,["media"]);o!=null&&r(e,["mediaChunks"],Yp(o));const a=s(n,["audio"]);a!=null&&r(e,["audio"],Kp(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],Jp(d));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],yS()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],vS()),e}function CS(){return{}}function SS(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function ES(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function AS(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function xS(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],SS(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],ES(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],AS(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function _S(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>xS(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Mp(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function MS(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function RS(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>MS(c))),r(e,["urlMetadata"],a)}return e}function NS(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],_S(o));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],Mp(g));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Mp(y));const h=s(n,["urlContextMetadata"]);return h!=null&&r(e,["urlContextMetadata"],RS(h)),e}function DS(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function US(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>DS(c))),r(e,["functionCalls"],a)}return e}function IS(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function ga(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function bS(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(M=>ga(M))),r(e,["promptTokensDetails"],S)}const h=s(n,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(M=>ga(M))),r(e,["cacheTokensDetails"],S)}const v=s(n,["responseTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(M=>ga(M))),r(e,["responseTokensDetails"],S)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(M=>ga(M))),r(e,["toolUsePromptTokensDetails"],S)}return e}function wS(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function LS(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function VS(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],CS());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],NS(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],US(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],IS(d));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],bS(m));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],wS(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],LS(y)),e}function qS(){return{}}function GS(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function HS(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>GS(c))),r(e,["weightedPrompts"],a)}return e}function kS(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=s(n,["density"]);g!=null&&r(e,["density"],g);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const h=s(n,["scale"]);h!=null&&r(e,["scale"],h);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=s(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=s(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function PS(n){const e={},o=s(n,["clientContent"]);o!=null&&r(e,["clientContent"],HS(o));const a=s(n,["musicGenerationConfig"]);return a!=null&&r(e,["musicGenerationConfig"],kS(a)),e}function BS(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);a!=null&&r(e,["mimeType"],a);const c=s(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],PS(c)),e}function zS(n){const e={},o=s(n,["audioChunks"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>BS(c))),r(e,["audioChunks"],a)}return e}function OS(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const a=s(n,["filteredReason"]);return a!=null&&r(e,["filteredReason"],a),e}function FS(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],qS());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],zS(a));const c=s(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],OS(c)),e}function YS(n){const e={},o=s(n,["sessionId"]);return o!=null&&r(e,["sessionId"],o),e}function JS(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function KS(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function QS(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function XS(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],JS(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],KS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],QS(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function ZS(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>XS(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Rp(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function $S(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],ZS(o));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=s(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],Rp(g));const y=s(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],Rp(y)),e}function WS(n){const e={},o=s(n,["args"]);o!=null&&r(e,["args"],o);const a=s(n,["name"]);return a!=null&&r(e,["name"],a),e}function jS(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>WS(c))),r(e,["functionCalls"],a)}return e}function eE(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function ya(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function tE(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=s(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=s(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(L=>ya(L))),r(e,["promptTokensDetails"],M)}const h=s(n,["cacheTokensDetails"]);if(h!=null){let M=h;Array.isArray(M)&&(M=M.map(L=>ya(L))),r(e,["cacheTokensDetails"],M)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(L=>ya(L))),r(e,["responseTokensDetails"],M)}const C=s(n,["toolUsePromptTokensDetails"]);if(C!=null){let M=C;Array.isArray(M)&&(M=M.map(L=>ya(L))),r(e,["toolUsePromptTokensDetails"],M)}const S=s(n,["trafficType"]);return S!=null&&r(e,["trafficType"],S),e}function nE(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function iE(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function oE(n){const e={},o=s(n,["setupComplete"]);o!=null&&r(e,["setupComplete"],YS(o));const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],$S(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],jS(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],eE(d));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],tE(m));const g=s(n,["goAway"]);g!=null&&r(e,["goAway"],nE(g));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],iE(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function aE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function sE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function rE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],lE(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],aE(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],sE(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function Da(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>rE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function uE(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=s(n,["maximum"]);S!=null&&r(e,["maximum"],S);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const L=s(n,["minLength"]);L!=null&&r(e,["minLength"],L);const H=s(n,["minProperties"]);H!=null&&r(e,["minProperties"],H);const z=s(n,["minimum"]);z!=null&&r(e,["minimum"],z);const J=s(n,["nullable"]);J!=null&&r(e,["nullable"],J);const Y=s(n,["pattern"]);Y!=null&&r(e,["pattern"],Y);const K=s(n,["properties"]);K!=null&&r(e,["properties"],K);const j=s(n,["propertyOrdering"]);j!=null&&r(e,["propertyOrdering"],j);const P=s(n,["required"]);P!=null&&r(e,["required"],P);const ee=s(n,["title"]);ee!=null&&r(e,["title"],ee);const ie=s(n,["type"]);return ie!=null&&r(e,["type"],ie),e}function cE(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function fE(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function dE(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function mE(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],dE(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function pE(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function hE(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],pE(o)),e}function gE(){return{}}function yE(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function vE(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>fE(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],mE(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],hE(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],gE());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],yE(m));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function TE(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function CE(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function SE(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],CE(o));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function EE(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],TE(o));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],SE(a)),e}function AE(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function dh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],AE(o)),e}function xE(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],dh(a)),e}function _E(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>xE(c))),r(e,["speakerVoiceConfigs"],a)}return e}function ME(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],dh(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],_E(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function RE(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function NE(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Da(st(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(a,["topP"],m);const g=s(e,["topK"]);g!=null&&r(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&r(a,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const S=s(e,["logprobs"]);S!=null&&r(a,["logprobs"],S);const M=s(e,["presencePenalty"]);M!=null&&r(a,["presencePenalty"],M);const L=s(e,["frequencyPenalty"]);L!=null&&r(a,["frequencyPenalty"],L);const H=s(e,["seed"]);H!=null&&r(a,["seed"],H);const z=s(e,["responseMimeType"]);z!=null&&r(a,["responseMimeType"],z);const J=s(e,["responseSchema"]);J!=null&&r(a,["responseSchema"],uE(ru(J)));const Y=s(e,["responseJsonSchema"]);if(Y!=null&&r(a,["responseJsonSchema"],Y),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const K=s(e,["safetySettings"]);if(o!==void 0&&K!=null){let F=K;Array.isArray(F)&&(F=F.map(X=>cE(X))),r(o,["safetySettings"],F)}const j=s(e,["tools"]);if(o!==void 0&&j!=null){let F=Xi(j);Array.isArray(F)&&(F=F.map(X=>vE(Qi(X)))),r(o,["tools"],F)}const P=s(e,["toolConfig"]);if(o!==void 0&&P!=null&&r(o,["toolConfig"],EE(P)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=s(e,["cachedContent"]);o!==void 0&&ee!=null&&r(o,["cachedContent"],rn(n,ee));const ie=s(e,["responseModalities"]);ie!=null&&r(a,["responseModalities"],ie);const he=s(e,["mediaResolution"]);he!=null&&r(a,["mediaResolution"],he);const ne=s(e,["speechConfig"]);if(ne!=null&&r(a,["speechConfig"],ME(uu(ne))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=s(e,["thinkingConfig"]);return G!=null&&r(a,["thinkingConfig"],RE(G)),a}function Np(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>Da(g))),r(o,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["generationConfig"],NE(n,d,o)),o}function DE(n,e){const o={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["requests[]","taskType"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function UE(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["contents"]);c!=null&&r(o,["requests[]","content"],Xp(n,c));const d=s(e,["config"]);d!=null&&r(o,["config"],DE(d,o));const m=s(e,["model"]);return m!==void 0&&r(o,["requests[]","model"],_e(n,m)),o}function IE(n,e){const o={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=s(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const g=s(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const h=s(n,["includeRaiReason"]);e!==void 0&&h!=null&&r(e,["parameters","includeRaiReason"],h);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","mimeType"],C);const S=s(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&r(e,["parameters","outputOptions","compressionQuality"],S),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const M=s(n,["imageSize"]);if(e!==void 0&&M!=null&&r(e,["parameters","sampleImageSize"],M),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function bE(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(o,["config"],IE(d,o)),o}function wE(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","name"],_e(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function LE(n,e,o){const a={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const d=s(e,["pageToken"]);o!==void 0&&d!=null&&r(o,["_query","pageToken"],d);const m=s(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],Wp(n,g)),a}function VE(n,e){const o={},a=s(e,["config"]);return a!=null&&r(o,["config"],LE(n,a,o)),o}function qE(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),o}function GE(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","name"],_e(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],qE(c,o)),o}function HE(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","name"],_e(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function kE(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function PE(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>Da(g))),r(o,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["config"],kE(d)),o}function mh(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],ti(o));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function BE(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&r(e,["instances[0]","prompt"],a);const c=s(n,["image"]);if(e!==void 0&&c!=null&&r(e,["instances[0]","image"],mh(c)),s(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return o}function zE(n,e){const o={},a=s(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);if(e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=s(n,["personGeneration"]);if(e!==void 0&&m!=null&&r(e,["parameters","personGeneration"],m),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=s(n,["negativePrompt"]);e!==void 0&&g!=null&&r(e,["parameters","negativePrompt"],g);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function OE(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=s(e,["image"]);if(d!=null&&r(o,["instances[0]","image"],mh(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=s(e,["source"]);m!=null&&r(o,["config"],BE(m,o));const g=s(e,["config"]);return g!=null&&r(o,["config"],zE(g,o)),o}function FE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function YE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function JE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function KE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],FE(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],YE(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],JE(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function $i(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>KE(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function QE(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const g=s(n,["format"]);g!=null&&r(e,["format"],g);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const h=s(n,["maxItems"]);h!=null&&r(e,["maxItems"],h);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=s(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=s(n,["maximum"]);S!=null&&r(e,["maximum"],S);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const L=s(n,["minLength"]);L!=null&&r(e,["minLength"],L);const H=s(n,["minProperties"]);H!=null&&r(e,["minProperties"],H);const z=s(n,["minimum"]);z!=null&&r(e,["minimum"],z);const J=s(n,["nullable"]);J!=null&&r(e,["nullable"],J);const Y=s(n,["pattern"]);Y!=null&&r(e,["pattern"],Y);const K=s(n,["properties"]);K!=null&&r(e,["properties"],K);const j=s(n,["propertyOrdering"]);j!=null&&r(e,["propertyOrdering"],j);const P=s(n,["required"]);P!=null&&r(e,["required"],P);const ee=s(n,["title"]);ee!=null&&r(e,["title"],ee);const ie=s(n,["type"]);return ie!=null&&r(e,["type"],ie),e}function XE(n){const e={},o=s(n,["featureSelectionPreference"]);return o!=null&&r(e,["featureSelectionPreference"],o),e}function ZE(n){const e={},o=s(n,["method"]);o!=null&&r(e,["method"],o);const a=s(n,["category"]);a!=null&&r(e,["category"],a);const c=s(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function $E(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const g=s(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function WE(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function jE(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],WE(o));const a=s(n,["excludeDomains"]);return a!=null&&r(e,["excludeDomains"],a),e}function eA(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function tA(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],eA(o)),e}function nA(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function iA(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function oA(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],iA(o));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=s(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function lA(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],oA(o)),e}function aA(){return{}}function sA(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function ph(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>$E(S))),r(e,["functionDeclarations"],C)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],jE(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],tA(d));const m=s(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],nA(m));const g=s(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],lA(g)),s(n,["urlContext"])!=null&&r(e,["urlContext"],aA());const h=s(n,["computerUse"]);h!=null&&r(e,["computerUse"],sA(h));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function rA(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function uA(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function cA(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],uA(o));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function fA(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],rA(o));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],cA(a)),e}function dA(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function mA(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],dA(o)),e}function pA(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],mA(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function hA(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function gA(n,e,o){const a={},c=s(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],$i(st(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(a,["topP"],m);const g=s(e,["topK"]);g!=null&&r(a,["topK"],g);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const h=s(e,["maxOutputTokens"]);h!=null&&r(a,["maxOutputTokens"],h);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const C=s(e,["responseLogprobs"]);C!=null&&r(a,["responseLogprobs"],C);const S=s(e,["logprobs"]);S!=null&&r(a,["logprobs"],S);const M=s(e,["presencePenalty"]);M!=null&&r(a,["presencePenalty"],M);const L=s(e,["frequencyPenalty"]);L!=null&&r(a,["frequencyPenalty"],L);const H=s(e,["seed"]);H!=null&&r(a,["seed"],H);const z=s(e,["responseMimeType"]);z!=null&&r(a,["responseMimeType"],z);const J=s(e,["responseSchema"]);J!=null&&r(a,["responseSchema"],QE(ru(J)));const Y=s(e,["responseJsonSchema"]);Y!=null&&r(a,["responseJsonSchema"],Y);const K=s(e,["routingConfig"]);K!=null&&r(a,["routingConfig"],K);const j=s(e,["modelSelectionConfig"]);j!=null&&r(a,["modelConfig"],XE(j));const P=s(e,["safetySettings"]);if(o!==void 0&&P!=null){let W=P;Array.isArray(W)&&(W=W.map(D=>ZE(D))),r(o,["safetySettings"],W)}const ee=s(e,["tools"]);if(o!==void 0&&ee!=null){let W=Xi(ee);Array.isArray(W)&&(W=W.map(D=>ph(Qi(D)))),r(o,["tools"],W)}const ie=s(e,["toolConfig"]);o!==void 0&&ie!=null&&r(o,["toolConfig"],fA(ie));const he=s(e,["labels"]);o!==void 0&&he!=null&&r(o,["labels"],he);const ne=s(e,["cachedContent"]);o!==void 0&&ne!=null&&r(o,["cachedContent"],rn(n,ne));const G=s(e,["responseModalities"]);G!=null&&r(a,["responseModalities"],G);const F=s(e,["mediaResolution"]);F!=null&&r(a,["mediaResolution"],F);const X=s(e,["speechConfig"]);X!=null&&r(a,["speechConfig"],pA(uu(X)));const ue=s(e,["audioTimestamp"]);ue!=null&&r(a,["audioTimestamp"],ue);const $=s(e,["thinkingConfig"]);return $!=null&&r(a,["thinkingConfig"],hA($)),a}function Dp(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>$i(g))),r(o,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["generationConfig"],gA(n,d,o)),o}function yA(n,e){const o={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["instances[]","task_type"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const m=s(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const g=s(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),o}function vA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["contents"]);c!=null&&r(o,["instances[]","content"],Xp(n,c));const d=s(e,["config"]);return d!=null&&r(o,["config"],yA(d,o)),o}function TA(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=s(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const L=s(n,["outputMimeType"]);e!==void 0&&L!=null&&r(e,["parameters","outputOptions","mimeType"],L);const H=s(n,["outputCompressionQuality"]);e!==void 0&&H!=null&&r(e,["parameters","outputOptions","compressionQuality"],H);const z=s(n,["addWatermark"]);e!==void 0&&z!=null&&r(e,["parameters","addWatermark"],z);const J=s(n,["imageSize"]);e!==void 0&&J!=null&&r(e,["parameters","sampleImageSize"],J);const Y=s(n,["enhancePrompt"]);return e!==void 0&&Y!=null&&r(e,["parameters","enhancePrompt"],Y),o}function CA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(o,["config"],TA(d,o)),o}function zt(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const a=s(n,["imageBytes"]);a!=null&&r(e,["bytesBase64Encoded"],ti(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function SA(n){const e={},o=s(n,["maskMode"]);o!=null&&r(e,["maskMode"],o);const a=s(n,["segmentationClasses"]);a!=null&&r(e,["maskClasses"],a);const c=s(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function EA(n){const e={},o=s(n,["controlType"]);o!=null&&r(e,["controlType"],o);const a=s(n,["enableControlImageComputation"]);return a!=null&&r(e,["computeControl"],a),e}function AA(n){const e={},o=s(n,["styleDescription"]);return o!=null&&r(e,["styleDescription"],o),e}function xA(n){const e={},o=s(n,["subjectType"]);o!=null&&r(e,["subjectType"],o);const a=s(n,["subjectDescription"]);return a!=null&&r(e,["subjectDescription"],a),e}function _A(n){const e={},o=s(n,["referenceImage"]);o!=null&&r(e,["referenceImage"],zt(o));const a=s(n,["referenceId"]);a!=null&&r(e,["referenceId"],a);const c=s(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const d=s(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],SA(d));const m=s(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],EA(m));const g=s(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],AA(g));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],xA(y)),e}function MA(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=s(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=s(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const L=s(n,["outputMimeType"]);e!==void 0&&L!=null&&r(e,["parameters","outputOptions","mimeType"],L);const H=s(n,["outputCompressionQuality"]);e!==void 0&&H!=null&&r(e,["parameters","outputOptions","compressionQuality"],H);const z=s(n,["addWatermark"]);e!==void 0&&z!=null&&r(e,["parameters","addWatermark"],z);const J=s(n,["editMode"]);e!==void 0&&J!=null&&r(e,["parameters","editMode"],J);const Y=s(n,["baseSteps"]);return e!==void 0&&Y!=null&&r(e,["parameters","editConfig","baseSteps"],Y),o}function RA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=s(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>_A(y))),r(o,["instances[0]","referenceImages"],g)}const m=s(e,["config"]);return m!=null&&r(o,["config"],MA(m,o)),o}function NA(n,e){const o={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["includeRaiReason"]);e!==void 0&&c!=null&&r(e,["parameters","includeRaiReason"],c);const d=s(n,["outputMimeType"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","mimeType"],d);const m=s(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&r(e,["parameters","outputOptions","compressionQuality"],m);const g=s(n,["enhanceInputImage"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],g);const y=s(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const h=s(n,["numberOfImages"]);e!==void 0&&h!=null&&r(e,["parameters","sampleCount"],h);const v=s(n,["mode"]);return e!==void 0&&v!=null&&r(e,["parameters","mode"],v),o}function DA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["image"]);c!=null&&r(o,["instances[0]","image"],zt(c));const d=s(e,["upscaleFactor"]);d!=null&&r(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=s(e,["config"]);return m!=null&&r(o,["config"],NA(m,o)),o}function UA(n){const e={},o=s(n,["productImage"]);return o!=null&&r(e,["image"],zt(o)),e}function IA(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&r(e,["instances[0]","prompt"],a);const c=s(n,["personImage"]);e!==void 0&&c!=null&&r(e,["instances[0]","personImage","image"],zt(c));const d=s(n,["productImages"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>UA(g))),r(e,["instances[0]","productImages"],m)}return o}function bA(n,e){const o={},a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["baseSteps"]);e!==void 0&&c!=null&&r(e,["parameters","editConfig","baseSteps"],c);const d=s(n,["outputGcsUri"]);e!==void 0&&d!=null&&r(e,["parameters","storageUri"],d);const m=s(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=s(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const h=s(n,["addWatermark"]);e!==void 0&&h!=null&&r(e,["parameters","addWatermark"],h);const v=s(n,["outputMimeType"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","mimeType"],v);const C=s(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","compressionQuality"],C);const S=s(n,["enhancePrompt"]);return e!==void 0&&S!=null&&r(e,["parameters","enhancePrompt"],S),o}function wA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["source"]);c!=null&&r(o,["config"],IA(c,o));const d=s(e,["config"]);return d!=null&&r(o,["config"],bA(d,o)),o}function LA(n){const e={},o=s(n,["image"]);return o!=null&&r(e,["image"],zt(o)),e}function VA(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&r(e,["instances[0]","prompt"],a);const c=s(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],zt(c));const d=s(n,["scribbleImage"]);return e!==void 0&&d!=null&&r(e,["instances[0]","scribble"],LA(d)),o}function qA(n,e){const o={},a=s(n,["mode"]);e!==void 0&&a!=null&&r(e,["parameters","mode"],a);const c=s(n,["maxPredictions"]);e!==void 0&&c!=null&&r(e,["parameters","maxPredictions"],c);const d=s(n,["confidenceThreshold"]);e!==void 0&&d!=null&&r(e,["parameters","confidenceThreshold"],d);const m=s(n,["maskDilation"]);e!==void 0&&m!=null&&r(e,["parameters","maskDilation"],m);const g=s(n,["binaryColorThreshold"]);return e!==void 0&&g!=null&&r(e,["parameters","binaryColorThreshold"],g),o}function GA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["source"]);c!=null&&r(o,["config"],VA(c,o));const d=s(e,["config"]);return d!=null&&r(o,["config"],qA(d,o)),o}function HA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","name"],_e(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function kA(n,e,o){const a={},c=s(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const d=s(e,["pageToken"]);o!==void 0&&d!=null&&r(o,["_query","pageToken"],d);const m=s(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=s(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],Wp(n,g)),a}function PA(n,e){const o={},a=s(e,["config"]);return a!=null&&r(o,["config"],kA(n,a,o)),o}function BA(n,e){const o={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),o}function zA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],BA(c,o)),o}function OA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","name"],_e(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],c),o}function FA(n,e){const o={},a=s(n,["systemInstruction"]);e!==void 0&&a!=null&&r(e,["systemInstruction"],$i(st(a)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>ph(g))),r(e,["tools"],m)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),o}function YA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>$i(g))),r(o,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["config"],FA(d,o)),o}function JA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["contents"]);if(c!=null){let m=bt(c);Array.isArray(m)&&(m=m.map(g=>$i(g))),r(o,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["config"],d),o}function hh(n){const e={},o=s(n,["uri"]);o!=null&&r(e,["gcsUri"],o);const a=s(n,["videoBytes"]);a!=null&&r(e,["bytesBase64Encoded"],ti(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function KA(n,e){const o={},a=s(n,["prompt"]);e!==void 0&&a!=null&&r(e,["instances[0]","prompt"],a);const c=s(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],zt(c));const d=s(n,["video"]);return e!==void 0&&d!=null&&r(e,["instances[0]","video"],hh(d)),o}function QA(n){const e={},o=s(n,["image"]);o!=null&&r(e,["image"],zt(o));const a=s(n,["referenceType"]);return a!=null&&r(e,["referenceType"],a),e}function XA(n,e){const o={},a=s(n,["numberOfVideos"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const d=s(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const m=s(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const g=s(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const h=s(n,["resolution"]);e!==void 0&&h!=null&&r(e,["parameters","resolution"],h);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=s(n,["pubsubTopic"]);e!==void 0&&C!=null&&r(e,["parameters","pubsubTopic"],C);const S=s(n,["negativePrompt"]);e!==void 0&&S!=null&&r(e,["parameters","negativePrompt"],S);const M=s(n,["enhancePrompt"]);e!==void 0&&M!=null&&r(e,["parameters","enhancePrompt"],M);const L=s(n,["generateAudio"]);e!==void 0&&L!=null&&r(e,["parameters","generateAudio"],L);const H=s(n,["lastFrame"]);e!==void 0&&H!=null&&r(e,["instances[0]","lastFrame"],zt(H));const z=s(n,["referenceImages"]);if(e!==void 0&&z!=null){let Y=z;Array.isArray(Y)&&(Y=Y.map(K=>QA(K))),r(e,["instances[0]","referenceImages"],Y)}const J=s(n,["compressionQuality"]);return e!==void 0&&J!=null&&r(e,["parameters","compressionQuality"],J),o}function ZA(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["_url","model"],_e(n,a));const c=s(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const d=s(e,["image"]);d!=null&&r(o,["instances[0]","image"],zt(d));const m=s(e,["video"]);m!=null&&r(o,["instances[0]","video"],hh(m));const g=s(e,["source"]);g!=null&&r(o,["config"],KA(g,o));const y=s(e,["config"]);return y!=null&&r(o,["config"],XA(y,o)),o}function $A(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function WA(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function jA(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function ex(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],$A(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],WA(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],jA(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function tx(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>ex(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function nx(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function ix(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function ox(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>ix(c))),r(e,["urlMetadata"],a)}return e}function lx(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],tx(o));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],nx(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],ox(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&r(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Up(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>lx(h))),r(e,["candidates"],y)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=s(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function ax(n){const e={},o=s(n,["values"]);return o!=null&&r(e,["values"],o),e}function sx(){return{}}function rx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>ax(m))),r(e,["embeddings"],d)}return s(n,["metadata"])!=null&&r(e,["metadata"],sx()),e}function ux(n){const e={},o=s(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],ti(o));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function gh(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function cx(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],ux(o));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],gh(c)),e}function fx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>cx(m))),r(e,["generatedImages"],d)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],gh(c)),e}function dx(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function iu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["version"]);d!=null&&r(e,["version"],d);const m=s(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],dx(m));const g=s(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const h=s(n,["supportedGenerationMethods"]);return h!=null&&r(e,["supportedActions"],h),e}function mx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=jp(c);Array.isArray(d)&&(d=d.map(m=>iu(m))),r(e,["models"],d)}return e}function px(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function hx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["totalTokens"]);a!=null&&r(e,["totalTokens"],a);const c=s(n,["cachedContentTokenCount"]);return c!=null&&r(e,["cachedContentTokenCount"],c),e}function gx(n){const e={},o=s(n,["video","uri"]);o!=null&&r(e,["uri"],o);const a=s(n,["video","encodedVideo"]);a!=null&&r(e,["videoBytes"],ti(a));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function yx(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],gx(o)),e}function vx(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>yx(m))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Tx(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const m=s(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],vx(m)),e}function Cx(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Sx(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Ex(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Ax(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Cx(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],Sx(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Ex(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function xx(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Ax(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function _x(n){const e={},o=s(n,["citations"]);return o!=null&&r(e,["citations"],o),e}function Mx(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function Rx(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Mx(c))),r(e,["urlMetadata"],a)}return e}function Nx(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],xx(o));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],_x(a));const c=s(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],Rx(m));const g=s(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const h=s(n,["index"]);h!=null&&r(e,["index"],h);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=s(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function Ip(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>Nx(v))),r(e,["candidates"],h)}const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["modelVersion"]);d!=null&&r(e,["modelVersion"],d);const m=s(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const g=s(n,["responseId"]);g!=null&&r(e,["responseId"],g);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function Dx(n){const e={},o=s(n,["truncated"]);o!=null&&r(e,["truncated"],o);const a=s(n,["token_count"]);return a!=null&&r(e,["tokenCount"],a),e}function Ux(n){const e={},o=s(n,["values"]);o!=null&&r(e,["values"],o);const a=s(n,["statistics"]);return a!=null&&r(e,["statistics"],Dx(a)),e}function Ix(n){const e={},o=s(n,["billableCharacterCount"]);return o!=null&&r(e,["billableCharacterCount"],o),e}function bx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Ux(m))),r(e,["embeddings"],d)}const c=s(n,["metadata"]);return c!=null&&r(e,["metadata"],Ix(c)),e}function yh(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["imageBytes"],ti(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function vh(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function Ua(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],yh(o));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);c!=null&&r(e,["safetyAttributes"],vh(c));const d=s(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function wx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Ua(m))),r(e,["generatedImages"],d)}const c=s(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],vh(c)),e}function Lx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ua(d))),r(e,["generatedImages"],c)}return e}function Vx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ua(d))),r(e,["generatedImages"],c)}return e}function qx(n){const e={},o=s(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Ua(c))),r(e,["generatedImages"],a)}return e}function Gx(n){const e={},o=s(n,["label"]);o!=null&&r(e,["label"],o);const a=s(n,["score"]);return a!=null&&r(e,["score"],a),e}function Hx(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["mask"],yh(o));const a=s(n,["labels"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Gx(d))),r(e,["labels"],c)}return e}function kx(n){const e={},o=s(n,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Hx(c))),r(e,["generatedMasks"],a)}return e}function Px(n){const e={},o=s(n,["endpoint"]);o!=null&&r(e,["name"],o);const a=s(n,["deployedModelId"]);return a!=null&&r(e,["deployedModelId"],a),e}function Bx(n){const e={},o=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&r(e,["baseModel"],o);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function zx(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);return c!=null&&r(e,["step"],c),e}function ou(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["versionId"]);d!=null&&r(e,["version"],d);const m=s(n,["deployedModels"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(S=>Px(S))),r(e,["endpoints"],C)}const g=s(n,["labels"]);g!=null&&r(e,["labels"],g);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],Bx(y));const h=s(n,["defaultCheckpointId"]);h!=null&&r(e,["defaultCheckpointId"],h);const v=s(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(S=>zx(S))),r(e,["checkpoints"],C)}return e}function Ox(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=jp(c);Array.isArray(d)&&(d=d.map(m=>ou(m))),r(e,["models"],d)}return e}function Fx(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function Yx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["totalTokens"]);return a!=null&&r(e,["totalTokens"],a),e}function Jx(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["tokensInfo"]);return a!=null&&r(e,["tokensInfo"],a),e}function Kx(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["videoBytes"],ti(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Qx(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],Kx(o)),e}function Xx(n){const e={},o=s(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Qx(m))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Zx(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const m=s(n,["response"]);return m!=null&&r(e,["response"],Xx(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $x="Content-Type",Wx="X-Server-Timeout",jx="User-Agent",lu="x-goog-api-client",e_="1.16.0",t_=`google-genai-sdk/${e_}`,n_="v1beta1",i_="v1beta",bp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class o_{constructor(e){var o,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:n_,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:i_,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,a){const c=[this.getRequestUrlInternal(o)];return a&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,a);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))c.searchParams.append(m,String(g));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,o){const a=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(o))typeof d=="object"?a[c]=Object.assign(Object.assign({},a[c]),d):d!==void 0&&(a[c]=d);return a}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,a);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,a){if(o&&o.timeout||a){const c=new AbortController,d=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>c.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=d}return o&&o.extraBody!==null&&l_(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:a})).then(async c=>(await wp(c),new Wr(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:a})).then(async c=>(await wp(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return Yi(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield Le(c.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=d.decode(y,{stream:!0});try{const C=JSON.parse(h);if("error"in C){const S=JSON.parse(JSON.stringify(C.error)),M=S.status,L=S.code,H=`got status: ${M}. ${JSON.stringify(C)}`;if(L>=400&&L<600)throw new Na({message:H,status:L})}}catch(C){if(C.name==="ApiError")throw C}m+=h;let v=m.match(bp);for(;v;){const C=v[1];try{const S=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Le(new Wr(S)),m=m.slice(v[0].length),v=m.match(bp)}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},o=t_+" "+this.clientOptions.userAgentExtra;return e[jx]=o,e[lu]=o,e[$x]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))o.append(a,c);e.timeout&&e.timeout>0&&o.append(Wx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var a;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,m=await d.stat(e);c.sizeBytes=String(m.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=g;const y=await this.fetchUploadUrl(c,o);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var a;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},m=await this.request({path:ae("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(a=m==null?void 0:m.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function wp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let a;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(a);throw o>=400&&o<600?new Na({message:c,status:o}):new Error(c)}}function l_(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const c=a(o,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a_="mcp_used/unknown";let s_=!1;function Th(n){for(const e of n)if(r_(e)||typeof e=="object"&&"inputSchema"in e)return!0;return s_}function Ch(n){var e;const o=(e=n[lu])!==null&&e!==void 0?e:"";n[lu]=(o+` ${a_}`).trimStart()}function r_(n){return n!==null&&typeof n=="object"&&n instanceof fu}function u_(n,e=100){return Yi(this,arguments,function*(){let a,c=0;for(;c<e;){const d=yield Le(n.listTools({cursor:a}));for(const m of d.tools)yield yield Le(m),c++;if(!d.nextCursor)break;a=d.nextCursor}})}class fu{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new fu(e,o)}async initialize(){var e,o,a,c;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,jo(u_(v))),h;h=await y.next(),e=h.done,!e;g=!0){c=h.value,g=!1;const C=c;m.push(C);const S=C.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=v}}catch(C){o={error:C}}finally{try{!g&&!e&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Pv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await c.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function c_(n,e,o){const a=new bv;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const d=FS(c);Object.assign(a,d),e(a)}class f_{constructor(e,o,a){this.apiClient=e,this.auth=o,this.webSocketFactory=a}async connect(e){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=p_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(K=>{h=K}),C=e.callbacks,S=function(){h({})},M=this.apiClient,L={onopen:S,onmessage:K=>{c_(M,C.onmessage,K)},onerror:(o=C==null?void 0:C.onerror)!==null&&o!==void 0?o:function(K){},onclose:(a=C==null?void 0:C.onclose)!==null&&a!==void 0?a:function(K){}},H=this.webSocketFactory.create(y,m_(m),L);H.connect(),await v;const z=_e(this.apiClient,e.model),J=ch({model:z}),Y=nu({setup:J});return H.send(JSON.stringify(Y)),new d_(H,this.apiClient)}}class d_{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=BC(e),a=fh(o);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=zC(e),a=nu(o);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const o=nu({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Oi.PLAY)}pause(){this.sendPlaybackControl(Oi.PAUSE)}stop(){this.sendPlaybackControl(Oi.STOP)}resetContext(){this.sendPlaybackControl(Oi.RESET_CONTEXT)}close(){this.conn.close()}}function m_(n){const e={};return n.forEach((o,a)=>{e[a]=o}),e}function p_(n){const e=new Headers;for(const[o,a]of Object.entries(n))e.append(o,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function g_(n,e,o){const a=new Iv;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const d=JSON.parse(c);if(n.isVertexAI()){const m=oE(d);Object.assign(a,m)}else{const m=VS(d);Object.assign(a,m)}e(a)}class y_{constructor(e,o,a){this.apiClient=e,this.auth=o,this.webSocketFactory=a,this.music=new f_(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,a,c,d,m,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&Th(e.config.tools)&&Ch(C);const S=S_(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const ne=this.apiClient.getApiKey();let G="BidiGenerateContent",F="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",F="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${G}?${F}=${ne}`}let M=()=>{};const L=new Promise(ne=>{M=ne}),H=e.callbacks,z=function(){var ne;(ne=H==null?void 0:H.onopen)===null||ne===void 0||ne.call(H),M({})},J=this.apiClient,Y={onopen:z,onmessage:ne=>{g_(J,H.onmessage,ne)},onerror:(o=H==null?void 0:H.onerror)!==null&&o!==void 0?o:function(ne){},onclose:(a=H==null?void 0:H.onclose)!==null&&a!==void 0?a:function(ne){}},K=this.webSocketFactory.create(v,C_(S),Y);K.connect(),await L;let j=_e(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const ne=this.apiClient.getProject(),G=this.apiClient.getLocation();j=`projects/${ne}/locations/${G}/`+j}let P={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xa.AUDIO]}:e.config.responseModalities=[xa.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],ie=[];for(const ne of ee)if(this.isCallableTool(ne)){const G=ne;ie.push(await G.tool())}else ie.push(ne);ie.length>0&&(e.config.tools=ie);const he={model:j,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?P=gS(this.apiClient,he):P=GC(this.apiClient,he),delete P.config,K.send(JSON.stringify(P)),new T_(K,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const v_={turnComplete:!0};class T_{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=bt(o.turns),e.isVertexAI()?a=a.map(c=>$i(c)):a=a.map(c=>Da(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(h_)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},v_),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:TS(e)}:o={realtimeInput:PC(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function C_(n){const e={};return n.forEach((o,a)=>{e[a]=o}),e}function S_(n){const e=new Headers;for(const[o,a]of Object.entries(n))e.append(o,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lp=10;function Vp(n){var e,o,a;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const m of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Ji(m)){c=!0;break}if(!c)return!0;const d=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Ji(n){return"callTool"in n&&typeof n.callTool=="function"}function E_(n){var e,o,a;return(a=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>Ji(c)))!==null&&a!==void 0?a:!1}function A_(n){var e,o,a;return(a=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!Ji(c)))!==null&&a!==void 0?a:!1}function qp(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x_ extends ei{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var a,c,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!E_(o)||Vp(o.config))return await this.generateContentInternal(y);if(A_(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,v;const C=bt(y.contents),S=(d=(c=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:Lp;let M=0;for(;M<S&&(h=await this.generateContentInternal(y),!(!h.functionCalls||h.functionCalls.length===0));){const L=h.candidates[0].content,H=[];for(const z of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Ji(z)){const Y=await z.callTool(h.functionCalls);H.push(...Y)}M++,v={role:"user",parts:H},y.contents=bt(y.contents),y.contents.push(L),y.contents.push(v),qp(y.config)&&(C.push(L),C.push(v))}return qp(y.config)&&(h.automaticFunctionCallingHistory=C),h},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Vp(o.config)){const a=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var c;let d;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new tl(jn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(c)},this.generateVideos=async o=>{if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,a,c;const d=(o=e.config)===null||o===void 0?void 0:o.tools;if(!d)return e;const m=await Promise.all(d.map(async y=>Ji(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&Th(e.config.tools)){const y=(c=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&c!==void 0?c:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Ch(h),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(e){var o,a,c;const d=new Map;for(const m of(a=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Ji(m)){const g=m,y=await g.tool();for(const h of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(e){var o,a,c;const d=(c=(a=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:Lp;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return(function(h,v,C){var S,M;return Yi(this,arguments,function*(){for(var L,H,z,J;g<d;){m&&(g++,m=!1);const P=yield Le(h.processParamsMaybeAddMcpUsage(C)),ee=yield Le(h.generateContentStreamInternal(P)),ie=[],he=[];try{for(var Y=!0,K=(H=void 0,jo(ee)),j;j=yield Le(K.next()),L=j.done,!L;Y=!0){J=j.value,Y=!1;const ne=J;if(yield yield Le(ne),ne.candidates&&(!((S=ne.candidates[0])===null||S===void 0)&&S.content)){he.push(ne.candidates[0].content);for(const G of(M=ne.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(g<d&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(G.functionCall.name)){const F=yield Le(v.get(G.functionCall.name).callTool([G.functionCall]));ie.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(ne){H={error:ne}}finally{try{!Y&&!L&&(z=K.return)&&(yield Le(z.call(K)))}finally{if(H)throw H.error}}if(ie.length>0){m=!0;const ne=new Wo;ne.candidates=[{content:{role:"user",parts:ie}}],yield yield Le(ne);const G=[];G.push(...he),G.push({role:"user",parts:ie});const F=bt(C.contents).concat(G);C.contents=F}else break}})})(this,y,e)}async generateContentInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Dp(this.apiClient,e);return g=ae("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Ip(v),S=new Wo;return Object.assign(S,C),S})}else{const h=Np(this.apiClient,e);return g=ae("{model}:generateContent",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Up(v),S=new Wo;return Object.assign(S,C),S})}}async generateContentStreamInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Dp(this.apiClient,e);return g=ae("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(C){return Yi(this,arguments,function*(){var S,M,L,H;try{for(var z=!0,J=jo(C),Y;Y=yield Le(J.next()),S=Y.done,!S;z=!0){H=Y.value,z=!1;const K=H,j=Ip(yield Le(K.json()));j.sdkHttpResponse={headers:K.headers};const P=new Wo;Object.assign(P,j),yield yield Le(P)}}catch(K){M={error:K}}finally{try{!z&&!S&&(L=J.return)&&(yield Le(L.call(J)))}finally{if(M)throw M.error}}})})}else{const h=Np(this.apiClient,e);return g=ae("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(C){return Yi(this,arguments,function*(){var S,M,L,H;try{for(var z=!0,J=jo(C),Y;Y=yield Le(J.next()),S=Y.done,!S;z=!0){H=Y.value,z=!1;const K=H,j=Up(yield Le(K.json()));j.sdkHttpResponse={headers:K.headers};const P=new Wo;Object.assign(P,j),yield yield Le(P)}}catch(K){M={error:K}}finally{try{!z&&!S&&(L=J.return)&&(yield Le(L.call(J)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=vA(this.apiClient,e);return g=ae("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=bx(v),S=new ap;return Object.assign(S,C),S})}else{const h=UE(this.apiClient,e);return g=ae("{model}:batchEmbedContents",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=rx(v),S=new ap;return Object.assign(S,C),S})}}async generateImagesInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=CA(this.apiClient,e);return g=ae("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=wx(v),S=new sp;return Object.assign(S,C),S})}else{const h=bE(this.apiClient,e);return g=ae("{model}:predict",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=fx(v),S=new sp;return Object.assign(S,C),S})}}async editImageInternal(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=RA(this.apiClient,e);return d=ae("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=Lx(y),v=new Av;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=DA(this.apiClient,e);return d=ae("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=Vx(y),v=new xv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=wA(this.apiClient,e);return d=ae("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const h=qx(y),v=new _v;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=GA(this.apiClient,e);return d=ae("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const h=kx(y),v=new Mv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=HA(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>ou(v))}else{const h=wE(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>iu(v))}}async listInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=PA(this.apiClient,e);return g=ae("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Ox(v),S=new rp;return Object.assign(S,C),S})}else{const h=VE(this.apiClient,e);return g=ae("{models_url}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=mx(v),S=new rp;return Object.assign(S,C),S})}}async update(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=zA(this.apiClient,e);return g=ae("{model}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>ou(v))}else{const h=GE(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>iu(v))}}async delete(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=OA(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Fx(v),S=new up;return Object.assign(S,C),S})}else{const h=HE(this.apiClient,e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=px(v),S=new up;return Object.assign(S,C),S})}}async countTokens(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=YA(this.apiClient,e);return g=ae("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Yx(v),S=new cp;return Object.assign(S,C),S})}else{const h=PE(this.apiClient,e);return g=ae("{model}:countTokens",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=hx(v),S=new cp;return Object.assign(S,C),S})}}async computeTokens(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=JA(this.apiClient,e);return d=ae("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const h=Jx(y),v=new Rv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ZA(this.apiClient,e);return g=ae("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const C=Zx(v),S=new _a;return Object.assign(S,C),S})}else{const h=OE(this.apiClient,e);return g=ae("{model}:predictLongRunning",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const C=Tx(v),S=new _a;return Object.assign(S,C),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function __(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function M_(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["operationName"],o);const a=s(n,["resourceName"]);a!=null&&r(e,["_url","resourceName"],a);const c=s(n,["config"]);return c!=null&&r(e,["config"],c),e}function R_(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N_ extends ei{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,a=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const o=e.operation,a=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=R_(e);return g=ae("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m}else{const h=__(e);return g=ae("{operationName}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=M_(e);return d=ae("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D_(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Sh(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],D_(o)),e}function U_(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],Sh(a)),e}function I_(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>U_(c))),r(e,["speakerVoiceConfigs"],a)}return e}function b_(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Sh(o));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],I_(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function w_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function L_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function V_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function q_(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],w_(o));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],L_(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],V_(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=s(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],h);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=s(n,["text"]);return C!=null&&r(e,["text"],C),e}function G_(n){const e={},o=s(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>q_(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function H_(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=s(n,["response"]);g!=null&&r(e,["response"],g);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function k_(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function P_(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],k_(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function B_(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function z_(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],B_(o)),e}function O_(){return{}}function F_(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function Y_(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(h=>H_(h))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],P_(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],z_(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],O_());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],F_(m));const g=s(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function J_(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Gp(){return{}}function K_(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function Q_(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],K_(o));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function X_(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function Z_(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],X_(a)),e}function $_(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function W_(n,e){const o={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=s(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const h=s(n,["mediaResolution"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","mediaResolution"],h);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=s(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],b_(cu(C)));const S=s(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],G_(st(M)));const L=s(n,["tools"]);if(e!==void 0&&L!=null){let P=Xi(L);Array.isArray(P)&&(P=P.map(ee=>Y_(Qi(ee)))),r(e,["setup","tools"],P)}const H=s(n,["sessionResumption"]);e!==void 0&&H!=null&&r(e,["setup","sessionResumption"],J_(H));const z=s(n,["inputAudioTranscription"]);e!==void 0&&z!=null&&r(e,["setup","inputAudioTranscription"],Gp());const J=s(n,["outputAudioTranscription"]);e!==void 0&&J!=null&&r(e,["setup","outputAudioTranscription"],Gp());const Y=s(n,["realtimeInputConfig"]);e!==void 0&&Y!=null&&r(e,["setup","realtimeInputConfig"],Q_(Y));const K=s(n,["contextWindowCompression"]);e!==void 0&&K!=null&&r(e,["setup","contextWindowCompression"],Z_(K));const j=s(n,["proactivity"]);return e!==void 0&&j!=null&&r(e,["setup","proactivity"],$_(j)),o}function j_(n,e){const o={},a=s(e,["model"]);a!=null&&r(o,["setup","model"],_e(n,a));const c=s(e,["config"]);return c!=null&&r(o,["config"],W_(c,o)),o}function eM(n,e,o){const a={},c=s(e,["expireTime"]);o!==void 0&&c!=null&&r(o,["expireTime"],c);const d=s(e,["newSessionExpireTime"]);o!==void 0&&d!=null&&r(o,["newSessionExpireTime"],d);const m=s(e,["uses"]);o!==void 0&&m!=null&&r(o,["uses"],m);const g=s(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&r(o,["bidiGenerateContentSetup"],j_(n,g));const y=s(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&r(o,["fieldMask"],y),a}function tM(n,e){const o={},a=s(e,["config"]);return a!=null&&r(o,["config"],eM(n,a,o)),o}function nM(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const a=n[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const c=Object.keys(a).map(d=>`${o}.${d}`);e.push(...c)}else e.push(o)}return e.join(",")}function oM(n,e){let o=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,o=d):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(o){const d=iM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];c.length>0&&(g=c.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class lM extends ei{constructor(e){super(),this.apiClient=e}async create(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=tM(this.apiClient,e);d=ae("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=oM(g,e.config);return c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),c.then(h=>nM(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function sM(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function rM(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],sM(o,e)),e}function uM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function cM(n){const e={},o=s(n,["textInput"]);o!=null&&r(e,["textInput"],o);const a=s(n,["output"]);return a!=null&&r(e,["output"],a),e}function fM(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>cM(c))),r(e,["examples","examples"],a)}return e}function dM(n,e){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=s(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&r(e,["displayName"],a),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const d=s(n,["learningRateMultiplier"]);if(d!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=s(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const g=s(n,["learningRate"]);return e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),o}function mM(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const a=s(n,["preTunedModel"]);a!=null&&r(e,["preTunedModel"],a);const c=s(n,["trainingDataset"]);c!=null&&r(e,["tuningTask","trainingData"],fM(c));const d=s(n,["config"]);return d!=null&&r(e,["config"],dM(d,e)),e}function pM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function hM(n,e){const o={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function gM(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],hM(o,e)),e}function yM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function vM(n,e){const o={},a=s(n,["gcsUri"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function TM(n,e){const o={},a=s(n,["gcsUri"]);a!=null&&r(o,["validationDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}function CM(n,e){const o={},a=s(n,["validationDataset"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec"],TM(a,o));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const d=s(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const m=s(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=s(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const h=s(n,["preTunedModelCheckpointId"]);h!=null&&r(o,["preTunedModel","checkpointId"],h);const v=s(n,["adapterSize"]);if(e!==void 0&&v!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function SM(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const a=s(n,["preTunedModel"]);a!=null&&r(e,["preTunedModel"],a);const c=s(n,["trainingDataset"]);c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],vM(c,e));const d=s(n,["config"]);return d!=null&&r(e,["config"],CM(d,e)),e}function EM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["model"],o);const a=s(n,["name"]);return a!=null&&r(e,["endpoint"],a),e}function Eh(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["state"]);c!=null&&r(e,["state"],Zp(c));const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const g=s(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["description"]);h!=null&&r(e,["description"],h);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const C=s(n,["_self"]);C!=null&&r(e,["tunedModel"],EM(C));const S=s(n,["customBaseModel"]);S!=null&&r(e,["customBaseModel"],S);const M=s(n,["experiment"]);M!=null&&r(e,["experiment"],M);const L=s(n,["labels"]);L!=null&&r(e,["labels"],L);const H=s(n,["outputUri"]);H!=null&&r(e,["outputUri"],H);const z=s(n,["pipelineJob"]);z!=null&&r(e,["pipelineJob"],z);const J=s(n,["serviceAccount"]);J!=null&&r(e,["serviceAccount"],J);const Y=s(n,["tunedModelDisplayName"]);return Y!=null&&r(e,["tunedModelDisplayName"],Y),e}function AM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Eh(m))),r(e,["tuningJobs"],d)}return e}function xM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["metadata"]);c!=null&&r(e,["metadata"],c);const d=s(n,["done"]);d!=null&&r(e,["done"],d);const m=s(n,["error"]);return m!=null&&r(e,["error"],m),e}function _M(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);c!=null&&r(e,["step"],c);const d=s(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function MM(n){const e={},o=s(n,["model"]);o!=null&&r(e,["model"],o);const a=s(n,["endpoint"]);a!=null&&r(e,["endpoint"],a);const c=s(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>_M(m))),r(e,["checkpoints"],d)}return e}function au(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["state"]);c!=null&&r(e,["state"],Zp(c));const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["startTime"]);m!=null&&r(e,["startTime"],m);const g=s(n,["endTime"]);g!=null&&r(e,["endTime"],g);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const h=s(n,["error"]);h!=null&&r(e,["error"],h);const v=s(n,["description"]);v!=null&&r(e,["description"],v);const C=s(n,["baseModel"]);C!=null&&r(e,["baseModel"],C);const S=s(n,["tunedModel"]);S!=null&&r(e,["tunedModel"],MM(S));const M=s(n,["preTunedModel"]);M!=null&&r(e,["preTunedModel"],M);const L=s(n,["supervisedTuningSpec"]);L!=null&&r(e,["supervisedTuningSpec"],L);const H=s(n,["tuningDataStats"]);H!=null&&r(e,["tuningDataStats"],H);const z=s(n,["encryptionSpec"]);z!=null&&r(e,["encryptionSpec"],z);const J=s(n,["partnerModelTuningSpec"]);J!=null&&r(e,["partnerModelTuningSpec"],J);const Y=s(n,["customBaseModel"]);Y!=null&&r(e,["customBaseModel"],Y);const K=s(n,["experiment"]);K!=null&&r(e,["experiment"],K);const j=s(n,["labels"]);j!=null&&r(e,["labels"],j);const P=s(n,["outputUri"]);P!=null&&r(e,["outputUri"],P);const ee=s(n,["pipelineJob"]);ee!=null&&r(e,["pipelineJob"],ee);const ie=s(n,["serviceAccount"]);ie!=null&&r(e,["serviceAccount"],ie);const he=s(n,["tunedModelDisplayName"]);return he!=null&&r(e,["tunedModelDisplayName"],he),e}function RM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>au(m))),r(e,["tuningJobs"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NM extends ei{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new tl(jn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel},c=Object.assign(Object.assign({},o),{preTunedModel:a});return c.baseModel=void 0,await this.tuneInternal(c)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),c=await this.tuneMldevInternal(a);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:$r.JOB_STATE_QUEUED}}}}async getInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=pM(e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>au(v))}else{const h=aM(e);return g=ae("{name}",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>Eh(v))}}async listInternal(e){var o,a,c,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=gM(e);return g=ae("tuningJobs",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=RM(v),S=new dp;return Object.assign(S,C),S})}else{const h=rM(e);return g=ae("tunedModels",h._url),y=h._query,delete h.config,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=AM(v),S=new dp;return Object.assign(S,C),S})}}async cancel(e){var o,a,c,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=yM(e);m=ae("{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=uM(e);m=ae("{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const g=SM(e);return d=ae("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>au(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mM(e);return d=ae("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>xM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DM{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const UM=1024*1024*8,IM=3,bM=1e3,wM=2,Qr="x-goog-upload-status";async function LM(n,e,o){var a,c,d;let m=0,g=0,y=new Wr(new Response),h="upload";for(m=n.size;g<m;){const C=Math.min(UM,m-g),S=n.slice(g,g+C);g+C>=m&&(h+=", finalize");let M=0,L=bM;for(;M<IM&&(y=await o.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(g),"Content-Length":String(C)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[Qr]));)M++,await qM(L),L=L*wM;if(g+=C,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[Qr])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[Qr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function VM(n){return{size:n.size,type:n.type}}function qM(n){return new Promise(e=>setTimeout(e,n))}class GM{async upload(e,o,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LM(e,o,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HM{create(e,o,a){return new kM(e,o,a)}}class kM{constructor(e,o,a){this.url=e,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hp="x-goog-api-key";class PM{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Hp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Hp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BM="gl-node/";class Ah{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const a=Ev(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const c=new PM(this.apiKey);this.apiClient=new o_({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:BM+"web",uploader:new GM,downloader:new DM}),this.models=new x_(this.apiClient),this.live=new y_(this.apiClient,c,new HM),this.batches=new K0(this.apiClient),this.chats=new jT(this.models,this.apiClient),this.caches=new ZT(this.apiClient),this.files=new dC(this.apiClient),this.operations=new N_(this.apiClient),this.authTokens=new lM(this.apiClient),this.tunings=new NM(this.apiClient)}}var Je=(n=>(n.BASE="BASE",n.PERMUTATION_MIX="PERMUTATION_MIX",n.PIVOT_LANGUAGE="PIVOT_LANGUAGE",n.CHAIN_OF_THOUGHT="CHAIN_OF_THOUGHT",n))(Je||{}),at=(n=>(n.IDLE="IDLE",n.PARSING="PARSING",n.SOLVING="SOLVING",n.RESULTS="RESULTS",n))(at||{});const an=[{key:"flash25lite",model:"gemini-2.5-flash-lite",nombre:"Gemini 2.5 Flash Lite",rpmLimit:15,maxPerTest:15,enabledByDefault:!0,thinkingMode:"optional",thinkingBudget:8192},{key:"flash25",model:"gemini-2.5-flash",nombre:"Gemini 2.5 Flash",rpmLimit:10,maxPerTest:10,enabledByDefault:!1,thinkingMode:"optional",thinkingBudget:8192},{key:"pro25",model:"gemini-2.5-pro",nombre:"Gemini 2.5 Pro",rpmLimit:5,maxPerTest:3,enabledByDefault:!1,thinkingMode:"required",thinkingBudget:8192},{key:"flash20",model:"gemini-2.0-flash",nombre:"Gemini 2.0 Flash",rpmLimit:15,maxPerTest:15,enabledByDefault:!1,thinkingMode:"none",thinkingBudget:8192},{key:"flash20lite",model:"gemini-2.0-flash-lite",nombre:"Gemini 2.0 Flash Lite",rpmLimit:30,maxPerTest:30,enabledByDefault:!1,thinkingMode:"none",thinkingBudget:8192}],Sa={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var el={};const xh=n=>typeof process<"u"&&(el==null?void 0:el[n])||(Sa==null?void 0:Sa[n]),zM=Object.keys(typeof process<"u"&&el?el:Sa||{}),sn=zM.filter(n=>/^(VITE_)?GEMINI_API_KEY\d+$/.test(n)).sort().map(n=>xh(n)).filter(n=>!!n);console.log(`[Gemini] Loaded ${sn.length} API key(s).`);const kp=xh("API_KEY");sn.length===0&&kp&&sn.push(kp);let Ea=0;const _h=()=>new Ah({apiKey:sn[Ea]});let Ki=_h();const Aa=sn.map(n=>new Ah({apiKey:n}));let Pp=0;const OM=()=>{if(!Aa.length)return Ki;const n=Aa[Pp%Aa.length];return Pp++,n},FM=()=>sn.length<=1?!1:(Ea=(Ea+1)%sn.length,Ki=_h(),console.warn(`[Gemini] Rotated API key. Using index ${Ea}.`),!0),du=n=>new Promise(e=>setTimeout(e,n)),Xr={},Mh=async n=>{const e=an.find(a=>a.model===n),o=(e==null?void 0:e.rpmLimit)||6;for(Xr[n]||(Xr[n]=[]);;){const a=Date.now(),c=Xr[n];for(;c.length&&a-c[0]>6e4;)c.shift();if(c.length<o){c.push(a);return}const d=6e4-(a-c[0])+150;console.log(`[RateLimit] Esperando ${(d/1e3).toFixed(1)}s para modelo ${n} (ventana RPM)`),await du(d)}},Ra=async(n,e,o)=>{var m,g;const a=sn.length*2;let c=0,d=750;for(;;)try{return c++,o&&await Mh(o),ke.apiRequests++,o&&(ke.perModel[o]=(ke.perModel[o]||0)+1),ke.operations[e]=(ke.operations[e]||0)+1,await n()}catch(y){const h=((m=y==null?void 0:y.error)==null?void 0:m.status)||(y==null?void 0:y.status)||(y==null?void 0:y.code);if(h===429||h==="RESOURCE_EXHAUSTED"||((g=y==null?void 0:y.error)==null?void 0:g.status)==="RESOURCE_EXHAUSTED"){if(console.warn(`[Gemini][${e}] Rate limited (attempt ${c}/${a}).`),FM()&&ke.rotations++,c>=a)throw y;await du(d),d=Math.min(d*1.8,8e3);continue}throw y}},YM=async(n,e,o)=>{var g;const a=Math.max(1,sn.length),c=Math.max(2,a*3);let d=0,m=500;for(;d<c;){d++;for(let y=0;y<a;y++){const h=OM();try{return o&&await Mh(o),ke.apiRequests++,o&&(ke.perModel[o]=(ke.perModel[o]||0)+1),ke.operations[e]=(ke.operations[e]||0)+1,await n(h)}catch(v){const C=((g=v==null?void 0:v.error)==null?void 0:g.status)||(v==null?void 0:v.status)||(v==null?void 0:v.code);if(C===429||C==="RESOURCE_EXHAUSTED"){ke.rateLimitHits++;continue}throw v}}await du(m),m=Math.min(m*1.8,7e3)}throw new Error(`[withRetryConcurrent] Exhausted retries (${c} cycles) for ${e}`)},ke={apiRequests:0,rotations:0,rateLimitHits:0,operations:{},perStrategy:{},perModel:{}},JM=()=>{const n={...ke,operations:{...ke.operations},perStrategy:{...ke.perStrategy},perModel:{...ke.perModel}};return ke.apiRequests=0,ke.rotations=0,ke.rateLimitHits=0,ke.operations={},ke.perStrategy={},ke.perModel={},n},Rh={type:Oe.ARRAY,items:{type:Oe.OBJECT,properties:{id:{type:Oe.INTEGER,description:"A unique sequential number for the question, starting from 1."},pregunta:{type:Oe.STRING,description:"The text of the question."},opciones:{type:Oe.OBJECT,description:'An object containing the answer options, where keys are "A", "B", "C", etc., and values are the option texts.',properties:{A:{type:Oe.STRING}},additionalProperties:{type:Oe.STRING}}},required:["id","pregunta","opciones"]}};Oe.OBJECT,Oe.INTEGER,Oe.STRING,Oe.OBJECT,Oe.STRING,Oe.STRING;const KM=async n=>{console.log("Calling Gemini API to extract questions from image...");const o={inlineData:{mimeType:"image/jpeg",data:n.split(",")[1]}},a=`Analiza la siguiente imagen que contiene un examen tipo test. Tu tarea es identificar cada pregunta con su enunciado y sus opciones de respuesta (generalmente A, B, C, D...). Extrae toda esta información y devuélvela exclusivamente en formato JSON, sin ningún texto introductorio, explicaciones o comentarios. El JSON debe ser un array de objetos, donde cada objeto representa una pregunta.
      
      Formato de Salida Requerido:
      [
        {
          "id": 1,
          "pregunta": "¿Enunciado de la primera pregunta extraído de la imagen?",
          "opciones": { "A": "Texto de la opción A.", "B": "Texto de la opción B." }
        }
      ]
      
      Asegúrate de que el JSON esté perfectamente formado y listo para ser parseado. Si una parte del texto es ilegible, usa null como valor. Enumera las preguntas secuencialmente empezando por id: 1.`,c=await Ra(()=>Ki.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[o,{text:a}]},config:{responseMimeType:"application/json",responseSchema:Rh}}),"extract-image");try{const d=JSON.parse(c.text);return console.log("Extraction complete. Parsed questions:",d),d}catch(d){throw console.error("Failed to parse JSON from Gemini response:",c.text,d),new Error("Could not parse the questions from the image.")}},QM=async n=>{const e=Op(n);if(e.length>0)return console.log(`[LocalParser] Parsed ${e.length} questions without API call.`),e;console.log("[Fallback] Calling Gemini API to extract questions from text...");const o=`Analiza el siguiente texto que contiene un examen tipo test de formato potencialmente heterogéneo. Extrae cada pregunta con:
            - id (secuencial empezando en 1)
            - pregunta (enunciado limpio SIN repetir número)
            - opciones (mapa {"A": "..."}) admitiendo 2 a 10 opciones.
            NO respondas soluciones.

            Detecta además (si aplica) y añade un subobjeto meta con flags booleanos: {"multi":true|false, "negative":true|false, "assertionReason":true|false, "matching":true|false}.
            multi si el enunciado pide seleccionar varias o dice "todas las que". negative si contiene EXCEPTO/NO/INCORRECTA/FALSA. assertionReason si incluye Aserción y Razón. matching si es relación de columnas.
            Devuelve SOLO JSON válido.
      
      Texto a analizar:
      ---
      ${n}
      ---

            Formato de Salida Requerido:
            [
                {
                    "id": 1,
                    "pregunta": "Enunciado limpio...",
                    "opciones": { "A": "Texto opción A", "B": "Texto opción B" },
                    "meta": { "multi": false, "negative": false }
                }
            ]
      
    Asegúrate de que el JSON esté perfectamente formado y listo para ser parseado. Enumera las preguntas secuencialmente empezando por id: 1.`,a=await Ra(()=>Ki.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{responseMimeType:"application/json",responseSchema:Rh}}),"extract-text");try{const c=JSON.parse(a.text);return console.log("Extraction complete. Parsed questions:",c),c}catch(c){throw console.error("Failed to parse JSON from Gemini response:",a.text,c),new Error("Could not parse the questions from the text.")}},Nh=async(n,e,o,a,c)=>{var y,h;const d={};for(const v of n)d[v.id]=[];const m={};for(const v of o){m[v]={};for(const C of n)m[v][C.id]=[]}if(c!=null&&c.concurrent){const v=[];for(const H of o){const z=an.find(Y=>Y.key===H);if(!z)continue;const J=z.maxPerTest||1;for(let Y=0;Y<J;Y++){const K=Y+1;v.push({run:async()=>{const P=`Responde cada pregunta devolviendo SOLO lineas "QID:<id> <LETRA>".

${n.map(ee=>{const ie=Object.entries(ee.opciones).map(([he,ne])=>`${he}) ${ne}`).join(`
`);return`QID:${ee.id}
${ee.pregunta}
${ie}`}).join(`

===

`)}`;try{const he=((await YM(G=>G.models.generateContent({model:z.model,contents:P,config:Bp(z.model,n.length)}),`mm-batch-conc-${e}-${z.key}`,z.model)).text||"").trim().split(/\r?\n/).map(G=>G.trim()).filter(Boolean),ne={};for(const G of he){const F=G.match(/^QID:(\d+)\s+([A-Z])/i);if(F){const X=parseInt(F[1],10),ue=F[2].toUpperCase();d[X]&&d[X].push(ue),m[z.key]&&m[z.key][X]&&m[z.key][X].push(ue),ne[X]=ue}}if(a&&a({modelKey:z.key,iteration:K,answers:ne}),c!=null&&c.earlyStopConfidence){const G=c.earlyStopConfidence;let F=!0;for(const X of n){const ue=d[X.id];if(!ue.length){F=!1;break}const $={};if(ue.forEach(V=>$[V]=($[V]||0)+1),Math.max(...Object.values($))/ue.length*100<G){F=!1;break}}F&&(v.length=0)}}catch(ee){console.warn("[multiModel][conc] fallo",z.model,ee)}}})}}const C=Math.max(1,c.concurrencyLimit||Aa.length||4);let S=0,M=0;await new Promise(H=>{const z=()=>{if(S>=v.length&&M===0)return H();for(;M<C&&S<v.length;){const J=v[S++];M++,J.run().finally(()=>{M--,z()})}};z()});const L={};for(const[H,z]of Object.entries(d))L[Number(H)]=z.length?z:["A"];return L.__perModel=m,L}for(const v of o){const C=an.find(M=>M.key===v);if(!C)continue;const S=C.maxPerTest||1;for(let M=0;M<S;M++){const H=`Responde cada pregunta devolviendo SOLO lineas "QID:<id> <LETRA>".

${n.map(z=>{const J=Object.entries(z.opciones).map(([Y,K])=>`${Y}) ${K}`).join(`
`);return`QID:${z.id}
${z.pregunta}
${J}`}).join(`

===

`)}`;try{const Y=((await Ra(()=>Ki.models.generateContent({model:C.model,contents:H,config:Bp(C.model,n.length)}),`mm-batch-${e}-${C.key}`,C.model)).text||"").trim().split(/\r?\n/).map(j=>j.trim()).filter(Boolean),K={};for(const j of Y){const P=j.match(/^QID:(\d+)\s+([A-Z])/i);if(P){const ee=parseInt(P[1],10),ie=P[2].toUpperCase();d[ee]&&d[ee].push(ie),m[C.key]&&m[C.key][ee]&&m[C.key][ee].push(ie),K[ee]=ie}}a&&a({modelKey:C.key,iteration:M+1,answers:K})}catch(z){if(console.warn(`[multiModel] fallo modelo ${C.model}:`,z),((y=z==null?void 0:z.error)==null?void 0:y.status)==="RESOURCE_EXHAUSTED"||/rate/i.test(String(z)))continue;if(((h=z==null?void 0:z.error)==null?void 0:h.status)==="INVALID_ARGUMENT"){try{const K=((await Ra(()=>Ki.models.generateContent({model:C.model,contents:H}),`mm-batch-fallback-${e}-${C.key}`,C.model)).text||"").trim().split(/\r?\n/).map(P=>P.trim()).filter(Boolean),j={};for(const P of K){const ee=P.match(/^QID:(\d+)\s+([A-Z])/i);if(ee){const ie=parseInt(ee[1],10),he=ee[2].toUpperCase();d[ie]&&d[ie].push(he),m[C.key]&&m[C.key][ie]&&m[C.key][ie].push(he),j[ie]=he}}a&&a({modelKey:C.key,iteration:M+1,answers:j})}catch{}break}else break}}}const g={};for(const[v,C]of Object.entries(d))g[Number(v)]=C.length?C:["A"];return g.__perModel=m,g};function Bp(n,e){const o=an.find(g=>g.model===n);if(!o)return{};if(o.thinkingMode==="none")return{};const c=8192*Math.max(1,Math.ceil((e||0)/20)),d=o.thinkingBudget||8192;return{thinkingConfig:{thinkingBudget:Math.min(24576,Math.max(d,c)),includeThoughts:!1}}}const Dh=[{key:Je.BASE,name:"Básica",description:"Pregunta directa al modelo (rápida).",cost:1},{key:Je.PERMUTATION_MIX,name:"Permutaciones Mixtas",description:"Baraja orden de preguntas y opciones para reducir sesgos.",cost:1},{key:Je.PIVOT_LANGUAGE,name:"Traducción Interna",description:"Traduce mentalmente al inglés y responde la letra final.",cost:1},{key:Je.CHAIN_OF_THOUGHT,name:"Razonamiento (CoT)",description:"Fuerza razonamiento interno antes de responder.",cost:1}],XM=({series:n,height:e=160,width:o=420})=>{Math.max(0,...n.map(g=>g.points.length));const a=24,c=o-a*2,d=e-a*2,m=[0,.25,.5,.75,1];return A.jsx("svg",{width:o,height:e,className:"overflow-visible",children:A.jsxs("g",{transform:`translate(${a},${a})`,children:[m.map(g=>A.jsxs("g",{children:[A.jsx("line",{x1:0,x2:c,y1:d-g*d,y2:d-g*d,stroke:"#334155",strokeWidth:1,strokeDasharray:"4 4"}),A.jsxs("text",{x:-6,y:d-g*d+4,textAnchor:"end",fontSize:10,fill:"#64748b",children:[Math.round(g*100),"%"]})]},g)),n.map(g=>{const y=g.points.map((h,v)=>{const C=v/Math.max(1,g.points.length-1)*c,S=d-h*d;return`${v===0?"M":"L"}${C},${S}`}).join(" ");return A.jsx("path",{d:y,fill:"none",stroke:g.color,strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round"},g.label)}),n.map(g=>g.points.map((y,h)=>{const v=h/Math.max(1,g.points.length-1)*c,C=d-y*d;return A.jsx("circle",{cx:v,cy:C,r:3,fill:g.color},g.label+":"+h)}))]})})},ZM=({items:n,height:e=160,width:o=420})=>{const c=o-48,d=e-48,m=Math.max(.01,...n.map(y=>Math.abs(y.value))),g=d/2;return A.jsx("svg",{width:o,height:e,className:"overflow-visible",children:A.jsxs("g",{transform:"translate(24,24)",children:[A.jsx("line",{x1:0,x2:c,y1:g,y2:g,stroke:"#475569",strokeWidth:1}),n.map((y,h)=>{const v=c/(n.length*1.4),C=v*.4,S=h*(v+C),M=y.value/m*(d/2-10),L=M<0?g:g-M,H=Math.abs(M);return A.jsxs("g",{children:[A.jsx("rect",{x:S,y:L,width:v,height:H,rx:3,fill:y.color}),A.jsxs("text",{x:S+v/2,y:L-4,textAnchor:"middle",fontSize:10,fill:"#94a3b8",children:[(y.value*100).toFixed(1),"%"]}),A.jsx("text",{x:S+v/2,y:d+10,textAnchor:"middle",fontSize:10,fill:"#64748b",children:y.label})]},y.label)})]})})},$M=()=>{const[n,e]=Ne.useState(""),[o,a]=Ne.useState(""),[c,d]=Ne.useState([]),[m,g]=Ne.useState([]),[y,h]=Ne.useState(1),[v,C]=Ne.useState(!1),[S,M]=Ne.useState([]),[L,H]=Ne.useState(()=>({[Je.BASE]:!0,[Je.PERMUTATION_MIX]:!0,[Je.PIVOT_LANGUAGE]:!0,[Je.CHAIN_OF_THOUGHT]:!1})),z=G=>M(F=>[...F,`[${new Date().toLocaleTimeString()}] ${G}`]),J=()=>{const G=Op(n);d(G),z(`Preguntas parseadas: ${G.length}`)},Y={};o.split(/\r?\n/).forEach(G=>{const F=G.trim().match(/^(\d+)\s*[=:\-]\s*([A-Za-z])/);F&&(Y[Number(F[1])]=F[2].toUpperCase())});const K=async()=>{if(!c.length){z("No hay preguntas.");return}C(!0),g([]),M([]);const G=an.filter(X=>X.enabledByDefault).map(X=>X.key),F=Object.keys(L).filter(X=>L[X]);z(`Modelos: ${G.join(", ")} | Estrategias: ${F.join(", ")}`);for(let X=1;X<=y;X++)for(const ue of F){z(`Iteración ${X} estrategia ${ue} inicio`);const $=performance.now();try{const D=(await Nh(c,ue,G,void 0,{concurrent:!0})).__perModel;for(const V of Object.keys(D)){const te={};Object.entries(D[V]).forEach(([le,x])=>{const q=x[x.length-1];q&&(te[Number(le)]=q)}),g(le=>[...le,{model:V,iteration:X,strategy:ue,durationMs:performance.now()-$,answers:te}])}}catch(W){z(`Error iter ${X} strat ${ue}: ${(W==null?void 0:W.message)||W}`)}}C(!1)},j={};m.filter(G=>G.strategy===Je.BASE).forEach(G=>{j[G.model]||(j[G.model]={correct:0,total:0}),Object.entries(G.answers).forEach(([F,X])=>{const ue=Y[Number(F)];ue&&(j[G.model].total++,ue===X&&j[G.model].correct++)})});const P=Ne.useMemo(()=>{if(!Object.keys(Y).length)return[];const G=[],F={};m.forEach($=>{const W=$.model+"::"+$.strategy;(F[W]||(F[W]=[])).push($)});const X={};m.filter($=>$.strategy===Je.BASE).forEach($=>{var W;(X[W=$.model]||(X[W]=[])).push($)});const ue=Array.from(new Set(m.map($=>$.strategy)));for(const $ of ue)if($!==Je.BASE)for(const W of Object.keys(X)){const D=X[W],V=m.filter(me=>me.model===W&&me.strategy===$);if(!V.length||!D.length)continue;let te=0,le=0,x=0,q=0,Q=0,Z=0;const se=Math.max(...D.map(me=>me.iteration),...V.map(me=>me.iteration));for(let me=1;me<=se;me++){const ce=D.find(Ee=>Ee.iteration===me),Pe=V.find(Ee=>Ee.iteration===me);!ce||!Pe||Object.keys(Y).forEach(Ee=>{const nt=Number(Ee),un=Y[nt],Ot=ce.answers[nt],cn=Pe.answers[nt];if(Ot&&(le++,Ot===un&&te++),cn&&(q++,cn===un&&x++),Ot&&cn){const ni=Ot===un,ii=cn===un;!ni&&ii&&Q++,ni&&!ii&&Z++}})}le>0&&q>0&&G.push({model:W,strategy:$,baseAccuracy:te/le,strategyAccuracy:x/q,delta:x/q-te/le,wins:Q,losses:Z})}return G.sort(($,W)=>W.delta-$.delta)},[m,o]),ee=Ne.useMemo(()=>{if(!c.length)return null;const G=m.filter(W=>W.strategy===Je.BASE);if(!G.length)return null;const F={};G.forEach(W=>{var D;return(F[D=W.iteration]||(F[D]=[])).push(W)});const X={};for(const W of Object.keys(F).map(Number)){const D=F[W],V={};D.forEach(te=>{Object.entries(te.answers).forEach(([le,x])=>{var q;(V[q=Number(le)]||(V[q]=[])).push(x)})}),Object.entries(V).forEach(([te,le])=>{const x={};le.forEach(Pe=>x[Pe]=(x[Pe]||0)+1);const Q=Math.max(...Object.values(x))/le.length,Z=-Object.values(x).reduce((Pe,Ee)=>{const nt=Ee/le.length;return Pe+(nt?nt*Math.log2(nt):0)},0),se=le.length>1?Z/Math.log2(Math.min(5,le.length)):0,me=Number(te),ce=X[me]||(X[me]={totalModels:0,majorityShare:0,entropy:0,samples:0});ce.totalModels=Math.max(ce.totalModels,le.length),ce.majorityShare+=Q,ce.entropy+=se,ce.samples+=1})}const ue={avgMajority:0,avgEntropy:0},$=Object.keys(X).map(Number);return $.forEach(W=>{const D=X[W];ue.avgMajority+=D.majorityShare/(D.samples||1),ue.avgEntropy+=D.entropy/(D.samples||1)}),$.length&&(ue.avgMajority/=$.length,ue.avgEntropy/=$.length),{perQuestion:X,global:ue}},[m,c]),ie=Ne.useMemo(()=>{if(!ee||!Object.keys(Y).length)return[];const G=Math.max(0,...m.filter($=>$.strategy===Je.BASE).map($=>$.iteration)),F=m.filter($=>$.strategy===Je.BASE&&$.iteration===G),X={};F.forEach($=>{Object.entries($.answers).forEach(([W,D])=>{var V;(X[V=Number(W)]||(X[V]=[])).push(D)})});const ue=[];return Object.keys(Y).forEach($=>{const W=Number($),D=Y[W],V=X[W]||[];if(!V.length)return;const te=V.filter(q=>q===D).length,le={};V.forEach(q=>le[q]=(le[q]||0)+1);const x=Math.max(...Object.values(le))/V.length;ue.push({qid:W,baseAccuracy:te/V.length,majorityShare:x})}),ue.sort(($,W)=>$.baseAccuracy-W.baseAccuracy).slice(0,5)},[m,o,ee]),he=Ne.useMemo(()=>{if(!Object.keys(Y).length)return[];const G={[Je.BASE]:"#6366f1",[Je.PERMUTATION_MIX]:"#10b981",[Je.PIVOT_LANGUAGE]:"#f59e0b",[Je.CHAIN_OF_THOUGHT]:"#ec4899"},F=[];return Array.from(new Set(m.map(ue=>ue.strategy))).forEach(ue=>{const $=[],W=m.filter(V=>V.strategy===ue),D=Math.max(0,...W.map(V=>V.iteration));for(let V=1;V<=D;V++){const te=W.filter(q=>q.iteration===V);let le=0,x=0;te.forEach(q=>{Object.entries(q.answers).forEach(([Q,Z])=>{const se=Y[Number(Q)];se&&(x++,se===Z&&le++)})}),$.push(x?le/x:0)}$.length&&F.push({label:ue,color:G[ue],points:$})}),F},[m,o]),ne=Ne.useMemo(()=>P.map(G=>({label:G.model+":"+G.strategy,value:G.delta,color:G.delta>=0?"#10b981":"#ef4444"})),[P]);return A.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 p-6",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Evaluación rápida"}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[A.jsxs("div",{className:"space-y-3",children:[A.jsx("h2",{className:"text-sm font-semibold uppercase text-slate-400",children:"Test"}),A.jsx("textarea",{value:n,onChange:G=>e(G.target.value),placeholder:"Pega tus preguntas...",className:"w-full h-64 bg-slate-800/70 border border-slate-600 rounded p-3 text-sm font-mono"}),A.jsx("button",{onClick:J,className:"px-4 py-2 rounded bg-indigo-600 hover:bg-indigo-500 text-sm font-semibold",children:"Parsear"}),A.jsxs("div",{className:"text-xs text-slate-400",children:["Preguntas: ",c.length]}),A.jsxs("label",{className:"flex flex-col text-xs gap-1 w-40",children:["Iteraciones",A.jsx("input",{type:"number",min:1,value:y,onChange:G=>h(Math.max(1,Number(G.target.value)||1)),className:"bg-slate-800 border border-slate-600 rounded px-2 py-1"})]}),A.jsxs("div",{className:"space-y-2 text-xs",children:[A.jsx("div",{className:"font-semibold text-slate-400 mt-4",children:"Estrategias"}),Dh.map(G=>A.jsxs("label",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"checkbox",checked:!!L[G.key],onChange:()=>H(F=>({...F,[G.key]:!F[G.key]}))}),A.jsx("span",{children:G.name})]},G.key))]}),A.jsx("button",{disabled:v,onClick:K,className:"px-4 py-2 rounded bg-purple-600 hover:bg-purple-500 disabled:opacity-40 text-sm font-semibold",children:v?"Ejecutando...":"Lanzar evaluación"})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("h2",{className:"text-sm font-semibold uppercase text-slate-400",children:"Answer Key (opcional)"}),A.jsx("textarea",{value:o,onChange:G=>a(G.target.value),placeholder:"1=A\\n2=C...",className:"w-full h-40 bg-slate-800/70 border border-slate-600 rounded p-3 text-sm font-mono"}),A.jsxs("div",{className:"text-xs text-slate-400",children:["Respuestas cargadas: ",Object.keys(Y).length]}),A.jsx("div",{className:"bg-slate-900/60 border border-slate-700 rounded p-3 text-xs max-h-40 overflow-auto",children:Object.entries(j).map(([G,F])=>A.jsxs("div",{children:[G,": ",F.total?(F.correct/F.total*100).toFixed(1):"0.0","% (",F.correct,"/",F.total,")"]},G))})]})]}),A.jsxs("div",{className:"mb-8 space-y-10",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-sm font-semibold uppercase text-slate-400 mb-2",children:"Resultados por iteración / estrategia"}),A.jsx("div",{className:"overflow-x-auto border border-slate-700 rounded",children:A.jsxs("table",{className:"min-w-full text-xs",children:[A.jsx("thead",{className:"bg-slate-800/60",children:A.jsxs("tr",{children:[A.jsx("th",{className:"p-2 text-left",children:"Iter"}),A.jsx("th",{className:"p-2 text-left",children:"Estrategia"}),A.jsx("th",{className:"p-2 text-left",children:"Modelo"}),A.jsx("th",{className:"p-2 text-left",children:"Duración (ms)"}),A.jsx("th",{className:"p-2 text-left",children:"Respuestas"})]})}),A.jsx("tbody",{children:m.map((G,F)=>A.jsxs("tr",{className:"border-t border-slate-700/50",children:[A.jsx("td",{className:"p-2",children:G.iteration}),A.jsx("td",{className:"p-2 font-mono",children:G.strategy}),A.jsx("td",{className:"p-2 font-mono",children:G.model}),A.jsx("td",{className:"p-2",children:G.durationMs.toFixed(0)}),A.jsx("td",{className:"p-2 font-mono whitespace-pre",children:Object.entries(G.answers).map(([X,ue])=>`Q${X}:${ue}`).join(" ")})]},F))})]})})]}),!!P.length&&A.jsxs("div",{children:[A.jsx("h2",{className:"text-sm font-semibold uppercase text-slate-400 mb-2",children:"Lift de estrategias (vs Base)"}),A.jsx("div",{className:"overflow-x-auto border border-slate-700 rounded",children:A.jsxs("table",{className:"min-w-full text-xs",children:[A.jsx("thead",{className:"bg-slate-800/60",children:A.jsxs("tr",{children:[A.jsx("th",{className:"p-2 text-left",children:"Modelo"}),A.jsx("th",{className:"p-2 text-left",children:"Estrategia"}),A.jsx("th",{className:"p-2 text-left",children:"Base %"}),A.jsx("th",{className:"p-2 text-left",children:"Strat %"}),A.jsx("th",{className:"p-2 text-left",children:"Δ (puntos)"}),A.jsx("th",{className:"p-2 text-left",children:"Wins"}),A.jsx("th",{className:"p-2 text-left",children:"Losses"}),A.jsx("th",{className:"p-2 text-left",children:"Net"})]})}),A.jsx("tbody",{children:P.map((G,F)=>A.jsxs("tr",{className:"border-t border-slate-700/50",children:[A.jsx("td",{className:"p-2 font-mono",children:G.model}),A.jsx("td",{className:"p-2 font-mono",children:G.strategy}),A.jsx("td",{className:"p-2",children:(G.baseAccuracy*100).toFixed(1)}),A.jsx("td",{className:"p-2",children:(G.strategyAccuracy*100).toFixed(1)}),A.jsx("td",{className:`p-2 ${G.delta>0?"text-emerald-400":G.delta<0?"text-rose-400":""}`,children:(G.delta*100).toFixed(1)}),A.jsx("td",{className:"p-2",children:G.wins}),A.jsx("td",{className:"p-2",children:G.losses}),A.jsx("td",{className:`p-2 ${G.wins-G.losses>0?"text-emerald-400":G.wins-G.losses<0?"text-rose-400":""}`,children:G.wins-G.losses})]},F))})]})})]}),ee&&A.jsxs("div",{children:[A.jsx("h2",{className:"text-sm font-semibold uppercase text-slate-400 mb-2",children:"Acuerdo inter-modelo (Base)"}),A.jsxs("div",{className:"text-xs text-slate-300 mb-2",children:["Promedio majority share: ",(ee.global.avgMajority*100).toFixed(1),"% | Entropía normalizada media: ",ee.global.avgEntropy.toFixed(3)]}),!!ie.length&&A.jsx("div",{className:"text-xs text-slate-400 mb-2",children:"Preguntas más difíciles (Base):"}),!!ie.length&&A.jsx("div",{className:"overflow-x-auto border border-slate-700 rounded mb-4",children:A.jsxs("table",{className:"min-w-full text-xs",children:[A.jsx("thead",{className:"bg-slate-800/60",children:A.jsxs("tr",{children:[A.jsx("th",{className:"p-2 text-left",children:"QID"}),A.jsx("th",{className:"p-2 text-left",children:"Acc Base %"}),A.jsx("th",{className:"p-2 text-left",children:"Majority %"})]})}),A.jsx("tbody",{children:ie.map(G=>A.jsxs("tr",{className:"border-t border-slate-700/50",children:[A.jsx("td",{className:"p-2",children:G.qid}),A.jsx("td",{className:"p-2",children:(G.baseAccuracy*100).toFixed(1)}),A.jsx("td",{className:"p-2",children:(G.majorityShare*100).toFixed(1)})]},G.qid))})]})})]}),!!he.length&&A.jsxs("div",{children:[A.jsx("h2",{className:"text-sm font-semibold uppercase text-slate-400 mb-2",children:"Curva de accuracy (promedio modelos)"}),A.jsxs("div",{className:"bg-slate-900/60 border border-slate-700 rounded p-4 overflow-x-auto",children:[A.jsx(XM,{series:he}),A.jsx("div",{className:"flex flex-wrap gap-4 mt-2 text-[10px] text-slate-400",children:he.map(G=>A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("span",{className:"w-3 h-3 rounded-full",style:{background:G.color}}),G.label]},G.label))})]})]}),!!ne.length&&A.jsxs("div",{children:[A.jsx("h2",{className:"text-sm font-semibold uppercase text-slate-400 mb-2",children:"Δ Accuracy estrategia vs Base"}),A.jsx("div",{className:"bg-slate-900/60 border border-slate-700 rounded p-4 overflow-x-auto",children:A.jsx(ZM,{items:ne})})]})]}),A.jsxs("div",{className:"mb-8",children:[A.jsx("h2",{className:"text-sm font-semibold uppercase text-slate-400 mb-2",children:"Log"}),A.jsx("div",{className:"bg-slate-900/60 border border-slate-700 rounded p-3 text-[11px] h-40 overflow-auto font-mono whitespace-pre-wrap",children:S.map((G,F)=>A.jsx("div",{children:G},F))})]})]})},Uh=({className:n="w-5 h-5"})=>A.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("circle",{cx:"12",cy:"12",r:"3"}),A.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.6c.21 0 .42-.04.62-.1A1.65 1.65 0 0 0 10.51 3H11a2 2 0 0 1 4 0v.09c0 .69.4 1.31 1.01 1.58.2.06.41.1.62.1a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9c0 .21.04.42.1.62.27.61.89 1.01 1.58 1.01H21a2 2 0 0 1 0 4h-.09c-.69 0-1.31.4-1.58 1.01-.06.2-.1.41-.1.62Z"})]}),WM=({activeModels:n,onToggle:e,open:o,onClose:a})=>A.jsxs("div",{className:`fixed top-0 right-0 h-full w-80 md:w-80 sm:w-72 backdrop-blur-xl bg-gradient-to-b from-slate-950/95 to-slate-900/95 border-l border-slate-700/60 shadow-2xl shadow-black/50 transform transition-all duration-500 ease-out z-40 flex flex-col ${o?"translate-x-0":"translate-x-full"}`,children:[A.jsx("div",{className:"absolute top-0 left-0 h-full w-px bg-gradient-to-b from-transparent via-indigo-500/40 to-transparent"}),A.jsxs("div",{className:"relative flex items-center gap-3 px-6 py-4 border-b border-slate-700/60 bg-gradient-to-r from-indigo-600/20 to-purple-600/20",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Uh,{className:"w-5 h-5 text-indigo-400"}),A.jsx("h3",{className:"text-slate-100 font-bold text-sm tracking-wide uppercase",children:"Configuración de Modelos"})]}),A.jsx("button",{onClick:a,className:"ml-auto text-slate-400 hover:text-slate-200 text-xl leading-none transition-all duration-200 hover:rotate-90 p-2 rounded-full hover:bg-slate-700/50","aria-label":"Cerrar panel",children:"×"})]}),A.jsx("div",{className:"p-4 space-y-3 overflow-y-auto flex-1 custom-scrollbar",children:an.map(c=>{const d=n[c.key]??!0;return A.jsxs("label",{className:`group flex items-start gap-3 p-4 rounded-xl cursor-pointer border text-sm transition-all backdrop-blur-sm hover:scale-[1.02] ${d?"bg-[linear-gradient(135deg,rgba(99,102,241,0.3),rgba(139,92,246,0.2)_50%,rgba(168,85,247,0.15))] border-indigo-400/70 shadow-[0_0_0_1px_rgba(99,102,241,0.4),0_8px_25px_-8px_rgba(99,102,241,0.6)]":"bg-slate-800/50 border-slate-600/50 hover:border-slate-500/80 hover:bg-slate-700/60"}`,children:[A.jsx("input",{type:"checkbox",checked:d,onChange:()=>e(c.key),className:"mt-1 accent-indigo-500 scale-125"}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsxs("div",{className:"font-semibold text-slate-100 leading-tight flex items-center gap-2 mb-1",children:[c.nombre,d&&A.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse shadow-sm shadow-emerald-400/50"})]}),A.jsxs("div",{className:"text-xs text-slate-400 tracking-wide font-mono bg-slate-900/30 px-2 py-1 rounded-md",children:[c.rpmLimit," RPM • máx ",c.maxPerTest," peticiones"]})]})]},c.key)})}),A.jsx("div",{className:"px-4 py-3 border-t border-slate-700/60 text-xs text-slate-400 bg-slate-800/30",children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),A.jsx("span",{children:"Se ejecuta automáticamente el máximo permitido por modelo."})]})})]}),jM=({className:n="w-5 h-5"})=>A.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),A.jsx("circle",{cx:"9",cy:"9",r:"2"}),A.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),eR=({className:n="w-5 h-5"})=>A.jsxs("svg",{className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),A.jsx("polyline",{points:"14,2 14,8 20,8"}),A.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),A.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),A.jsx("polyline",{points:"10,9 9,9 8,9"})]}),tR=({onImageSubmit:n,onTextSubmit:e,isLoading:o})=>{const[a,c]=Ne.useState("image"),[d,m]=Ne.useState(""),[g,y]=Ne.useState(!1),h=Ne.useCallback(M=>{if(M&&M.type.startsWith("image/")){const L=new FileReader;L.onloadend=()=>{n(L.result)},L.readAsDataURL(M)}},[n]),v=Ne.useCallback(M=>{M.preventDefault(),y(!1),M.dataTransfer.files&&M.dataTransfer.files[0]&&h(M.dataTransfer.files[0])},[h]),C=M=>{M.preventDefault(),y(!0)},S=()=>y(!1);return A.jsxs("div",{className:"w-full max-w-4xl mx-auto bg-slate-800/30 backdrop-blur-md rounded-2xl p-6 lg:p-8 border border-slate-700/60 shadow-2xl",children:[A.jsxs("div",{className:"flex mb-6 border-b border-slate-700/50",children:[A.jsxs("button",{onClick:()=>c("image"),className:`px-6 py-3 text-sm font-semibold transition-all duration-300 flex items-center gap-2 ${a==="image"?"text-indigo-400 border-b-2 border-indigo-400 bg-indigo-500/10":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/30"} rounded-t-lg`,children:[A.jsx(jM,{className:"w-4 h-4"}),"Subir Imagen"]}),A.jsxs("button",{onClick:()=>c("text"),className:`px-6 py-3 text-sm font-semibold transition-all duration-300 flex items-center gap-2 ${a==="text"?"text-purple-400 border-b-2 border-purple-400 bg-purple-500/10":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/30"} rounded-t-lg`,children:[A.jsx(eR,{className:"w-4 h-4"}),"Pegar Texto"]})]}),a==="image"?A.jsxs("div",{onDrop:v,onDragOver:C,onDragLeave:S,className:`relative flex flex-col items-center justify-center w-full h-56 lg:h-64 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 ${g?"border-indigo-400 bg-indigo-500/10 scale-[1.01]":"border-slate-600 hover:bg-slate-700/30 hover:border-slate-500"}`,children:[A.jsx("input",{type:"file",id:"file-upload",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:M=>h(M.target.files?M.target.files[0]:null),accept:"image/*",disabled:o}),A.jsxs("div",{className:"text-center space-y-4",children:[A.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:A.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),A.jsxs("div",{children:[A.jsxs("p",{className:"text-lg font-semibold text-slate-200",children:[A.jsx("span",{className:"text-indigo-400",children:"Haz clic para subir"})," o arrastra y suelta"]}),A.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"PNG, JPG, GIF hasta 10MB"})]})]})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsx("textarea",{className:"w-full h-48 lg:h-56 p-4 lg:p-6 bg-slate-900/50 border border-slate-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 text-slate-100 placeholder-slate-400 backdrop-blur-sm",placeholder:"Pega aquí el contenido del test con preguntas y opciones...",value:d,onChange:M=>m(M.target.value),disabled:o}),A.jsx("div",{className:"flex justify-center",children:A.jsx("button",{onClick:()=>e(d),disabled:o||!d.trim(),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed text-white font-bold py-3 px-8 rounded-xl transition-all duration-300 hover:scale-105 disabled:scale-100 shadow-lg shadow-purple-900/30",children:o?"Procesando...":"Analizar Texto"})})]})]})},nR=({className:n})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),iR=({question:n,result:e})=>{const o=Object.values(e.votes).flat().length,a=Math.min(o/(e.expectedVotes||1)*100,100),c=m=>{const g=e.votes[m]||[],y=e.expectedVotes?g.length/e.expectedVotes*100:0;return{count:g.length,percentage:y}},d=(e.confidence||0)>50;return A.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-slate-700/60 rounded-xl p-4 lg:p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:border-slate-600/80",children:[A.jsxs("div",{className:"flex flex-wrap items-start justify-between mb-3 gap-3",children:[A.jsxs("div",{children:[A.jsxs("h3",{className:"text-base lg:text-lg font-semibold text-slate-200 leading-tight mb-1",children:["Pregunta ",n.id]}),n.meta&&A.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.meta.multi&&A.jsx("span",{className:"px-2 py-0.5 rounded bg-indigo-500/20 text-indigo-300 text-[10px] font-semibold tracking-wide border border-indigo-500/40",children:"MULTI"}),n.meta.negative&&A.jsx("span",{className:"px-2 py-0.5 rounded bg-pink-500/20 text-pink-300 text-[10px] font-semibold tracking-wide border border-pink-500/40",children:"NEGATIVA"}),n.meta.assertionReason&&A.jsx("span",{className:"px-2 py-0.5 rounded bg-amber-500/20 text-amber-300 text-[10px] font-semibold tracking-wide border border-amber-500/40",children:"ASERCIÓN-RAZÓN"}),n.meta.matching&&A.jsx("span",{className:"px-2 py-0.5 rounded bg-fuchsia-500/20 text-fuchsia-300 text-[10px] font-semibold tracking-wide border border-fuchsia-500/40",children:"RELACIÓN"})]})]}),A.jsx("div",{className:"flex items-center gap-2 ml-auto",children:e.isResolved&&A.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${d?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/40":"bg-amber-500/20 text-amber-300 border border-amber-500/40"}`,children:[A.jsx(nR,{className:"w-3 h-3"}),Math.round(e.confidence||0),"%"]})})]}),A.jsx("p",{className:"text-slate-300 mb-6 leading-relaxed text-sm lg:text-base",children:n.pregunta}),A.jsx("div",{className:"space-y-3",children:Object.entries(n.opciones).map(([m,g])=>{const y=c(m),h=e.finalAnswer===m;return A.jsxs("div",{className:`relative p-3 lg:p-4 rounded-lg border transition-all duration-300 ${h&&d?"bg-gradient-to-r from-emerald-500/20 to-emerald-600/10 border-emerald-500/60 shadow-lg shadow-emerald-900/20":h?"bg-gradient-to-r from-amber-500/20 to-amber-600/10 border-amber-500/60":"bg-slate-700/30 border-slate-600/50 hover:border-slate-500/70"}`,children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsxs("span",{className:"font-medium text-slate-200 text-sm lg:text-base",children:[m,") ",g]}),y.count>0&&A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:[y.count," votos"]}),A.jsxs("span",{className:`text-xs font-semibold ${h&&d?"text-emerald-300":"text-slate-400"}`,children:[Math.round(y.percentage),"%"]})]})]}),y.count>0&&A.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:A.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${h&&d?"bg-gradient-to-r from-emerald-500 to-emerald-400":h?"bg-gradient-to-r from-amber-500 to-amber-400":"bg-gradient-to-r from-slate-500 to-slate-400"}`,style:{width:`${Math.min(y.percentage,100)}%`}})})]},m)})}),A.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:[A.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 mb-2",children:[A.jsx("span",{children:"Progreso del análisis"}),A.jsxs("span",{children:[Math.round(a),"%"]})]}),A.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-2",children:A.jsx("div",{className:"h-2 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-500",style:{width:`${a}%`}})})]})]})},oR=({questions:n,results:e})=>{const o=Object.values(e).filter(d=>d.isResolved).length,a=n.length,c=a>0?o/a*100:0;return A.jsxs("div",{className:"w-full max-w-6xl mx-auto space-y-6 lg:space-y-8",children:[A.jsxs("div",{className:"text-center space-y-4",children:[A.jsx("h2",{className:"text-2xl lg:text-3xl font-bold bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:"Resultados del Análisis"}),A.jsxs("div",{className:"bg-slate-800/30 backdrop-blur-sm border border-slate-700/60 rounded-xl p-4 lg:p-6 shadow-xl",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsxs("div",{className:"text-left",children:[A.jsx("p",{className:"text-sm text-slate-400",children:"Progreso General"}),A.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-slate-200",children:[o," de ",a," completadas"]})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-sm text-slate-400",children:"Precisión"}),A.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-indigo-400",children:[Math.round(c),"%"]})]})]}),A.jsx("div",{className:"w-full bg-slate-700/50 rounded-full h-3",children:A.jsx("div",{className:"h-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full transition-all duration-700",style:{width:`${c}%`}})})]})]}),A.jsx("div",{className:"space-y-6",children:n.map(d=>A.jsx(iR,{question:d,result:e[d.id]||{votes:{},isResolved:!1,expectedVotes:0}},d.id))})]})},lR=({className:n})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.178a3.375 3.375 0 002.456 2.456L20.5 17.25l-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),aR=()=>{const[n,e]=Ne.useState(at.IDLE),[o,a]=Ne.useState([]),[c,d]=Ne.useState({});Dh.map(J=>J.key);const[m,g]=Ne.useState(()=>Object.fromEntries(an.map(J=>[J.key,J.enabledByDefault!==!1&&J.enabledByDefault!==void 0?J.enabledByDefault:!1]))),[y,h]=Ne.useState(!1),[v,C]=Ne.useState(null),S=Ne.useCallback(async J=>{var Y,K,j;C(null),e(at.PARSING),a([]),d({});try{const P=await J();if(!P||P.length===0)throw new Error("No questions could be extracted.");a(P);const ee={},ie=an.filter(F=>m[F.key]).map(F=>F.key),he=an.filter(F=>m[F.key]).reduce((F,X)=>F+Math.max(X.maxPerTest||0,0),0);P.forEach(F=>{ee[F.id]={votes:{},isResolved:!1,expectedVotes:he}}),d(ee),e(at.SOLVING);const ne=await Nh(P,Je.BASE,ie,({answers:F})=>{Object.entries(F).forEach(([X,ue])=>{const $=Number(X);d(W=>{if(!W[$])return W;const D=JSON.parse(JSON.stringify(W)),V=D[$];V.votes=V.votes||{},V.votes[ue]||(V.votes[ue]=[]),V.votes[ue].push("v");const te=Object.values(V.votes).reduce((q,Q)=>q+Q.length,0);let le=0,x="";for(const[q,Q]of Object.entries(V.votes))Q.length>le&&(le=Q.length,x=q);return V.finalAnswer=x||void 0,V.confidence=le/(V.expectedVotes||1)*100,te===V.expectedVotes&&(V.isResolved=!0),D})})},{concurrent:!0});Object.entries(ne).forEach(([F,X])=>{const ue=Number(F),$=Array.isArray(X)?X:[X];d(W=>{if(!W[ue])return W;const D=JSON.parse(JSON.stringify(W)),V=D[ue];V.votes=V.votes||{};const te=Object.values(V.votes).reduce((x,q)=>x+q.length,0);if(te<$.length){const x=$.length-te;for(let q=0;q<x;q++){const Q=$[q%$.length];V.votes[Q]||(V.votes[Q]=[]),V.votes[Q].push("v")}}if(Object.values(V.votes).reduce((x,q)=>x+q.length,0)===V.expectedVotes){V.isResolved=!0;let x=0,q="";for(const[Q,Z]of Object.entries(V.votes))Z.length>x&&(x=Z.length,q=Q);V.finalAnswer=q,V.confidence=x/(V.expectedVotes||1)*100}return D})}),d(F=>{const X=JSON.parse(JSON.stringify(F));for(const ue of P){const $=X[ue.id];if(!$)continue;if(Object.values($.votes).reduce((D,V)=>D+V.length,0)===($.expectedVotes||0)){$.isResolved=!0;let D=0,V="";for(const[te,le]of Object.entries($.votes))le.length>D&&(D=le.length,V=te);$.finalAnswer=V,$.confidence=D/($.expectedVotes||1)*100}else{let D=0,V="";for(const[te,le]of Object.entries($.votes))le.length>D&&(D=le.length,V=te);$.finalAnswer=V||void 0,$.confidence=D/($.expectedVotes||1)*100}}return X});const G=JM();console.log("[Gemini Usage Summary]",G),e(at.RESULTS)}catch(P){console.error("[ProcessTest] Error completo:",P);const ee=((Y=P==null?void 0:P.error)==null?void 0:Y.status)||(P==null?void 0:P.status)||(P==null?void 0:P.code),ie=(P instanceof Error?P.message:typeof P=="string"?P:"")||"";if(ee===429||ee==="RESOURCE_EXHAUSTED"||/quota|exceeded|RESOURCE_EXHAUSTED/i.test(ie)){let ne=20;try{const G=(j=(K=P==null?void 0:P.error)==null?void 0:K.details)==null?void 0:j.find(F=>{var X;return(X=F["@type"])==null?void 0:X.includes("RetryInfo")});if(G!=null&&G.retryDelay){const F=String(G.retryDelay).match(/(\d+)s/);F&&(ne=parseInt(F[1],10)||ne)}}catch{}C(`Límite temporal de la API alcanzado. Espera ~${ne}s y vuelve a intentarlo. (Se están rotando claves internamente).`)}else{let ne=ie.replace(/\s+/g," ").trim();ne.length>260&&(ne=ne.slice(0,260)+"…"),ne||(ne="Ha ocurrido un error inesperado."),C(ne)}e(at.IDLE)}},[m]),M=Ne.useCallback(J=>{S(()=>KM(J))},[S]),L=Ne.useCallback(J=>{S(()=>QM(J))},[S]),H=Ne.useMemo(()=>n===at.PARSING||n===at.SOLVING,[n]),z=()=>{e(at.IDLE),a([]),d({}),C(null)};if(typeof window<"u"){const J=window.location.pathname;if(J.startsWith("/admin"))return A.jsx(dv,{});if(J.startsWith("/eval"))return A.jsx($M,{})}return A.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950 text-slate-100 relative overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(120,119,198,0.3),rgba(255,255,255,0))]"}),A.jsx("div",{className:"absolute top-0 left-1/4 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl"}),A.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl"}),A.jsx("div",{className:"relative z-10 min-h-screen p-4 sm:p-6 lg:p-8",children:A.jsxs("main",{className:`container mx-auto max-w-6xl transition-all duration-300 ${y?"pr-0 md:pr-80":""}`,children:[A.jsx("header",{className:"text-center mb-8 lg:mb-12 pt-20",children:A.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 flex items-center justify-center gap-3 mb-2",children:[A.jsx(lR,{className:"w-10 h-10 lg:w-12 lg:h-12 text-indigo-400"}),"TestResolver"]})}),v&&A.jsxs("div",{className:"max-w-2xl mx-auto bg-gradient-to-r from-red-500/20 to-pink-500/20 border border-red-500/60 text-red-200 px-6 py-4 rounded-xl mb-8 text-center backdrop-blur-sm shadow-lg",children:[A.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[A.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full animate-pulse"}),A.jsx("span",{className:"font-semibold",children:"Error"})]}),v]}),n===at.IDLE&&A.jsx("div",{className:"space-y-8",children:A.jsx(tR,{onImageSubmit:M,onTextSubmit:L,isLoading:H})}),(n===at.PARSING||n===at.SOLVING)&&A.jsxs("div",{className:"text-center py-16",children:[A.jsx("div",{className:"inline-flex items-center justify-center mb-6",children:A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-12 w-12 text-indigo-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),A.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-slate-200 mb-4",children:n===at.PARSING?"Analizando y extrayendo preguntas...":"Resolviendo con modelos..."}),A.jsx("p",{className:"text-slate-400 text-lg",children:"Por favor espera mientras procesamos tu test..."}),A.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2",children:[A.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-bounce"}),A.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),A.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]}),o.length>0&&(n===at.SOLVING||n===at.RESULTS)&&A.jsxs("div",{className:"space-y-8",children:[A.jsx(oR,{questions:o,results:c}),n===at.RESULTS&&A.jsx("div",{className:"text-center",children:A.jsx("button",{onClick:z,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold py-3 px-8 rounded-xl transition-all duration-300 hover:scale-105 shadow-lg shadow-indigo-900/30",children:"Resolver otro test"})})]}),!y&&A.jsx("button",{onClick:()=>h(!0),className:"fixed top-8 right-6 z-50 group bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white p-3 rounded-full shadow-2xl shadow-indigo-900/40 transition-all duration-300 hover:scale-110 backdrop-blur-sm border border-white/10","aria-label":"Abrir configuración de modelos",children:A.jsx(Uh,{className:"w-5 h-5 transition-transform duration-300 group-hover:rotate-90"})}),y&&A.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-30",onClick:()=>h(!1)}),A.jsx(WM,{open:y,onClose:()=>h(!1),activeModels:m,onToggle:J=>g(Y=>({...Y,[J]:!Y[J]}))})]})})]})},Ih=document.getElementById("root");if(!Ih)throw new Error("Could not find root element to mount to");const sR=fv.createRoot(Ih);sR.render(A.jsx(iv.StrictMode,{children:A.jsx(aR,{})}));
